## âŒ AgentForge Conformance Report

### Summary

| Metric | Value |
|--------|-------|
| Mode | full |
| Files Checked | 0 |
| Checks Run | 316 |
| Total Violations | 10121 |
| Errors | 129 |
| Warnings | 3431 |
| Duration | 0.15s |

### All Violations

<details>
<summary>View all 10121 violations in 994 files</summary>

**`.env`** (3 violations)

- ğŸ”´ **no-env-files** at `file`
  - Forbidden file exists: '.env'
  - ğŸ’¡ *Add .env files to .gitignore and use .env.example instead*
- ğŸ”´ **no-env-files-committed** at `file`
  - Forbidden file exists: '.env'
  - ğŸ’¡ *Add .env to .gitignore (use .env.example for templates)*
- ğŸ”´ **no-env-files-committed** at `file`
  - Forbidden file exists: '.env'
  - ğŸ’¡ *Add .env to .gitignore (use .env.example for templates)*

**`.hypothesis/constants/7e99b71629c2114d`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L4`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`<runtime>`** (3 violations)

- ğŸ”´ **test-docstrings** at `file`
  - Check execution failed: cannot import name 'CheckResult' from 'agentforge.core.contracts' (/Users/sean/source/tools/agentforge/src/agentforge/core/contracts/__init__.py)
- ğŸ”´ **public-functions-typed** at `file`
  - Check execution failed: cannot import name 'CheckResult' from 'agentforge.core.contracts' (/Users/sean/source/tools/agentforge/src/agentforge/core/contracts/__init__.py)
- ğŸ”´ **no-any-return** at `file`
  - Check execution failed: cannot import name 'CheckResult' from 'agentforge.core.contracts' (/Users/sean/source/tools/agentforge/src/agentforge/core/contracts/__init__.py)

**`<unknown>`** (139 violations)

- ğŸ”´ **domain-purity** at `file`
  - Function 'domain_purity' not found in builtin_checks
- ğŸ”´ **layer-dependency-violations** at `file`
  - Function 'layer_imports' not found in builtin_checks
- ğŸ”´ **no-circular-imports** at `file`
  - Function 'circular_imports' not found in builtin_checks
- ğŸ”´ **constructor-injection-required** at `file`
  - Function 'constructor_injection' not found in builtin_checks
- ğŸ”´ **require-tools-init** at `file`
  - Unknown check type: None
- ğŸ”´ **require-schemas-dir** at `file`
  - Unknown check type: None
- ğŸ”´ **missing-lineage** at `file`
  - Unknown check type: None
- ğŸŸ¡ **mypy-standard** at `file`
  - Command not found: mypy
- ğŸŸ¡ **bandit-scan** at `file`
  - Command failed with exit code 1: [main]	INFO	profile include tests: None
[main]	INFO	profile exclude tests: None
[main]	INFO	cli include tests: None
[main]	INFO	cli exclude tests: None
[main]	INFO	running on Python 3.11.14

  - ğŸ’¡ *Fix security issues identified by bandit*
- ğŸ”µ **ruff-format** at `file`
  - Command failed with exit code 1: Would reformat: execute.py
Would reformat: run_contract.py
Would reformat: run_contract_commands.py
Would reformat: src/agentforge/cli/click_commands/__init__.py
Would reformat: src/agentforge/cli/click_commands/agent.py
Would reformat: src/agentforge/cli/click_commands/bridge.py
Would reformat: src/agentforge/cli/click_commands/ci.py
Would reformat: src/agentforge/cli/click_commands/config.py
Would reformat: src/agentforge/cli/click_commands/conformance.py
Would reformat: src/agentforge/cli/click_commands/contracts.py
Would reformat: src/agentforge/cli/click_commands/discover.py
Would reformat: src/agentforge/cli/click_commands/generate.py
Would reformat: src/agentforge/cli/click_commands/pipeline.py
Would reformat: src/agentforge/cli/click_commands/spec.py
Would reformat: src/agentforge/cli/click_commands/tdflow.py
Would reformat: src/agentforge/cli/click_commands/utility.py
Would reformat: src/agentforge/cli/click_commands/workspace.py
Would reformat: src/agentforge/cli/commands/agent.py
Would reformat: src/agentforge/cli/commands/bridge.py
Would reformat: src/agentforge/cli/commands/ci.py
Would reformat: src/agentforge/cli/commands/config.py
Would reformat: src/agentforge/cli/commands/conformance.py
Would reformat: src/agentforge/cli/commands/conformance_formatters.py
Would reformat: src/agentforge/cli/commands/context.py
Would reformat: src/agentforge/cli/commands/contracts.py
Would reformat: src/agentforge/cli/commands/discover.py
Would reformat: src/agentforge/cli/commands/revision.py
Would reformat: src/agentforge/cli/commands/revision_apply.py
Would reformat: src/agentforge/cli/commands/spec.py
Would reformat: src/agentforge/cli/commands/spec_adapt.py
Would reformat: src/agentforge/cli/commands/tdflow.py
Would reformat: src/agentforge/cli/commands/verify.py
Would reformat: src/agentforge/cli/commands/workspace.py
Would reformat: src/agentforge/cli/core.py
Would reformat: src/agentforge/cli/helpers.py
Would reformat: src/agentforge/cli/main.py
Would reformat: src/agentforge/cli/parser.py
Would reformat: src/agentforge/cli/render.py
Would reformat: src/agentforge/core/analyze_structure.py
Would reformat: src/agentforge/core/audit/context_frame.py
Would reformat: src/agentforge/core/audit/conversation_archive.py
Would reformat: src/agentforge/core/audit/frame_logger.py
Would reformat: src/agentforge/core/audit/integrity_chain.py
Would reformat: src/agentforge/core/audit/thread_correlator.py
Would reformat: src/agentforge/core/bridge/conflict_resolver.py
Would reformat: src/agentforge/core/bridge/contract_builder.py
Would reformat: src/agentforge/core/bridge/domain.py
Would reformat: src/agentforge/core/bridge/mappings/architecture.py
Would reformat: src/agentforge/core/bridge/mappings/base.py
Would reformat: src/agentforge/core/bridge/mappings/conventions.py
Would reformat: src/agentforge/core/bridge/mappings/cqrs.py
Would reformat: src/agentforge/core/bridge/mappings/registry.py
Would reformat: src/agentforge/core/bridge/mappings/repository.py
Would reformat: src/agentforge/core/bridge/orchestrator.py
Would reformat: src/agentforge/core/bridge/profile_loader.py
Would reformat: src/agentforge/core/builtin_checks.py
Would reformat: src/agentforge/core/builtin_checks_architecture.py
Would reformat: src/agentforge/core/builtin_checks_architecture_helpers.py
Would reformat: src/agentforge/core/cicd/baseline.py
Would reformat: src/agentforge/core/cicd/domain.py
Would reformat: src/agentforge/core/cicd/platforms/azure.py
Would reformat: src/agentforge/core/cicd/platforms/github.py
Would reformat: src/agentforge/core/cicd/runner.py
Would reformat: src/agentforge/core/code_chunker.py
Would reformat: src/agentforge/core/command_runner.py
Would reformat: src/agentforge/core/conformance/domain.py
Would reformat: src/agentforge/core/conformance/history_store.py
Would reformat: src/agentforge/core/conformance/manager.py
Would reformat: src/agentforge/core/conformance/stores.py
Would reformat: src/agentforge/core/context/agent_config.py
Would reformat: src/agentforge/core/context/audit.py
Would reformat: src/agentforge/core/context/compaction.py
Would reformat: src/agentforge/core/context/fingerprint.py
Would reformat: src/agentforge/core/context/templates/__init__.py
Would reformat: src/agentforge/core/context/templates/base.py
Would reformat: src/agentforge/core/context/templates/bridge.py
Would reformat: src/agentforge/core/context/templates/code_review.py
Would reformat: src/agentforge/core/context/templates/discovery.py
Would reformat: src/agentforge/core/context/templates/fix_violation.py
Would reformat: src/agentforge/core/context/templates/implement_feature.py
Would reformat: src/agentforge/core/context/templates/refactor.py
Would reformat: src/agentforge/core/context/templates/write_tests.py
Would reformat: src/agentforge/core/context_assembler.py
Would reformat: src/agentforge/core/context_assembler_types.py
Would reformat: src/agentforge/core/context_retrieval.py
Would reformat: src/agentforge/core/context_retrieval_cli.py
Would reformat: src/agentforge/core/contract_runner.py
Would reformat: src/agentforge/core/contract_validator.py
Would reformat: src/agentforge/core/contract_validator_types.py
Would reformat: src/agentforge/core/contracts/cli.py
Would reformat: src/agentforge/core/contracts/draft.py
Would reformat: src/agentforge/core/contracts/drafter.py
Would reformat: src/agentforge/core/contracts/enforcer.py
Would reformat: src/agentforge/core/contracts/evolution.py
Would reformat: src/agentforge/core/contracts/operations/loader.py
Would reformat: src/agentforge/core/contracts/operations/verifier.py
Would reformat: src/agentforge/core/contracts/registry.py
Would reformat: src/agentforge/core/contracts/reviewer.py
Would reformat: src/agentforge/core/contracts.py
Would reformat: src/agentforge/core/contracts_ast.py
Would reformat: src/agentforge/core/contracts_execution.py
Would reformat: src/agentforge/core/contracts_lsp.py
Would reformat: src/agentforge/core/contracts_registry.py
Would reformat: src/agentforge/core/contracts_types.py
Would reformat: src/agentforge/core/discovery/analyzers/interactions.py
Would reformat: src/agentforge/core/discovery/analyzers/patterns.py
Would reformat: src/agentforge/core/discovery/analyzers/structure.py
Would reformat: src/agentforge/core/discovery/analyzers/test_linkage.py
Would reformat: src/agentforge/core/discovery/domain.py
Would reformat: src/agentforge/core/discovery/generators/as_built_spec.py
Would reformat: src/agentforge/core/discovery/generators/lineage_embedder.py
Would reformat: src/agentforge/core/discovery/generators/profile.py
Would reformat: src/agentforge/core/discovery/manager.py
Would reformat: src/agentforge/core/discovery/providers/__init__.py
Would reformat: src/agentforge/core/discovery/providers/base.py
Would reformat: src/agentforge/core/discovery/providers/dotnet_provider.py
Would reformat: src/agentforge/core/discovery/providers/python_provider.py
Would reformat: src/agentforge/core/discovery/zones/detector.py
Would reformat: src/agentforge/core/discovery/zones/merger.py
Would reformat: src/agentforge/core/embedding_providers.py
Would reformat: src/agentforge/core/generate/__init__.py
Would reformat: src/agentforge/core/generate/parser.py
Would reformat: src/agentforge/core/generate/prompt_builder.py
Would reformat: src/agentforge/core/generate/provider.py
Would reformat: src/agentforge/core/generate/writer.py
Would reformat: src/agentforge/core/harness/action_parser.py
Would reformat: src/agentforge/core/harness/agent_monitor.py
Would reformat: src/agentforge/core/harness/agent_orchestrator.py
Would reformat: src/agentforge/core/harness/agent_prompt_builder.py
Would reformat: src/agentforge/core/harness/auto_fix_daemon.py
Would reformat: src/agentforge/core/harness/checkpoint_manager.py
Would reformat: src/agentforge/core/harness/conformance_tools.py
Would reformat: src/agentforge/core/harness/escalation_domain.py
Would reformat: src/agentforge/core/harness/escalation_manager.py
Would reformat: src/agentforge/core/harness/escalation_notifier.py
Would reformat: src/agentforge/core/harness/execution_context_store.py
Would reformat: src/agentforge/core/harness/fix_violation_workflow.py
Would reformat: src/agentforge/core/harness/git_tools.py
Would reformat: src/agentforge/core/harness/llm_executor.py
Would reformat: src/agentforge/core/harness/llm_executor_domain.py
Would reformat: src/agentforge/core/harness/memory_domain.py
Would reformat: src/agentforge/core/harness/memory_manager.py
Would reformat: src/agentforge/core/harness/memory_store.py
Would reformat: src/agentforge/core/harness/minimal_context/adaptive_budget.py
Would reformat: src/agentforge/core/harness/minimal_context/context_models.py
Would reformat: src/agentforge/core/harness/minimal_context/executor.py
Would reformat: src/agentforge/core/harness/minimal_context/fix_workflow.py
Would reformat: src/agentforge/core/harness/minimal_context/loop_detector.py
Would reformat: src/agentforge/core/harness/minimal_context/native_tool_executor.py
Would reformat: src/agentforge/core/harness/minimal_context/phase_machine.py
Would reformat: src/agentforge/core/harness/minimal_context/state_store.py
Would reformat: src/agentforge/core/harness/minimal_context/step_outcome.py
Would reformat: src/agentforge/core/harness/minimal_context/template_context_builder.py
Would reformat: src/agentforge/core/harness/minimal_context/tool_handlers/__init__.py
Would reformat: src/agentforge/core/harness/minimal_context/tool_handlers/file_handlers.py
Would reformat: src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py
Would reformat: src/agentforge/core/harness/minimal_context/tool_handlers/terminal_handlers.py
Would reformat: src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py
Would reformat: src/agentforge/core/harness/minimal_context/understanding.py
Would reformat: src/agentforge/core/harness/minimal_context/working_memory.py
Would reformat: src/agentforge/core/harness/orchestrator_domain.py
Would reformat: src/agentforge/core/harness/python_tools.py
Would reformat: src/agentforge/core/harness/recovery_domain.py
Would reformat: src/agentforge/core/harness/recovery_executor.py
Would reformat: src/agentforge/core/harness/refactoring_tools.py
Would reformat: src/agentforge/core/harness/rollback_manager.py
Would reformat: src/agentforge/core/harness/session_manager.py
Would reformat: src/agentforge/core/harness/test_runner_tools.py
Would reformat: src/agentforge/core/harness/tool_domain.py
Would reformat: src/agentforge/core/harness/tool_executor_bridge.py
Would reformat: src/agentforge/core/harness/tool_registry.py
Would reformat: src/agentforge/core/harness/tool_selector.py
Would reformat: src/agentforge/core/harness/violation_tools.py
Would reformat: src/agentforge/core/init.py
Would reformat: src/agentforge/core/llm/factory.py
Would reformat: src/agentforge/core/llm/interface.py
Would reformat: src/agentforge/core/llm/recording.py
Would reformat: src/agentforge/core/llm/simulated.py
Would reformat: src/agentforge/core/llm/tools.py
Would reformat: src/agentforge/core/lsp_adapter.py
Would reformat: src/agentforge/core/lsp_adapter_cli.py
Would reformat: src/agentforge/core/lsp_adapters.py
Would reformat: src/agentforge/core/lsp_client.py
Would reformat: src/agentforge/core/lsp_types.py
Would reformat: src/agentforge/core/output_validator.py
Would reformat: src/agentforge/core/pipeline/config.py
Would reformat: src/agentforge/core/pipeline/controller.py
Would reformat: src/agentforge/core/pipeline/discovery_integration.py
Would reformat: src/agentforge/core/pipeline/escalation.py
Would reformat: src/agentforge/core/pipeline/registry.py
Would reformat: src/agentforge/core/pipeline/schemas.py
Would reformat: src/agentforge/core/pipeline/stages/analyze.py
Would reformat: src/agentforge/core/pipeline/stages/clarify.py
Would reformat: src/agentforge/core/pipeline/stages/deliver.py
Would reformat: src/agentforge/core/pipeline/stages/green.py
Would reformat: src/agentforge/core/pipeline/stages/intake.py
Would reformat: src/agentforge/core/pipeline/stages/red.py
Would reformat: src/agentforge/core/pipeline/stages/refactor.py
Would reformat: src/agentforge/core/pipeline/stages/spec.py
Would reformat: src/agentforge/core/pipeline/state.py
Would reformat: src/agentforge/core/pipeline/validator.py
Would reformat: src/agentforge/core/pyright_runner.py
Would reformat: src/agentforge/core/refactoring/base.py
Would reformat: src/agentforge/core/refactoring/rope_provider.py
Would reformat: src/agentforge/core/spec/__init__.py
Would reformat: src/agentforge/core/spec/placement.py
Would reformat: src/agentforge/core/tdflow/phases/green.py
Would reformat: src/agentforge/core/tdflow/phases/red.py
Would reformat: src/agentforge/core/tdflow/session.py
Would reformat: src/agentforge/core/validate_schema.py
Would reformat: src/agentforge/core/vector_search.py
Would reformat: src/agentforge/core/vector_types.py
Would reformat: src/agentforge/core/verification_ast.py
Would reformat: src/agentforge/core/verification_checks.py
Would reformat: src/agentforge/core/verification_contracts_check.py
Would reformat: src/agentforge/core/verification_reports.py
Would reformat: src/agentforge/core/verification_runner.py
Would reformat: src/agentforge/core/verification_types.py
Would reformat: src/agentforge/core/workspace.py
Would reformat: src/agentforge/core/workspace_config.py
Would reformat: src/agentforge/core/workspace_types.py
Would reformat: test.py
Would reformat: tests/conftest.py
Would reformat: tests/integration/cli/conftest.py
Would reformat: tests/integration/cli/test_pipeline_cli_integration.py
Would reformat: tests/integration/context/test_context_v2_integration.py
Would reformat: tests/integration/harness/test_harness_workflow.py
Would reformat: tests/integration/pipeline/conftest.py
Would reformat: tests/integration/pipeline/stages/conftest.py
Would reformat: tests/integration/pipeline/stages/test_design_pipeline.py
Would reformat: tests/integration/pipeline/stages/test_refactor_deliver_pipeline.py
Would reformat: tests/integration/pipeline/stages/test_tdd_pipeline.py
Would reformat: tests/integration/pipeline/test_config_integration.py
Would reformat: tests/integration/pipeline/test_pipeline_execution.py
Would reformat: tests/integration/tool_handlers/test_context_injection.py
Would reformat: tests/integration/workflows/conftest.py
Would reformat: tests/integration/workflows/test_fix_violation_workflow.py
Would reformat: tests/test_python_checks.py
Would reformat: tests/unit/audit/test_conversation_archive.py
Would reformat: tests/unit/audit/test_frame_logger.py
Would reformat: tests/unit/audit/test_thread_correlator.py
Would reformat: tests/unit/audit/test_transaction_logger.py
Would reformat: tests/unit/cli/conftest.py
Would reformat: tests/unit/cli/test_pipeline_commands.py
Would reformat: tests/unit/cli/test_spec_adapt.py
Would reformat: tests/unit/context/test_compaction.py
Would reformat: tests/unit/contracts/test_drafter.py
Would reformat: tests/unit/contracts/test_enforcer.py
Would reformat: tests/unit/contracts/test_evolution.py
Would reformat: tests/unit/contracts/test_operations.py
Would reformat: tests/unit/contracts/test_registry.py
Would reformat: tests/unit/core/discovery/test_domain.py
Would reformat: tests/unit/core/discovery/test_zone_detector.py
Would reformat: tests/unit/core/lineage/test_metadata.py
Would reformat: tests/unit/core/spec/test_init.py
Would reformat: tests/unit/core/spec/test_placement.py
Would reformat: tests/unit/core/test_contract_runner.py
Would reformat: tests/unit/core/test_verification_contracts_check.py
Would reformat: tests/unit/harness/test_agent_monitor.py
Would reformat: tests/unit/harness/test_agent_orchestrator.py
Would reformat: tests/unit/harness/test_checkpoint_manager.py
Would reformat: tests/unit/harness/test_enhanced_context.py
Would reformat: tests/unit/harness/test_escalation_domain.py
Would reformat: tests/unit/harness/test_escalation_manager.py
Would reformat: tests/unit/harness/test_escalation_notifier.py
Would reformat: tests/unit/harness/test_execution_context_store.py
Would reformat: tests/unit/harness/test_executor.py
Would reformat: tests/unit/harness/test_executor_edge_cases.py
Would reformat: tests/unit/harness/test_llm_executor.py
Would reformat: tests/unit/harness/test_memory_domain.py
Would reformat: tests/unit/harness/test_memory_manager.py
Would reformat: tests/unit/harness/test_memory_store.py
Would reformat: tests/unit/harness/test_minimal_context.py
Would reformat: tests/unit/harness/test_monitor_domain.py
Would reformat: tests/unit/harness/test_native_tool_executor.py
Would reformat: tests/unit/harness/test_orchestrator_domain.py
Would reformat: tests/unit/harness/test_recovery_domain.py
Would reformat: tests/unit/harness/test_recovery_executor.py
Would reformat: tests/unit/harness/test_selfhosting_tools.py
Would reformat: tests/unit/harness/test_session_domain.py
Would reformat: tests/unit/harness/test_session_manager.py
Would reformat: tests/unit/harness/test_session_store.py
Would reformat: tests/unit/harness/test_template_context_builder.py
Would reformat: tests/unit/harness/test_tool_domain.py
Would reformat: tests/unit/harness/test_tool_executor_bridge.py
Would reformat: tests/unit/harness/test_tool_registry.py
Would reformat: tests/unit/harness/test_tool_selector.py
Would reformat: tests/unit/harness/tool_handlers/test_constants.py
Would reformat: tests/unit/harness/tool_handlers/test_file_handlers.py
Would reformat: tests/unit/harness/tool_handlers/test_registry.py
Would reformat: tests/unit/harness/tool_handlers/test_search_handlers.py
Would reformat: tests/unit/harness/tool_handlers/test_terminal_handlers.py
Would reformat: tests/unit/harness/tool_handlers/test_types.py
Would reformat: tests/unit/harness/tool_handlers/test_verify_handlers.py
Would reformat: tests/unit/llm/test_client.py
Would reformat: tests/unit/llm/test_factory.py
Would reformat: tests/unit/llm/test_interface.py
Would reformat: tests/unit/llm/test_recording.py
Would reformat: tests/unit/llm/test_simulated.py
Would reformat: tests/unit/llm/test_tools.py
Would reformat: tests/unit/pipeline/conftest.py
Would reformat: tests/unit/pipeline/stages/conftest.py
Would reformat: tests/unit/pipeline/stages/test_analyze.py
Would reformat: tests/unit/pipeline/stages/test_clarify.py
Would reformat: tests/unit/pipeline/stages/test_deliver.py
Would reformat: tests/unit/pipeline/stages/test_green.py
Would reformat: tests/unit/pipeline/stages/test_intake.py
Would reformat: tests/unit/pipeline/stages/test_red.py
Would reformat: tests/unit/pipeline/stages/test_spec.py
Would reformat: tests/unit/pipeline/stages/test_stages_init.py
Would reformat: tests/unit/pipeline/test_config.py
Would reformat: tests/unit/pipeline/test_config_validator.py
Would reformat: tests/unit/pipeline/test_controller.py
Would reformat: tests/unit/pipeline/test_discovery_integration.py
Would reformat: tests/unit/pipeline/test_escalation.py
Would reformat: tests/unit/pipeline/test_module_exports.py
Would reformat: tests/unit/pipeline/test_registry.py
Would reformat: tests/unit/pipeline/test_stage_executor.py
Would reformat: tests/unit/pipeline/test_state.py
Would reformat: tests/unit/pipeline/test_state_machine_properties.py
Would reformat: tests/unit/pipeline/test_state_store.py
Would reformat: tests/unit/pipeline/test_validator.py
Would reformat: tests/unit/tools/bridge/test_contract_builder.py
Would reformat: tests/unit/tools/bridge/test_profile_loader.py
Would reformat: tests/unit/tools/bridge/test_registry.py
Would reformat: tests/unit/tools/cicd/test_baseline.py
Would reformat: tests/unit/tools/cicd/test_domain.py
Would reformat: tests/unit/tools/cicd/test_runner.py
Would reformat: tests/unit/tools/conformance/test_domain.py
Would reformat: tests/unit/tools/conformance/test_manager.py
Would reformat: tests/unit/tools/conformance/test_stores.py
Would reformat: tests/unit/tools/generate/test_engine.py
Would reformat: tests/unit/tools/generate/test_parser.py
Would reformat: tests/unit/tools/generate/test_prompt_builder.py
Would reformat: tests/unit/tools/generate/test_provider.py
Would reformat: tests/unit/tools/generate/test_writer.py
Would reformat: tests/unit/tools/tdflow/runners/test_dotnet.py
Would reformat: tests/unit/tools/tdflow/test_domain.py
Would reformat: tests/unit/tools/tdflow/test_orchestrator.py
Would reformat: tests/unit/tools/test_builtin_checks_architecture.py
Would reformat: tests/unit/tools/test_context_assembler.py
Would reformat: tests/unit/tools/test_context_retrieval.py
Would reformat: tests/unit/tools/test_contracts_execution_naming.py
Would reformat: tests/unit/tools/test_verification_checks.py
Would reformat: tests/unit/tools/test_verification_runner.py
345 files would be reformatted, 103 files already formatted

  - ğŸ’¡ *Run 'ruff format .' to format code*
- ğŸŸ¡ **ruff-lint** at `file`
  - Command failed with exit code 1: I001 [*] Import block is un-sorted or un-formatted
  --> run_contract.py:14:1
   |
12 |   """
13 |
14 | / import yaml
15 | | import re
16 | | import sys
17 | | import argparse
18 | | from pathlib import Path
19 | | from datetime import datetime
20 | | from typing import Dict, Any
   | |____________________________^
21 |
22 |   # Add tools directory to path
   |
help: Organize imports

UP035 `typing.Dict` is deprecated, use `dict` instead
  --> run_contract.py:20:1
   |
18 | from pathlib import Path
19 | from datetime import datetime
20 | from typing import Dict, Any
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
21 |
22 | # Add tools directory to path
   |

I001 [*] Import block is un-sorted or un-formatted
  --> run_contract.py:31:5
   |
30 | try:
31 |     from contract_validator import ContractValidator, OutputValidator, ContractValidationReport
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 | except ImportError as e:
33 |     if 'jsonschema' in str(e):
   |
help: Organize imports

E402 Module level import not at top of file
  --> run_contract.py:43:1
   |
42 |   # Import command handlers
43 | / from run_contract_commands import (
44 | |     run_intake, run_clarify, run_analyze, run_draft, run_validate,
45 | |     validate_contract, validate_output
46 | | )
   | |_^
   |

I001 [*] Import block is un-sorted or un-formatted
  --> run_contract.py:43:1
   |
42 |   # Import command handlers
43 | / from run_contract_commands import (
44 | |     run_intake, run_clarify, run_analyze, run_draft, run_validate,
45 | |     validate_contract, validate_output
46 | | )
   | |_^
   |
help: Organize imports

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:66:50
   |
64 |         return "No project context configured."
65 |
66 |     def load_contract(self, contract_id: str) -> Dict[str, Any]:
   |                                                  ^^^^
67 |         """Load a contract by ID."""
68 |         contract_file = self.contracts_dir / f"{contract_id}.yaml"
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:75:47
   |
73 |             return yaml.safe_load(f)
74 |
75 |     def _build_system_message(self, contract: Dict) -> str:
   |                                               ^^^^
76 |         """Build system message from contract template."""
77 |         sections = contract.get('template', {}).get('system', {}).get('sections', [])
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:80:62
   |
78 |         return '\n'.join(section.get('content', '') for section in sections)
79 |
80 |     def _should_include_section(self, section: dict, inputs: Dict, context: Dict) -> bool:
   |                                                              ^^^^
81 |         """Check if a conditional section should be included."""
82 |         condition = section.get('condition')
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:80:77
   |
78 |         return '\n'.join(section.get('content', '') for section in sections)
79 |
80 |     def _should_include_section(self, section: dict, inputs: Dict, context: Dict) -> bool:
   |                                                                             ^^^^
81 |         """Check if a conditional section should be included."""
82 |         condition = section.get('condition')
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:88:45
   |
86 |         return bool(inputs.get(var_name) or context.get(var_name))
87 |
88 |     def _build_user_message(self, contract: Dict, inputs: Dict, context: Dict) -> str:
   |                                             ^^^^
89 |         """Build user message from contract template with conditions."""
90 |         sections = contract.get('template', {}).get('user', {}).get('sections', [])
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:88:59
   |
86 |         return bool(inputs.get(var_name) or context.get(var_name))
87 |
88 |     def _build_user_message(self, contract: Dict, inputs: Dict, context: Dict) -> str:
   |                                                           ^^^^
89 |         """Build user message from contract template with conditions."""
90 |         sections = contract.get('template', {}).get('user', {}).get('sections', [])
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
  --> run_contract.py:88:74
   |
86 |         return bool(inputs.get(var_name) or context.get(var_name))
87 |
88 |     def _build_user_message(self, contract: Dict, inputs: Dict, context: Dict) -> str:
   |                                                                          ^^^^
89 |         """Build user message from contract template with conditions."""
90 |         sections = contract.get('template', {}).get('user', {}).get('sections', [])
   |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:98:62
    |
 96 |         return '\n'.join(parts)
 97 |
 98 |     def _substitute_variables(self, message: str, variables: Dict) -> str:
    |                                                              ^^^^
 99 |         """Substitute variables in message."""
100 |         for key, value in variables.items():
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:107:41
    |
105 |         return message
106 |
107 |     def assemble_prompt(self, contract: Dict, inputs: Dict, context: Dict = None) -> Dict:
    |                                         ^^^^
108 |         """Assemble a prompt from contract and inputs. Returns structured dict."""
109 |         context = context or {}
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:107:55
    |
105 |         return message
106 |
107 |     def assemble_prompt(self, contract: Dict, inputs: Dict, context: Dict = None) -> Dict:
    |                                                       ^^^^
108 |         """Assemble a prompt from contract and inputs. Returns structured dict."""
109 |         context = context or {}
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:107:70
    |
105 |         return message
106 |
107 |     def assemble_prompt(self, contract: Dict, inputs: Dict, context: Dict = None) -> Dict:
    |                                                                      ^^^^
108 |         """Assemble a prompt from contract and inputs. Returns structured dict."""
109 |         context = context or {}
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:107:86
    |
105 |         return message
106 |
107 |     def assemble_prompt(self, contract: Dict, inputs: Dict, context: Dict = None) -> Dict:
    |                                                                                      ^^^^
108 |         """Assemble a prompt from contract and inputs. Returns structured dict."""
109 |         context = context or {}
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:138:41
    |
136 |         }
137 |
138 |     def validate_output(self, contract: Dict, output: str, inputs: Dict):
    |                                         ^^^^
139 |         """Validate LLM output against contract."""
140 |         if OutputValidator is None:
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:138:68
    |
136 |         }
137 |
138 |     def validate_output(self, contract: Dict, output: str, inputs: Dict):
    |                                                                    ^^^^
139 |         """Validate LLM output against contract."""
140 |         if OutputValidator is None:
    |
help: Replace with `dict`

UP006 [*] Use `dict` instead of `Dict` for type annotation
   --> run_contract.py:155:35
    |
153 |         return validator.validate(parsed, inputs)
154 |
155 |     def save_prompt(self, prompt: Dict, contract_id: str) -> Path:
    |                                   ^^^^
156 |         """Save assembled prompt to YAML file with readable multiline strings."""
157 |         timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    |
help: Replace with `dict`

I001 [*] Import block is un-sorted or un-formatted
  --> run_contract_commands.py:11:1
   |
 9 |   """
10 |
11 | / import sys
12 | | import yaml
13 | | from pathlib import Path
   | |________________________^
   |
help: Organize imports

F541 [*] f-string without any placeholders
   --> run_contract_commands.py:233:11
    |
232 |     print(f"\n{'=' * 60}")
233 |     print(f"Contract Validation Report")
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
234 |     print(f"{'=' * 60}")
235 |     print(f"Contract: {report.contract_id} v{report.contract_version}")
    |
help: Remove extraneous `f` prefix

F541 [*] f-string without any placeholders
   --> run_contract_commands.py:268:11
    |
267 |     print(f"\n{'=' * 60}")
268 |     print(f"Output Validation Report")
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
269 |     print(f"{'=' * 60}")
270 |     print(f"Status: {'âœ… VALID' if report.is_valid else 'âŒ INVALID'}")
    |
help: Remove extraneous `f` prefix

I001 [*] Import block is un-sorted or un-formatted
   --> src/agentforge/cli/click_commands/contracts.py:142:5
    |
140 |   def contracts_verify_ops(ctx, path, contract_ids, rule_id, output_format, strict, verbose):
141 |       """Verify code against operation contract rules."""
142 | /     from pathlib import Path as PathLib
143 | |     from agentforge.core.contracts.operations import OperationContractVerifier
    | |______________________________________________________________________________^
144 |
145 |       path, repo_root = PathLib(path), PathLib.cwd()
    |
help: Organize imports

E402 Module level import not at top of file
  --> src/agentforge/cli/main.py:96:1
   |
95 | # Import and register commands from submodules
96 | from agentforge.cli.click_commands.agent import agent
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
97 | from agentforge.cli.click_commands.bridge import bridge
98 | from agentforge.cli.click_commands.ci import ci
   |

E402 Module level import not at top of file
  --> src/agentforge/cli/main.py:97:1
   |
95 | # Import and register commands from submodules
96 | from agentforge.cli.click_commands.agent import agent
97 | from agentforge.cli.click_commands.bridge import bridge
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
98 | from agentforge.cli.click_commands.ci import ci
99 | from agentforge.cli.click_commands.config import config
   |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:98:1
    |
 96 | from agentforge.cli.click_commands.agent import agent
 97 | from agentforge.cli.click_commands.bridge import bridge
 98 | from agentforge.cli.click_commands.ci import ci
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 99 | from agentforge.cli.click_commands.config import config
100 | from agentforge.cli.click_commands.conformance import conformance
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:99:1
    |
 97 | from agentforge.cli.click_commands.bridge import bridge
 98 | from agentforge.cli.click_commands.ci import ci
 99 | from agentforge.cli.click_commands.config import config
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
100 | from agentforge.cli.click_commands.conformance import conformance
101 | from agentforge.cli.click_commands.contracts import contracts, exemptions
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:100:1
    |
 98 | from agentforge.cli.click_commands.ci import ci
 99 | from agentforge.cli.click_commands.config import config
100 | from agentforge.cli.click_commands.conformance import conformance
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
101 | from agentforge.cli.click_commands.contracts import contracts, exemptions
102 | from agentforge.cli.click_commands.discover import discover
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:101:1
    |
 99 | from agentforge.cli.click_commands.config import config
100 | from agentforge.cli.click_commands.conformance import conformance
101 | from agentforge.cli.click_commands.contracts import contracts, exemptions
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
102 | from agentforge.cli.click_commands.discover import discover
103 | from agentforge.cli.click_commands.generate import generate
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:102:1
    |
100 | from agentforge.cli.click_commands.conformance import conformance
101 | from agentforge.cli.click_commands.contracts import contracts, exemptions
102 | from agentforge.cli.click_commands.discover import discover
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
103 | from agentforge.cli.click_commands.generate import generate
104 | from agentforge.cli.click_commands.pipeline import (
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:103:1
    |
101 | from agentforge.cli.click_commands.contracts import contracts, exemptions
102 | from agentforge.cli.click_commands.discover import discover
103 | from agentforge.cli.click_commands.generate import generate
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
104 | from agentforge.cli.click_commands.pipeline import (
105 |     abort,
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:104:1
    |
102 |   from agentforge.cli.click_commands.discover import discover
103 |   from agentforge.cli.click_commands.generate import generate
104 | / from agentforge.cli.click_commands.pipeline import (
105 | |     abort,
106 | |     approve,
107 | |     artifacts,
108 | |     design,
109 | |     implement,
110 | |     pipelines,
111 | |     reject,
112 | |     resume,
113 | |     start,
114 | |     status,
115 | | )
    | |_^
116 |   from agentforge.cli.click_commands.spec import (
117 |       adapt,
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:116:1
    |
114 |       status,
115 |   )
116 | / from agentforge.cli.click_commands.spec import (
117 | |     adapt,
118 | |     analyze,
119 | |     clarify,
120 | |     draft,
121 | |     intake,
122 | |     revise,
123 | |     validate_spec,
124 | | )
    | |_^
125 |   from agentforge.cli.click_commands.tdflow import tdflow
126 |   from agentforge.cli.click_commands.utility import context, render_spec, verify
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:125:1
    |
123 |     validate_spec,
124 | )
125 | from agentforge.cli.click_commands.tdflow import tdflow
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
126 | from agentforge.cli.click_commands.utility import context, render_spec, verify
127 | from agentforge.cli.click_commands.workspace import workspace
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:126:1
    |
124 | )
125 | from agentforge.cli.click_commands.tdflow import tdflow
126 | from agentforge.cli.click_commands.utility import context, render_spec, verify
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
127 | from agentforge.cli.click_commands.workspace import workspace
128 | from agentforge.core.contracts.cli import task_contracts
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:127:1
    |
125 | from agentforge.cli.click_commands.tdflow import tdflow
126 | from agentforge.cli.click_commands.utility import context, render_spec, verify
127 | from agentforge.cli.click_commands.workspace import workspace
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
128 | from agentforge.core.contracts.cli import task_contracts
    |

E402 Module level import not at top of file
   --> src/agentforge/cli/main.py:128:1
    |
126 | from agentforge.cli.click_commands.utility import context, render_spec, verify
127 | from agentforge.cli.click_commands.workspace import workspace
128 | from agentforge.core.contracts.cli import task_contracts
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
129 |
130 | # Register spec workflow commands
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/audit/__init__.py:38:1
   |
36 |   """
37 |
38 | / from .transaction_logger import TransactionLogger, TransactionRecord
39 | | from .thread_correlator import ThreadCorrelator, ThreadInfo, ThreadSpawn
40 | | from .integrity_chain import IntegrityChain, ChainBlock
41 | | from .conversation_archive import ConversationArchive, ConversationTurn
42 | | from .audit_manager import AuditManager
43 | | from .context_frame import (
44 | |     ContextFrame,
45 | |     ContextFrameBuilder,
46 | |     FrameType,
47 | |     SchemaReference,
48 | |     ValidationResult,
49 | |     ValidationStatus,
50 | |     ValidatedContext,
51 | |     LLMInteractionEnvelope,
52 | |     ParsedArtifact,
53 | | )
54 | | from .frame_logger import FrameLogger
   | |_____________________________________^
55 |
56 |   __all__ = [
   |
help: Organize imports

F401 [*] `yaml` imported but unused
  --> src/agentforge/core/audit/audit_manager.py:63:8
   |
61 | from typing import Any
62 |
63 | import yaml
   |        ^^^^
64 |
65 | from .conversation_archive import ConversationArchive, ConversationTurn, ToolCallDetail
   |
help: Remove unused import: `yaml`

F401 [*] `.conversation_archive.ConversationTurn` imported but unused
  --> src/agentforge/core/audit/audit_manager.py:65:56
   |
63 | import yaml
64 |
65 | from .conversation_archive import ConversationArchive, ConversationTurn, ToolCallDetail
   |                                                        ^^^^^^^^^^^^^^^^
66 | from .integrity_chain import ChainVerificationResult, IntegrityChain, verify_thread_integrity
67 | from .thread_correlator import SpawnType, ThreadCorrelator, ThreadInfo, ThreadStatus
   |
help: Remove unused import: `.conversation_archive.ConversationTurn`

F401 [*] `.thread_correlator.ThreadStatus` imported but unused
  --> src/agentforge/core/audit/audit_manager.py:67:73
   |
65 | from .conversation_archive import ConversationArchive, ConversationTurn, ToolCallDetail
66 | from .integrity_chain import ChainVerificationResult, IntegrityChain, verify_thread_integrity
67 | from .thread_correlator import SpawnType, ThreadCorrelator, ThreadInfo, ThreadStatus
   |                                                                         ^^^^^^^^^^^^
68 | from .transaction_logger import (
69 |     ToolCallRecord,
   |
help: Remove unused import: `.thread_correlator.ThreadStatus`

F401 [*] `.transaction_logger.TransactionType` imported but unused
  --> src/agentforge/core/audit/audit_manager.py:72:5
   |
70 |     TransactionLogger,
71 |     TransactionRecord,
72 |     TransactionType,
   |     ^^^^^^^^^^^^^^^
73 | )
   |
help: Remove unused import: `.transaction_logger.TransactionType`

B007 Loop control variable `i` not used within loop body
   --> src/agentforge/core/audit/audit_manager.py:219:13
    |
218 |         # Add thread_id to each task
219 |         for i, task in enumerate(tasks):
    |             ^
220 |             task["thread_id"] = self._generate_thread_id("parallel")
    |
help: Rename unused `i` to `_i`

F401 [*] `pathlib.Path` imported but unused
  --> src/agentforge/core/audit/context_frame.py:38:21
   |
36 | from datetime import UTC, datetime
37 | from enum import Enum
38 | from pathlib import Path
   |                     ^^^^
39 | from typing import Any
   |
help: Remove unused import: `pathlib.Path`

F401 [*] `yaml` imported but unused
  --> src/agentforge/core/audit/context_frame.py:41:8
   |
39 | from typing import Any
40 |
41 | import yaml
   |        ^^^^
   |
help: Remove unused import: `yaml`

F541 [*] f-string without any placeholders
   --> src/agentforge/core/audit/context_frame.py:195:18
    |
193 |     def to_markdown(self) -> str:
194 |         """Format as markdown for archival."""
195 |         parts = [f"# LLM Interaction\n"]
    |                  ^^^^^^^^^^^^^^^^^^^^^^
196 |         parts.append(f"**Model:** {self.model}\n")
197 |         parts.append(f"**Timestamp:** {self.timestamp}\n")
    |
help: Remove extraneous `f` prefix

F401 [*] `.integrity_chain.compute_hash` imported but unused
   --> src/agentforge/core/audit/context_frame.py:408:38
    |
406 |     ) -> "ContextFrameBuilder":
407 |         """Set validated input context."""
408 |         from .integrity_chain import compute_hash
    |                                      ^^^^^^^^^^^^
409 |
410 |         # Create schema reference if schema provided
    |
help: Remove unused import: `.integrity_chain.compute_hash`

F402 Import `field` from line 35 shadowed by loop variable
   --> src/agentforge/core/audit/context_frame.py:574:13
    |
572 |         # Check required fields
573 |         required = schema.get("required", [])
574 |         for field in required:
    |             ^^^^^
575 |             if field not in data:
576 |                 errors.append(f"Missing required field: {field}")
    |

F401 [*] `datetime.UTC` imported but unused
  --> src/agentforge/core/audit/frame_logger.py:41:22
   |
39 | """
40 |
41 | from datetime import UTC, datetime
   |                      ^^^
42 | from pathlib import Path
43 | from typing import Any
   |
help: Remove unused import

F401 [*] `datetime.datetime` imported but unused
  --> src/agentforge/core/audit/frame_logger.py:41:27
   |
39 | """
40 |
41 | from datetime import UTC, datetime
   |                           ^^^^^^^^
42 | from pathlib import Path
43 | from typing import Any
   |
help: Remove unused import

F401 [*] `.context_frame.LLMInteractionEnvelope` imported but unused
  --> src/agentforge/core/audit/frame_logger.py:51:5
   |
49 |     ContextFrameBuilder,
50 |     FrameType,
51 |     LLMInteractionEnvelope,
   |     ^^^^^^^^^^^^^^^^^^^^^^
52 |     ParsedArtifact,
53 |     SchemaReference,
   |
help: Remove unused import: `.context_frame.LLMInteractionEnvelope`

F401 [*] `.integrity_chain.compute_hash` imported but unused
  --> src/agentforge/core/audit/frame_logger.py:58:46
   |
56 |     ValidationStatus,
57 | )
58 | from .integrity_chain import IntegrityChain, compute_hash
   |                                              ^^^^^^^^^^^^
   |
help: Remove unused import: `.integrity_chain.compute_hash`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/audit/frame_logger.py:442:9
    |
441 |           # Save thinking if large
442 | /         if frame.llm_interaction and frame.llm_interaction.thinking:
443 | |             if len(frame.llm_interaction.thinking) > 1000:
    | |__________________________________________________________^
444 |                   thinking_path = self.frames_dir / f"{frame.frame_id}-thinking.md"
445 |                   thinking_path.write_text(
    |
help: Combine `if` statements using `and`

UP035 [*] Import from `collections.abc` instead: `Callable`
  --> src/agentforge/core/audit/integrity_chain.py:31:1
   |
29 | from datetime import UTC, datetime
30 | from pathlib import Path
31 | from typing import Any, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
32 |
33 | import yaml
   |
help: Import from `collections.abc`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/audit/thread_correlator.py:450:9
    |
448 |           """Add child to parent's children list."""
449 |           parent = self.get_thread(parent_id)
450 | /         if parent:
451 | |             if child_id not in parent.child_thread_ids:
    | |_______________________________________________________^
452 |                   parent.child_thread_ids.append(child_id)
453 |                   self._save_thread_manifest(parent)
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/bridge/conflict_resolver.py:134:13
    |
133 |               # Check for path overlap
134 | /             if check_paths & existing_paths:
135 | |                 # Check if same type of check
136 | |                 if existing_check.get("type") == check.check_type:
    | |__________________________________________________________________^
137 |                       return Conflict(
138 |                           conflict_type=ConflictType.OVERLAPPING_SCOPE,
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/architecture.py:140:29
    |
138 |         return context.has_layer("ports") or context.has_layer("adapters")
139 |
140 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
141 |         """Get Hexagonal Architecture check templates."""
142 |         templates = []
    |

ARG002 Unused method argument: `context`
  --> src/agentforge/core/bridge/mappings/conventions.py:52:29
   |
50 |         return False
51 |
52 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
   |                             ^^^^^^^
53 |         """Get interface prefix check templates."""
54 |         return [
   |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/conventions.py:98:29
    |
 96 |         return False
 97 |
 98 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
 99 |         """Get async suffix check templates."""
100 |         return [
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/conventions.py:199:29
    |
197 |         return bool(context.has_framework("pytest"))
198 |
199 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
200 |         """Get pytest marker check templates."""
201 |         return [
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/conventions.py:245:29
    |
243 |         return False
244 |
245 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
246 |         """Get type hints check templates."""
247 |         return [
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/conventions.py:287:29
    |
285 |         return False
286 |
287 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
288 |         """Get DDD Value Object check templates."""
289 |         return [
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/conventions.py:327:29
    |
325 |         return False
326 |
327 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
328 |         """Get DDD Entity check templates."""
329 |         return [
    |

ARG002 Unused method argument: `context`
  --> src/agentforge/core/bridge/mappings/cqrs.py:52:29
   |
50 |         return primary in ("MediatR", None) or context.has_framework("MediatR")
51 |
52 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
   |                             ^^^^^^^
53 |         """Get CQRS check templates."""
54 |         return [
   |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/cqrs.py:143:29
    |
141 |         return primary not in ("MediatR",) and not context.has_framework("MediatR")
142 |
143 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
144 |         """Get generic CQRS check templates."""
145 |         return [
    |

ARG002 Unused method argument: `context`
  --> src/agentforge/core/bridge/mappings/repository.py:40:29
   |
38 |         return False
39 |
40 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
   |                             ^^^^^^^
41 |         """Get Repository pattern check templates."""
42 |         templates = [
   |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/bridge/mappings/repository.py:106:29
    |
104 |         return repo_meta.get("primary") == "generic_repository"
105 |
106 |     def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                             ^^^^^^^
107 |         """Get generic repository check templates."""
108 |         return [
    |

ARG002 Unused method argument: `force`
  --> src/agentforge/core/bridge/orchestrator.py:88:9
   |
86 |         zone_filter: str | None = None,
87 |         dry_run: bool = False,
88 |         force: bool = False,
   |         ^^^^^
89 |     ) -> tuple[list[GeneratedContract], GenerationReport]:
90 |         """
   |

ARG002 Unused method argument: `written_paths`
   --> src/agentforge/core/bridge/orchestrator.py:206:9
    |
204 |         zones_processed: int,
205 |         dry_run: bool,
206 |         written_paths: list[Path],
    |         ^^^^^^^^^^^^^
207 |     ) -> GenerationReport:
208 |         """Generate summary report."""
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/builtin_checks.py:497:5
    |
495 |       """Check if a file is misplaced based on its name/type."""
496 |       # Test files outside tests/
497 | /     if file_path.name.startswith("test_") and file_path.suffix == ".py":
498 | |         if not rel_path.startswith("tests/"):
    | |_____________________________________________^
499 |               return {"message": "Test file outside tests/ directory", "file": rel_path,
500 |                       "severity": "warning", "fix_hint": "Move test files to tests/ directory"}
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/builtin_checks.py:502:5
    |
500 |                       "severity": "warning", "fix_hint": "Move test files to tests/ directory"}
501 |       # Spec files outside .agentforge/specs/
502 | /     if file_path.suffix in ('.yaml', '.yml') and 'spec' in file_path.name.lower():
503 | |         if '.agentforge/specs' not in rel_path and 'contracts' not in rel_path:
    | |_______________________________________________________________________________^
504 |               return {"message": "Spec-like file outside .agentforge/specs/", "file": rel_path,
505 |                       "severity": "info", "fix_hint": "Move spec files to .agentforge/specs/"}
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/cicd/runner.py:471:9
    |
470 |           # For non-PR mode, check violations directly
471 | /         if self.config.fail_on_new_errors:
472 | |             if any(v.severity == "error" for v in violations):
    | |______________________________________________________________^
473 |                   return ExitCode.VIOLATIONS_FOUND
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/cicd/runner.py:475:9
    |
473 |                   return ExitCode.VIOLATIONS_FOUND
474 |
475 | /         if self.config.fail_on_new_warnings:
476 | |             if any(v.severity == "warning" for v in violations):
    | |________________________________________________________________^
477 |                   return ExitCode.VIOLATIONS_FOUND
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/conformance/domain.py:225:9
    |
224 |           # Test files run themselves
225 | /         if file_path.startswith("tests/") and "/test_" in file_path:
226 | |             if (project_root / file_path).exists():
    | |___________________________________________________^
227 |                   return file_path
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
  --> src/agentforge/core/conformance/manager.py:71:9
   |
69 |           - .agentforge/conformance_report.yaml
70 |           """
71 | /         if self.agentforge_path.exists() and not force:
72 | |             if (self.agentforge_path / "conformance_report.yaml").exists():
   | |___________________________________________________________________________^
73 |                   raise FileExistsError(
74 |                       ".agentforge/ already initialized. Use --force to reinitialize."
   |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/context/fingerprint.py:208:9
    |
207 |           # Check cache validity
208 | /         if not force_refresh and project_key in self._cache:
209 | |             if self._cache_hashes.get(project_key) == current_hash:
    | |___________________________________________________________________^
210 |                   return self._cache[project_key]
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/base.py:189:33
    |
187 |         return template_phase
188 |
189 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
190 |         """
191 |         Get the system prompt for this task type.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/bridge.py:134:33
    |
132 |         return definitions.get(phase, definitions["analyze"])
133 |
134 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
135 |         """System prompt for bridge tasks."""
136 |         return """You are an expert contract mapping agent.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/code_review.py:129:33
    |
127 |         return definitions.get(phase, definitions["init"])
128 |
129 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
130 |         """System prompt for code_review tasks."""
131 |         return """You are an expert code reviewer.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/discovery.py:127:33
    |
125 |         return definitions.get(phase, definitions["scan"])
126 |
127 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
128 |         """System prompt for discovery tasks."""
129 |         return """You are an expert codebase analyst.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/fix_violation.py:142:33
    |
140 |         return definitions.get(phase, definitions["init"])
141 |
142 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
143 |         """System prompt for fix_violation tasks."""
144 |         return """You are an expert code refactoring agent.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/implement_feature.py:145:33
    |
143 |         return definitions.get(phase, definitions["init"])
144 |
145 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
146 |         """System prompt for implement_feature tasks."""
147 |         return """You are an expert implementation agent (TDD green phase).
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/refactor.py:148:33
    |
146 |         return definitions.get(phase, definitions["init"])
147 |
148 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
149 |         """System prompt for refactor tasks."""
150 |         return """You are an expert code refactoring agent.
    |

ARG002 Unused method argument: `phase`
   --> src/agentforge/core/context/templates/write_tests.py:142:33
    |
140 |         return definitions.get(phase, definitions["init"])
141 |
142 |     def get_system_prompt(self, phase: str | None = None) -> str:
    |                                 ^^^^^
143 |         """System prompt for write_tests tasks."""
144 |         return """You are an expert test-driven development agent.
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/contracts/__init__.py:42:1
   |
40 |   """
41 |
42 | / from .draft import (
43 | |     Assumption,
44 | |     ApprovedContracts,
45 | |     ContractDraft,
46 | |     EscalationTrigger,
47 | |     OpenQuestion,
48 | |     QualityGate,
49 | |     Revision,
50 | |     StageContract,
51 | |     ValidationRule,
52 | | )
53 | | from .registry import (
54 | |     ContractRegistry,
55 | |     generate_contract_set_id,
56 | |     generate_draft_id,
57 | | )
58 | | from .drafter import (
59 | |     CodebaseContext,
60 | |     ContractDrafter,
61 | |     DrafterConfig,
62 | | )
63 | | from .reviewer import (
64 | |     ContractReviewer,
65 | |     OverallDecision,
66 | |     ReviewDecision,
67 | |     ReviewFeedback,
68 | |     ReviewSession,
69 | |     StageDecision,
70 | | )
71 | | from .enforcer import (
72 | |     ContractEnforcer,
73 | |     EscalationCheck,
74 | |     QualityGateResult,
75 | |     ValidationResult,
76 | |     Violation,
77 | |     ViolationSeverity,
78 | |     ViolationType,
79 | | )
80 | | from .evolution import (
81 | |     AssumptionViolation,
82 | |     ContractChange,
83 | |     ContractEscalation,
84 | |     ContractEvolutionHandler,
85 | |     EvolutionViolationType,
86 | | )
   | |_^
87 |
88 |   __all__ = [
   |
help: Organize imports

F401 [*] `typing.Any` imported but unused
  --> src/agentforge/core/contracts/cli.py:34:20
   |
32 | import sys
33 | from pathlib import Path
34 | from typing import Any
   |                    ^^^
35 |
36 | import click
   |
help: Remove unused import: `typing.Any`

F401 [*] `.draft.ContractDraft` imported but unused
  --> src/agentforge/core/contracts/cli.py:38:39
   |
36 | import click
37 |
38 | from .draft import ApprovedContracts, ContractDraft
   |                                       ^^^^^^^^^^^^^
39 | from .drafter import CodebaseContext, ContractDrafter, DrafterConfig
40 | from .registry import ContractRegistry, generate_contract_set_id
   |
help: Remove unused import: `.draft.ContractDraft`

F541 [*] f-string without any placeholders
   --> src/agentforge/core/contracts/drafter.py:168:29
    |
166 |                     f"- {stage['name']}: {stage['purpose']} (outputs: {outputs})"
167 |                 )
168 |             sections.append(f"# Pipeline Stages\n" + "\n".join(stages_text))
    |                             ^^^^^^^^^^^^^^^^^^^^^^
169 |
170 |         if "output_format" in prompt_data:
    |
help: Remove extraneous `f` prefix

F401 [*] `.draft.QualityGate` imported but unused
  --> src/agentforge/core/contracts/enforcer.py:31:5
   |
29 |     ApprovedContracts,
30 |     EscalationTrigger,
31 |     QualityGate,
   |     ^^^^^^^^^^^
32 |     StageContract,
33 |     ValidationRule,
   |
help: Remove unused import

F401 [*] `.draft.StageContract` imported but unused
  --> src/agentforge/core/contracts/enforcer.py:32:5
   |
30 |     EscalationTrigger,
31 |     QualityGate,
32 |     StageContract,
   |     ^^^^^^^^^^^^^
33 |     ValidationRule,
34 | )
   |
help: Remove unused import

F401 [*] `.operations.loader.OperationContract` imported but unused
  --> src/agentforge/core/contracts/enforcer.py:35:32
   |
33 |     ValidationRule,
34 | )
35 | from .operations.loader import OperationContract, OperationContractManager, OperationRule
   |                                ^^^^^^^^^^^^^^^^^
   |
help: Remove unused import: `.operations.loader.OperationContract`

F402 Import `field` from line 24 shadowed by loop variable
   --> src/agentforge/core/contracts/enforcer.py:275:13
    |
273 |         # Check required fields
274 |         required = schema.get("required", [])
275 |         for field in required:
    |             ^^^^^
276 |             if field not in data:
277 |                 result.add_violation(Violation(
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/contracts/enforcer.py:374:13
    |
372 |           elif rule.check_type == "type_check":
373 |               expected_type = rule.constraint.get("type")
374 | /             if value is not None and expected_type:
375 | |                 if not self._check_type(value, expected_type):
    | |______________________________________________________________^
376 |                       result.add_violation(Violation(
377 |                           violation_id=self._next_violation_id(),
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `rule`
   --> src/agentforge/core/contracts/enforcer.py:601:9
    |
599 |     def _check_operation_rule(
600 |         self,
601 |         rule: OperationRule,
    |         ^^^^
602 |         context: dict[str, Any],
603 |     ) -> bool:
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/contracts/enforcer.py:602:9
    |
600 |         self,
601 |         rule: OperationRule,
602 |         context: dict[str, Any],
    |         ^^^^^^^
603 |     ) -> bool:
604 |         """Check if an operation rule is violated.
    |

F841 Local variable `assumption_id` is assigned to but never used
   --> src/agentforge/core/contracts/evolution.py:145:13
    |
143 |         assumptions_to_check = context.get("assumptions", [])
144 |         for assumption_data in assumptions_to_check:
145 |             assumption_id = assumption_data.get("id")
    |             ^^^^^^^^^^^^^
146 |             is_valid = assumption_data.get("valid", True)
    |
help: Remove assignment to unused variable `assumption_id`

F841 Local variable `original` is assigned to but never used
   --> src/agentforge/core/contracts/evolution.py:150:17
    |
148 |             if not is_valid:
149 |                 # Find the original assumption
150 |                 original = None
    |                 ^^^^^^^^
151 |                 for esc in contracts.escalation_triggers:
152 |                     pass  # Assumptions aren't in escalation triggers
    |
help: Remove assignment to unused variable `original`

B007 Loop control variable `esc` not used within loop body
   --> src/agentforge/core/contracts/evolution.py:151:21
    |
149 |                 # Find the original assumption
150 |                 original = None
151 |                 for esc in contracts.escalation_triggers:
    |                     ^^^
152 |                     pass  # Assumptions aren't in escalation triggers
    |
help: Rename unused `esc` to `_esc`

ARG002 Unused method argument: `contracts`
   --> src/agentforge/core/contracts/evolution.py:225:9
    |
223 |         self,
224 |         violation: AssumptionViolation,
225 |         contracts: ApprovedContracts,
    |         ^^^^^^^^^
226 |     ) -> list[ContractChange]:
227 |         """Generate proposed changes based on violation."""
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/contracts/operations/__init__.py:21:1
   |
19 |   """
20 |
21 | / from .loader import (
22 | |     OperationContract,
23 | |     OperationRule,
24 | |     OperationTrigger,
25 | |     OperationGate,
26 | |     OperationContractManager,
27 | |     load_operation_contract,
28 | |     load_all_operation_contracts,
29 | |     get_builtin_contracts_path,
30 | | )
31 | | from .verifier import (
32 | |     OperationContractVerifier,
33 | |     Violation,
34 | |     VerificationReport,
35 | |     verify_operations,
36 | | )
   | |_^
37 |
38 |   __all__ = [
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/contracts/operations/verifier.py:16:1
   |
14 |   """
15 |
16 | / import ast
17 | | from dataclasses import dataclass, field
18 | | from pathlib import Path
19 | | from typing import Any, Callable
20 | |
21 | | from .loader import OperationContractManager, OperationContract, OperationRule
   | |______________________________________________________________________________^
   |
help: Organize imports

UP035 [*] Import from `collections.abc` instead: `Callable`
  --> src/agentforge/core/contracts/operations/verifier.py:19:1
   |
17 | from dataclasses import dataclass, field
18 | from pathlib import Path
19 | from typing import Any, Callable
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
20 |
21 | from .loader import OperationContractManager, OperationContract, OperationRule
   |
help: Import from `collections.abc`

F401 [*] `typing.Any` imported but unused
  --> src/agentforge/core/contracts/operations/verifier.py:19:20
   |
17 | from dataclasses import dataclass, field
18 | from pathlib import Path
19 | from typing import Any, Callable
   |                    ^^^
20 |
21 | from .loader import OperationContractManager, OperationContract, OperationRule
   |
help: Remove unused import: `typing.Any`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/contracts/operations/verifier.py:353:17
    |
352 |               for node in ast.walk(tree):
353 | /                 if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):
354 | |                     if _has_bool_naming_issue(node):
    | |____________________________________________________^
355 |                           violations.append(_create_violation(
356 |                               rule, contract, file_path=rel_path, line=node.lineno,
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `reason`
   --> src/agentforge/core/contracts/registry.py:197:9
    |
195 |         stage_updates: dict[str, dict[str, Any]] | None = None,
196 |         new_triggers: list[dict[str, Any]] | None = None,
197 |         reason: str = "",
    |         ^^^^^^
198 |     ) -> str:
199 |         """Create new version of contracts with changes.
    |

B007 Loop control variable `i` not used within loop body
   --> src/agentforge/core/contracts/registry.py:236:21
    |
234 |         if stage_updates:
235 |             for stage_name, updates in stage_updates.items():
236 |                 for i, sc in enumerate(evolved.stage_contracts):
    |                     ^
237 |                     if sc.stage_name == stage_name:
238 |                         # Update fields
    |
help: Rename unused `i` to `_i`

F841 Local variable `mode` is assigned to but never used
   --> src/agentforge/core/contracts_execution.py:439:5
    |
437 |     pattern_str = ctx.config.get("pattern")
438 |     symbol_type = ctx.config.get("symbol_type", "class")
439 |     mode = ctx.config.get("mode", "require")
    |     ^^^^
440 |
441 |     if not pattern_str:
    |
help: Remove assignment to unused variable `mode`

F841 Local variable `must_implement` is assigned to but never used
   --> src/agentforge/core/contracts_execution.py:587:5
    |
586 |     class_pattern_str = ctx.config.get("class_pattern")
587 |     must_implement = ctx.config.get("must_implement", [])
    |     ^^^^^^^^^^^^^^
588 |     must_not_implement = ctx.config.get("must_not_implement", [])
    |
help: Remove assignment to unused variable `must_implement`

F841 Local variable `must_not_implement` is assigned to but never used
   --> src/agentforge/core/contracts_execution.py:588:5
    |
586 |     class_pattern_str = ctx.config.get("class_pattern")
587 |     must_implement = ctx.config.get("must_implement", [])
588 |     must_not_implement = ctx.config.get("must_not_implement", [])
    |     ^^^^^^^^^^^^^^^^^^
589 |
590 |     if not class_pattern_str:
    |
help: Remove assignment to unused variable `must_not_implement`

ARG002 Unused method argument: `content`
   --> src/agentforge/core/discovery/analyzers/patterns.py:490:9
    |
488 |         file_path: Path,
489 |         relative_path: str,
490 |         content: str,
    |         ^^^^^^^
491 |         symbols: list[Symbol],
492 |         imports: list,
    |

ARG002 Unused method argument: `root`
   --> src/agentforge/core/discovery/analyzers/structure.py:183:54
    |
181 |         return directories
182 |
183 |     def _detect_layer(self, dir_info: DirectoryInfo, root: Path) -> None:
    |                                                      ^^^^
184 |         """Detect which architectural layer a directory belongs to."""
185 |         path_parts = Path(dir_info.relative_path).parts
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/discovery/analyzers/test_linkage.py:15:1
   |
13 |   """
14 |
15 | / import ast
16 | | import re
17 | | from dataclasses import dataclass, field
18 | | from pathlib import Path
19 | |
20 | | from ..domain import DiscoveredTests, SourceTestLinkage, CoverageGapAnalysis
   | |____________________________________________________________________________^
   |
help: Organize imports

ARG002 Unused method argument: `test_file`
   --> src/agentforge/core/discovery/analyzers/test_linkage.py:157:34
    |
156 |     def _check_import_linkage(
157 |         self, source_file: Path, test_file: Path, imports: set[str]
    |                                  ^^^^^^^^^
158 |     ) -> tuple[float, str]:
159 |         """
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/discovery/generators/as_built_spec.py:15:1
   |
13 |   """
14 |
15 | / import ast
16 | | import re
17 | | from dataclasses import dataclass, field
18 | | from datetime import datetime
19 | | from pathlib import Path
20 | | from typing import Any
21 | |
22 | | import yaml
23 | |
24 | | from ..domain import SourceTestLinkage, CoverageGapAnalysis
   | |___________________________________________________________^
   |
help: Organize imports

ARG002 Unused method argument: `zone_name`
   --> src/agentforge/core/discovery/generators/as_built_spec.py:196:9
    |
194 |         dir_path: str,
195 |         linkages: list[SourceTestLinkage],
196 |         zone_name: str,
    |         ^^^^^^^^^
197 |     ) -> AsBuiltSpec | None:
198 |         """Generate a spec for a single directory."""
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/discovery/generators/as_built_spec.py:309:13
    |
307 |               if isinstance(decorator, ast.Name) and decorator.id == "dataclass":
308 |                   return "dataclass"
309 | /             if isinstance(decorator, ast.Call):
310 | |                 if isinstance(decorator.func, ast.Name) and decorator.func.id == "dataclass":
    | |_____________________________________________________________________________________________^
311 |                       return "dataclass"
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/discovery/generators/as_built_spec.py:347:21
    |
345 |                   for entity in entities:
346 |                       entity_lower = entity.name.lower()
347 | /                     if entity_lower in test_name.lower():
348 | |                         if test_name not in entity.test_methods:
    | |________________________________________________________________^
349 |                               entity.test_methods.append(test_name)
    |
help: Combine `if` statements using `and`

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/discovery/generators/profile.py:13:1
   |
11 |   """
12 |
13 | / from datetime import datetime
14 | | from pathlib import Path
15 | | from typing import Any
16 | |
17 | | import yaml
18 | |
19 | | from ..analyzers.patterns import PatternAnalysisResult
20 | | from ..analyzers.structure import StructureAnalysisResult
21 | | from ..domain import (
22 | |     CodebaseProfile,
23 | |     DependencyInfo,
24 | |     Detection,
25 | |     DetectionSource,
26 | |     DiscoveryMetadata,
27 | |     LanguageInfo,
28 | |     CoverageGapAnalysis,
29 | | )
   | |_^
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/discovery/manager.py:13:1
   |
11 |   """
12 |
13 | / import time
14 | | from collections.abc import Callable
15 | | from dataclasses import dataclass, field
16 | | from enum import Enum
17 | | from pathlib import Path
18 | | from typing import Any
19 | |
20 | | from .analyzers.interactions import InteractionDetector
21 | | from .analyzers.patterns import PatternAnalysisResult, PatternAnalyzer
22 | | from .analyzers.structure import StructureAnalysisResult, StructureAnalyzer
23 | | from .analyzers.test_linkage import TestLinkageAnalyzer
24 | | from .domain import (
25 | |     CodebaseProfile,
26 | |     DependencyInfo,
27 | |     Detection,
28 | |     DetectionSource,
29 | |     DiscoveryPhase,
30 | |     Interaction,
31 | |     LanguageInfo,
32 | |     CoverageGapAnalysis,
33 | |     Zone,
34 | |     ZoneProfile,
35 | | )
36 | | from .generators.as_built_spec import AsBuiltSpecGenerator
37 | | from .generators.lineage_embedder import LineageEmbedder
38 | | from .generators.profile import ProfileGenerator
39 | | from .providers.base import LanguageProvider
40 | | from .providers.dotnet_provider import DotNetProvider
41 | | from .providers.python_provider import PythonProvider
42 | | from .zones.detector import ZoneDetector
43 | | from .zones.merger import ZoneMerger
   | |____________________________________^
44 |
45 |   try:
   |
help: Organize imports

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/discovery/manager.py:400:9
    |
398 |           source_dirs = ["src", "tools", "lib"]
399 |
400 | /         if self._structure_result:
401 | |             # Use detected test directories
402 | |             if self._structure_result.test_directories:
    | |_______________________________________________________^
403 |                   test_dirs = [
404 |                       str(Path(d).relative_to(self.root_path))
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/discovery/providers/dotnet_provider.py:275:13
    |
273 |               decorators = []
274 |
275 | /             if lsp_sym.detail:
276 | |                 # Parse detail like "class Foo : Bar, IBaz"
277 | |                 if ":" in lsp_sym.detail:
    | |_________________________________________^
278 |                       bases_str = lsp_sym.detail.split(":", 1)[1]
279 |                       base_classes = [b.strip() for b in bases_str.split(",")]
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/discovery/providers/python_provider.py:405:13
    |
404 |           for node in ast.walk(tree):
405 | /             if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):
406 | |                 if node.name == function_name:
    | |______________________________________________^
407 |                       return node
408 |           return None
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `max_tokens`
   --> src/agentforge/core/generate/provider.py:264:9
    |
262 |         self,
263 |         prompt: str,
264 |         max_tokens: int = 8192,
    |         ^^^^^^^^^^
265 |         temperature: float = 0.0,
266 |     ) -> tuple[str, TokenUsage]:
    |

ARG002 Unused method argument: `temperature`
   --> src/agentforge/core/generate/provider.py:265:9
    |
263 |         prompt: str,
264 |         max_tokens: int = 8192,
265 |         temperature: float = 0.0,
    |         ^^^^^^^^^^^
266 |     ) -> tuple[str, TokenUsage]:
267 |         """
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/agent_orchestrator.py:700:13
    |
698 |                   files=None
699 |               )
700 | /             if checkpoint and hasattr(checkpoint, 'details') and checkpoint.details:
701 | |                 # Store checkpoint ID in orchestrator context
702 | |                 if session_id in self._session_contexts:
    | |________________________________________________________^
703 |                       self._session_contexts[session_id]["last_checkpoint_id"] = checkpoint.details.get("checkpoint_id")
704 |           except Exception:
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/conformance_tools.py:88:26
   |
86 |         return None
87 |
88 |     def check_file(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                          ^^^^
89 |         """
90 |         Run conformance check on a specific file.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/conformance_tools.py:145:38
    |
143 |             return ToolResult.failure_result("check_file", f"Error running check: {e}")
144 |
145 |     def verify_violation_fixed(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                      ^^^^
146 |         """
147 |         Verify that a specific violation has been fixed.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/conformance_tools.py:205:30
    |
203 |             )
204 |
205 |     def run_full_check(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                              ^^^^
206 |         """
207 |         Run full conformance check on the project.
    |

ARG002 Unused method argument: `params`
   --> src/agentforge/core/harness/conformance_tools.py:205:41
    |
203 |             )
204 |
205 |     def run_full_check(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                         ^^^^^^
206 |         """
207 |         Run full conformance check on the project.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/conformance_tools.py:243:37
    |
241 |             return ToolResult.failure_result("run_full_check", f"Error running check: {e}")
242 |
243 |     def run_conformance_check(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                     ^^^^
244 |         """
245 |         Run a specific conformance check by ID on a file.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/conformance_tools.py:330:36
    |
328 |             )
329 |
330 |     def get_check_definition(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                    ^^^^
331 |         """
332 |         Get the definition of a conformance check.
    |

ARG002 Unused method argument: `acknowledged_by`
  --> src/agentforge/core/harness/escalation_manager.py:91:9
   |
89 |         self,
90 |         escalation_id: str,
91 |         acknowledged_by: str | None = None
   |         ^^^^^^^^^^^^^^^
92 |     ) -> bool:
93 |         """Mark escalation as seen by human.
   |

ARG002 Unused method argument: `reason`
   --> src/agentforge/core/harness/escalation_manager.py:246:53
    |
244 |         return expired
245 |
246 |     def cancel_escalation(self, escalation_id: str, reason: str) -> bool:
    |                                                     ^^^^^^
247 |         """Cancel a pending escalation.
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/fix_violation_workflow.py:310:21
    |
308 |               if step_result.tool_results:
309 |                   for tr in step_result.tool_results:
310 | /                     if tr.tool_name in ("edit_file", "write_file") and tr.success:
311 | |                         # Try to extract file path from the tool call
312 | |                         if step_result.action and step_result.action.tool_calls:
    | |________________________________________________________________________________^
313 |                               for tc in step_result.action.tool_calls:
314 |                                   if tc.name == tr.tool_name:
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/git_tools.py:57:26
   |
55 |         self._pending_commit: dict[str, Any] = {}
56 |
57 |     def git_status(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                          ^^^^
58 |         """
59 |         Show git status.
   |

ARG002 Unused method argument: `params`
  --> src/agentforge/core/harness/git_tools.py:57:37
   |
55 |         self._pending_commit: dict[str, Any] = {}
56 |
57 |     def git_status(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                                     ^^^^^^
58 |         """
59 |         Show git status.
   |

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/git_tools.py:84:24
   |
82 |             return ToolResult.failure_result("git_status", f"Error: {e}")
83 |
84 |     def git_diff(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                        ^^^^
85 |         """
86 |         Show git diff for a file or all changes.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/git_tools.py:120:23
    |
118 |             return ToolResult.failure_result("git_diff", f"Error: {e}")
119 |
120 |     def git_log(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                       ^^^^
121 |         """
122 |         Show recent git commit history.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/git_tools.py:148:23
    |
146 |             return ToolResult.failure_result("git_log", f"Error: {e}")
147 |
148 |     def git_add(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                       ^^^^
149 |         """
150 |         Stage files for commit.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/git_tools.py:180:26
    |
178 |             return ToolResult.failure_result("git_add", f"Error: {e}")
179 |
180 |     def git_commit(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                          ^^^^
181 |         """
182 |         Create a commit with the staged changes.
    |

F811 Redefinition of unused `Phase` from line 82
  --> src/agentforge/core/harness/minimal_context/__init__.py:88:42
   |
86 |     Transition,
87 | )
88 | from .state_store import SCHEMA_VERSION, Phase, TaskState, TaskStateStore
   |                                          ^^^^^ `Phase` redefined here
89 |
90 | # Template-based context building
   |
  ::: src/agentforge/core/harness/minimal_context/__init__.py:82:5
   |
80 | from .native_tool_executor import NativeToolExecutor
81 | from .phase_machine import (
82 |     Phase,
   |     ----- previous definition of `Phase` here
83 |     PhaseConfig,
84 |     PhaseContext,
   |
help: Remove definition: `Phase`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/adaptive_budget.py:175:13
    |
173 |           first_params = last_n[0].get("parameters", {})
174 |           for a in last_n[1:]:
175 | /             if a.get("parameters", {}) != first_params:
176 | |                 if a.get("error") != last_n[0].get("error"):
    | |____________________________________________________________^
177 |                       return False
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/adaptive_budget.py:221:17
    |
219 |               current_count = self._parse_violation_count(summary)
220 |               if current_count is not None:
221 | /                 if self._last_violation_count is not None:
222 | |                     if current_count < self._last_violation_count:
    | |__________________________________________________________________^
223 |                           self._progress_count += 2
224 |                           self._last_violation_count = current_count
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `block_type`
   --> src/agentforge/core/harness/minimal_context/executor.py:558:9
    |
556 |         self,
557 |         yaml_content: str,
558 |         block_type: str,
    |         ^^^^^^^^^^
559 |     ) -> tuple | None:
560 |         """Parse YAML content and validate against AgentResponse schema."""
    |

ARG002 Unused method argument: `task_id`
   --> src/agentforge/core/harness/minimal_context/executor.py:995:9
    |
993 |         self,
994 |         response: LLMResponse,
995 |         task_id: str,
    |         ^^^^^^^
996 |         step: int,
997 |     ) -> StepOutcome:
    |

ARG002 Unused method argument: `step`
   --> src/agentforge/core/harness/minimal_context/executor.py:996:9
    |
994 |         response: LLMResponse,
995 |         task_id: str,
996 |         step: int,
    |         ^^^^
997 |     ) -> StepOutcome:
998 |         """Process LLM response with native tool calls."""
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:368:9
    |
366 |     def _action_read_file(
367 |         self,
368 |         action_name: str,
    |         ^^^^^^^^^^^
369 |         params: dict[str, Any],
370 |         state: TaskState,
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:433:9
    |
431 |     def _action_edit_file(
432 |         self,
433 |         action_name: str,
    |         ^^^^^^^^^^^
434 |         params: dict[str, Any],
435 |         state: TaskState,
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:563:9
    |
561 |     def _action_replace_lines(
562 |         self,
563 |         action_name: str,
    |         ^^^^^^^^^^^
564 |         params: dict[str, Any],
565 |         state: TaskState,
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:667:9
    |
665 |     def _action_insert_lines(
666 |         self,
667 |         action_name: str,
    |         ^^^^^^^^^^^
668 |         params: dict[str, Any],
669 |         state: TaskState,
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:761:9
    |
759 |     def _action_write_file(
760 |         self,
761 |         action_name: str,
    |         ^^^^^^^^^^^
762 |         params: dict[str, Any],
763 |         state: TaskState,
    |

ARG002 Unused method argument: `state`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:763:9
    |
761 |         action_name: str,
762 |         params: dict[str, Any],
763 |         state: TaskState,
    |         ^^^^^
764 |     ) -> dict[str, Any]:
765 |         """
    |

ARG002 Unused method argument: `action_name`
   --> src/agentforge/core/harness/minimal_context/fix_workflow.py:943:9
    |
941 |     def _action_run_check(
942 |         self,
943 |         action_name: str,
    |         ^^^^^^^^^^^
944 |         params: dict[str, Any],
945 |         state: TaskState,
    |

ARG002 Unused method argument: `action_name`
    --> src/agentforge/core/harness/minimal_context/fix_workflow.py:1065:9
     |
1063 |     def _action_run_tests(
1064 |         self,
1065 |         action_name: str,
     |         ^^^^^^^^^^^
1066 |         params: dict[str, Any],
1067 |         state: TaskState,
     |

ARG002 Unused method argument: `action_name`
    --> src/agentforge/core/harness/minimal_context/fix_workflow.py:1099:9
     |
1097 |     def _action_load_context(
1098 |         self,
1099 |         action_name: str,
     |         ^^^^^^^^^^^
1100 |         params: dict[str, Any],
1101 |         state: TaskState,
     |

ARG002 Unused method argument: `action_name`
    --> src/agentforge/core/harness/minimal_context/fix_workflow.py:1137:9
     |
1135 |     def _action_plan_fix(
1136 |         self,
1137 |         action_name: str,
     |         ^^^^^^^^^^^
1138 |         params: dict[str, Any],
1139 |         state: TaskState,
     |

SIM102 Use a single `if` statement instead of nested `if` statements
    --> src/agentforge/core/harness/minimal_context/fix_workflow.py:1205:21
     |
1203 |                   violating_function = None
1204 |                   for node in ast.walk(tree):
1205 | /                     if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):
1206 | |                         if line_number and node.lineno <= line_number <= (node.end_lineno or len(lines)):
     | |_________________________________________________________________________________________________________^
1207 |                               violating_function = node.name
1208 |                               break
     |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
    --> src/agentforge/core/harness/minimal_context/fix_workflow.py:1260:33
     |
1258 |                           if isinstance(node, ast.ClassDef):
1259 |                               for item in node.body:
1260 | /                                 if isinstance(item, (ast.FunctionDef, ast.AsyncFunctionDef)):
1261 | |                                     if item.name == violating_function:
     | |_______________________________________________________________________^
1262 |                                           precomputed["parent_class"] = node.name
1263 |                                           # Include class header and other method signatures
     |
help: Combine `if` statements using `and`

ARG005 Unused lambda argument: `ctx`
   --> src/agentforge/core/harness/minimal_context/phase_machine.py:280:42
    |
278 |                 phase=Phase.INIT,
279 |                 max_steps=2,
280 |                 success_condition=lambda ctx: True,  # Always can leave init
    |                                          ^^^
281 |                 description="Initial setup phase",
282 |             ),
    |

ARG005 Unused lambda argument: `ctx`
   --> src/agentforge/core/harness/minimal_context/phase_machine.py:292:42
    |
290 |                 phase=Phase.PLAN,
291 |                 max_steps=2,
292 |                 success_condition=lambda ctx: True,
    |                                          ^^^
293 |                 description="Plan the fix approach",
294 |             ),
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/phase_machine.py:339:13
    |
338 |           for t in transitions:
339 | /             if t.to_phase == to_phase:
340 | |                 # Check all guards
341 | |                 if all(guard(context) for guard in t.guards):
    | |_____________________________________________________________^
342 |                       return True
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/phase_machine.py:400:9
    |
399 |           # Check 1: Are we stuck in ANALYZE without code_structure facts?
400 | /         if self._current_phase == Phase.ANALYZE and self._steps_in_phase >= 3:
401 | |             if not context.has_fact_of_type("code_structure"):
    | |______________________________________________________________^
402 |                   issues.append(
403 |                       f"Stuck in ANALYZE phase (step {self._steps_in_phase}) without "
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/phase_machine.py:409:9
    |
408 |           # Check 2: Are we in IMPLEMENT without code_structure facts?
409 | /         if self._current_phase == Phase.IMPLEMENT:
410 | |             if not context.has_fact_of_type("code_structure"):
    | |______________________________________________________________^
411 |                   issues.append(
412 |                       "In IMPLEMENT phase without code_structure facts. "
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py:353:21
    |
352 |                   for node in ast.walk(tree):
353 | /                     if isinstance(node, (ast.Import, ast.ImportFrom)):
354 | |                         if isinstance(node, ast.ImportFrom) and node.module:
    | |____________________________________________________________________________^
355 |                               module_path = node.module.replace(".", "/") + ".py"
356 |                               import_file = base_path / module_path
    |
help: Combine `if` statements using `and`

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:112:30
    |
110 |             category=FactCategory.VERIFICATION,
111 |             confidence=1.0,
112 |             extractor=lambda out, m: "Conformance check passed",
    |                              ^^^
113 |         )
114 |     )
    |

ARG005 Unused lambda argument: `m`
   --> src/agentforge/core/harness/minimal_context/understanding.py:112:35
    |
110 |             category=FactCategory.VERIFICATION,
111 |             confidence=1.0,
112 |             extractor=lambda out, m: "Conformance check passed",
    |                                   ^
113 |         )
114 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:123:30
    |
121 |             category=FactCategory.VERIFICATION,
122 |             confidence=1.0,
123 |             extractor=lambda out, m: f"Function '{m.group(1)}' has cyclomatic complexity {m.group(2)} (threshold exceeded)"
    |                              ^^^
124 |             if m
125 |             else "Complexity violation detected",
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:136:30
    |
134 |             category=FactCategory.VERIFICATION,
135 |             confidence=1.0,
136 |             extractor=lambda out, m: f"Function '{m.group(1)}' has {m.group(2)} lines (threshold exceeded)"
    |                              ^^^
137 |             if m
138 |             else "Length violation detected",
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:149:30
    |
147 |             category=FactCategory.VERIFICATION,
148 |             confidence=1.0,
149 |             extractor=lambda out, m: f"Total violations: {m.group(1)}" if m else "Violations found",
    |                              ^^^
150 |         )
151 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:167:30
    |
165 |             category=FactCategory.VERIFICATION,
166 |             confidence=1.0,
167 |             extractor=lambda out, m: f"Tests passed: {m.group(1)}" if m else "Tests passed",
    |                              ^^^
168 |         )
169 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:178:30
    |
176 |             category=FactCategory.VERIFICATION,
177 |             confidence=1.0,
178 |             extractor=lambda out, m: f"Tests failed: {m.group(1)}" if m else "Tests failed",
    |                              ^^^
179 |         )
180 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:189:30
    |
187 |             category=FactCategory.ERROR,
188 |             confidence=0.9,
189 |             extractor=lambda out, m: f"Test failure in: {m.group(1)}" if m else "Test failure detected",
    |                              ^^^
190 |         )
191 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:207:30
    |
205 |             category=FactCategory.CODE_STRUCTURE,
206 |             confidence=1.0,
207 |             extractor=lambda out, m: f"File modified: {m.group(2)}" if m else "File modified",
    |                              ^^^
208 |         )
209 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:218:30
    |
216 |             category=FactCategory.ERROR,
217 |             confidence=1.0,
218 |             extractor=lambda out, m: "Edit failed: target text not found in file",
    |                              ^^^
219 |         )
220 |     )
    |

ARG005 Unused lambda argument: `m`
   --> src/agentforge/core/harness/minimal_context/understanding.py:218:35
    |
216 |             category=FactCategory.ERROR,
217 |             confidence=1.0,
218 |             extractor=lambda out, m: "Edit failed: target text not found in file",
    |                                   ^
219 |         )
220 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:236:30
    |
234 |             category=FactCategory.CODE_STRUCTURE,
235 |             confidence=1.0,
236 |             extractor=lambda out, m: f"Extracted function '{m.group(1)}' from lines {m.group(2)}-{m.group(3)}"
    |                              ^^^
237 |             if m
238 |             else "Function extracted",
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:249:30
    |
247 |             category=FactCategory.ERROR,
248 |             confidence=0.95,
249 |             extractor=lambda out, m: "Extraction blocked by control flow (returns/breaks in selection)",
    |                              ^^^
250 |         )
251 |     )
    |

ARG005 Unused lambda argument: `m`
   --> src/agentforge/core/harness/minimal_context/understanding.py:249:35
    |
247 |             category=FactCategory.ERROR,
248 |             confidence=0.95,
249 |             extractor=lambda out, m: "Extraction blocked by control flow (returns/breaks in selection)",
    |                                   ^
250 |         )
251 |     )
    |

ARG005 Unused lambda argument: `out`
   --> src/agentforge/core/harness/minimal_context/understanding.py:260:30
    |
258 |             category=FactCategory.VERIFICATION,
259 |             confidence=1.0,
260 |             extractor=lambda out, m: "Conformance check passed after extraction",
    |                              ^^^
261 |         )
262 |     )
    |

ARG005 Unused lambda argument: `m`
   --> src/agentforge/core/harness/minimal_context/understanding.py:260:35
    |
258 |             category=FactCategory.VERIFICATION,
259 |             confidence=1.0,
260 |             extractor=lambda out, m: "Conformance check passed after extraction",
    |                                   ^
261 |         )
262 |     )
    |

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> src/agentforge/core/harness/python_tools.py:59:13
   |
58 |           if use_lsp and PyrightAdapter:
59 | /             try:
60 | |                 self.lsp_adapter = PyrightAdapter(str(project_path))
61 | |             except Exception:
62 | |                 pass  # LSP not available
   | |____________________^
63 |
64 |           if PyrightRunner:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

SIM105 Use `contextlib.suppress(Exception)` instead of `try`-`except`-`pass`
  --> src/agentforge/core/harness/python_tools.py:65:13
   |
64 |           if PyrightRunner:
65 | /             try:
66 | |                 self.pyright_runner = PyrightRunner(project_path)
67 | |             except Exception:
68 | |                 pass  # Pyright not available
   | |____________________^
69 |
70 |       def analyze_function(self, name: str, params: dict[str, Any]) -> ToolResult:
   |
help: Replace `try`-`except`-`pass` with `with contextlib.suppress(Exception): ...`

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/python_tools.py:70:32
   |
68 |                 pass  # Pyright not available
69 |
70 |     def analyze_function(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                                ^^^^
71 |         """
72 |         Analyze a Python function's structure and complexity.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/python_tools.py:155:27
    |
153 |             )
154 |
155 |     def get_symbols(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                           ^^^^
156 |         """
157 |         Get all symbols (functions, classes) in a Python file.
    |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/python_tools.py:205:27
    |
203 |             )
204 |
205 |     def check_types(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                           ^^^^
206 |         """
207 |         Run pyright type checking on a file.
    |

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/refactoring_tools.py:50:32
   |
48 |         return self._providers[suffix]
49 |
50 |     def extract_function(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                                ^^^^
51 |         """
52 |         Extract a code block into a helper function.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/refactoring_tools.py:130:36
    |
128 |         )
129 |
130 |     def simplify_conditional(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                    ^^^^
131 |         """
132 |         Simplify a complex conditional using guard clause pattern.
    |

ARG005 Unused lambda argument: `n`
   --> src/agentforge/core/harness/rollback_manager.py:331:32
    |
329 |         """Get dict of tool executors for registration."""
330 |         return {
331 |             "rollback": lambda n, p: self.rollback(p.get("backup_id")),
    |                                ^
332 |             "git_rollback": lambda n, p: self.git_rollback(p.get("files")),
333 |             "git_stash": lambda n, p: self.git_stash(p.get("message")),
    |

ARG005 Unused lambda argument: `n`
   --> src/agentforge/core/harness/rollback_manager.py:332:36
    |
330 |         return {
331 |             "rollback": lambda n, p: self.rollback(p.get("backup_id")),
332 |             "git_rollback": lambda n, p: self.git_rollback(p.get("files")),
    |                                    ^
333 |             "git_stash": lambda n, p: self.git_stash(p.get("message")),
334 |             "git_stash_pop": lambda n, p: self.git_stash_pop(),
    |

ARG005 Unused lambda argument: `n`
   --> src/agentforge/core/harness/rollback_manager.py:333:33
    |
331 |             "rollback": lambda n, p: self.rollback(p.get("backup_id")),
332 |             "git_rollback": lambda n, p: self.git_rollback(p.get("files")),
333 |             "git_stash": lambda n, p: self.git_stash(p.get("message")),
    |                                 ^
334 |             "git_stash_pop": lambda n, p: self.git_stash_pop(),
335 |         }
    |

ARG005 Unused lambda argument: `n`
   --> src/agentforge/core/harness/rollback_manager.py:334:37
    |
332 |             "git_rollback": lambda n, p: self.git_rollback(p.get("files")),
333 |             "git_stash": lambda n, p: self.git_stash(p.get("message")),
334 |             "git_stash_pop": lambda n, p: self.git_stash_pop(),
    |                                     ^
335 |         }
    |

ARG005 Unused lambda argument: `p`
   --> src/agentforge/core/harness/rollback_manager.py:334:40
    |
332 |             "git_rollback": lambda n, p: self.git_rollback(p.get("files")),
333 |             "git_stash": lambda n, p: self.git_stash(p.get("message")),
334 |             "git_stash_pop": lambda n, p: self.git_stash_pop(),
    |                                        ^
335 |         }
    |

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/test_runner_tools.py:29:25
   |
27 |         self.timeout = timeout
28 |
29 |     def run_tests(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                         ^^^^
30 |         """
31 |         Run pytest on specified path.
   |

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/test_runner_tools.py:87:31
   |
85 |             return ToolResult.failure_result("run_tests", f"Error: {e}")
86 |
87 |     def run_single_test(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                               ^^^^
88 |         """
89 |         Run a single test file or test function.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/test_runner_tools.py:126:34
    |
124 |             return ToolResult.failure_result("run_single_test", f"Error: {e}")
125 |
126 |     def run_affected_tests(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                  ^^^^
127 |         """
128 |         Run tests that might be affected by changes to specific files.
    |

ARG002 Unused method argument: `name`
  --> src/agentforge/core/harness/violation_tools.py:94:30
   |
92 |         self.violations_dir = self.project_path / ".agentforge" / "violations"
93 |
94 |     def read_violation(self, name: str, params: dict[str, Any]) -> ToolResult:
   |                              ^^^^
95 |         """
96 |         Read a specific violation by ID.
   |

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/violation_tools.py:135:31
    |
133 |             )
134 |
135 |     def list_violations(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                               ^^^^
136 |         """
137 |         List violations with optional filtering.
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/harness/violation_tools.py:175:17
    |
173 |                       continue
174 |
175 | /                 if file_pattern:
176 | |                     if not fnmatch.fnmatch(data.get("file_path", ""), file_pattern):
    | |____________________________________________________________________________________^
177 |                           continue
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `name`
   --> src/agentforge/core/harness/violation_tools.py:213:37
    |
211 |             )
212 |
213 |     def get_violation_context(self, name: str, params: dict[str, Any]) -> ToolResult:
    |                                     ^^^^
214 |         """
215 |         Get full context for fixing a violation: violation details + file content.
    |

B027 `ResponseStrategy.reset` is an empty method in an abstract base class, but has no abstract decorator
   --> src/agentforge/core/llm/simulated.py:123:5
    |
121 |           pass
122 |
123 | /     def reset(self) -> None:
124 | |         """Reset strategy state (e.g., for replaying scripts)."""
125 | |         pass
    | |____________^
    |

ARG002 Unused method argument: `system`
   --> src/agentforge/core/llm/simulated.py:178:9
    |
176 |     def get_response(
177 |         self,
178 |         system: str,
    |         ^^^^^^
179 |         messages: list[dict[str, Any]],
180 |         tools: list[ToolDefinition],
    |

ARG002 Unused method argument: `messages`
   --> src/agentforge/core/llm/simulated.py:179:9
    |
177 |         self,
178 |         system: str,
179 |         messages: list[dict[str, Any]],
    |         ^^^^^^^^
180 |         tools: list[ToolDefinition],
181 |         context: dict[str, Any],
    |

ARG002 Unused method argument: `tools`
   --> src/agentforge/core/llm/simulated.py:180:9
    |
178 |         system: str,
179 |         messages: list[dict[str, Any]],
180 |         tools: list[ToolDefinition],
    |         ^^^^^
181 |         context: dict[str, Any],
182 |     ) -> SimulatedResponse:
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/llm/simulated.py:181:9
    |
179 |         messages: list[dict[str, Any]],
180 |         tools: list[ToolDefinition],
181 |         context: dict[str, Any],
    |         ^^^^^^^
182 |     ) -> SimulatedResponse:
183 |         """Get next scripted response."""
    |

ARG002 Unused method argument: `system`
   --> src/agentforge/core/llm/simulated.py:312:9
    |
310 |     def get_response(
311 |         self,
312 |         system: str,
    |         ^^^^^^
313 |         messages: list[dict[str, Any]],
314 |         tools: list[ToolDefinition],
    |

ARG002 Unused method argument: `messages`
   --> src/agentforge/core/llm/simulated.py:313:9
    |
311 |         self,
312 |         system: str,
313 |         messages: list[dict[str, Any]],
    |         ^^^^^^^^
314 |         tools: list[ToolDefinition],
315 |         context: dict[str, Any],
    |

ARG002 Unused method argument: `tools`
   --> src/agentforge/core/llm/simulated.py:314:9
    |
312 |         system: str,
313 |         messages: list[dict[str, Any]],
314 |         tools: list[ToolDefinition],
    |         ^^^^^
315 |         context: dict[str, Any],
316 |     ) -> SimulatedResponse:
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/llm/simulated.py:315:9
    |
313 |         messages: list[dict[str, Any]],
314 |         tools: list[ToolDefinition],
315 |         context: dict[str, Any],
    |         ^^^^^^^
316 |     ) -> SimulatedResponse:
317 |         """Get next response in sequence."""
    |

I001 [*] Import block is un-sorted or un-formatted
   --> src/agentforge/core/pipeline/__init__.py:42:1
    |
 40 |   # State management
 41 |   # Phase 2: Artifact dataclasses
 42 | / from .artifacts import (
 43 | |     AnalyzeArtifact,
 44 | |     ClarifyArtifact,
 45 | |     DeliverArtifact,
 46 | |     GreenArtifact,
 47 | |     IntakeArtifact,
 48 | |     RedArtifact,
 49 | |     RefactorArtifact,
 50 | |     SpecArtifact,
 51 | | )
 52 | |
 53 | | # Phase 6: Configuration System
 54 | | from .config import (
 55 | |     ConfigurationLoader,
 56 | |     GlobalSettings,
 57 | |     PipelineConfig,
 58 | |     PipelineTemplate,
 59 | |     PipelineTemplateLoader,
 60 | |     StageConfig,
 61 | |     expand_env_vars,
 62 | | )
 63 | | from .config_validator import (
 64 | |     ConfigValidator,
 65 | | )
 66 | | from .config_validator import (
 67 | |     ValidationError as ConfigValidationError,
 68 | | )
 69 | |
 70 | | # Pipeline controller
 71 | | from .controller import (
 72 | |     PipelineController,
 73 | |     PipelineError,
 74 | |     PipelineNotFoundError,
 75 | |     PipelineResult,
 76 | |     PipelineStateError,
 77 | | )
 78 | |
 79 | | # Escalation handling
 80 | | from .escalation import (
 81 | |     Escalation,
 82 | |     EscalationHandler,
 83 | |     EscalationStatus,
 84 | |     EscalationType,
 85 | |     generate_escalation_id,
 86 | | )
 87 | |
 88 | | # Phase 2: LLM Stage Executors
 89 | | from .llm_stage_executor import (
 90 | |     LLMStageExecutor,
 91 | |     OutputValidation,
 92 | |     ToolBasedStageExecutor,
 93 | | )
 94 | |
 95 | | # Stage registry
 96 | | from .registry import (
 97 | |     DuplicateStageError,
 98 | |     StageExecutorRegistry,
 99 | |     StageNotFoundError,
100 | |     get_registry,
101 | |     register_stage,
102 | | )
103 | |
104 | | # Stage executor interface
105 | | from .stage_executor import (
106 | |     PassthroughExecutor,
107 | |     StageContext,
108 | |     StageExecutor,
109 | |     StageResult,
110 | | )
111 | | from .state import (
112 | |     PIPELINE_TEMPLATES,
113 | |     PipelineState,
114 | |     PipelineStatus,
115 | |     StageState,
116 | |     StageStatus,
117 | |     create_pipeline_state,
118 | |     generate_pipeline_id,
119 | | )
120 | |
121 | | # State persistence
122 | | from .state_store import PipelineStateStore
123 | |
124 | | # Artifact validation
125 | | from .validator import (
126 | |     ArtifactValidator,
127 | |     ValidationError,
128 | |     validate_artifacts,
129 | | )
130 | |
131 | | # Phase transition schemas
132 | | from .schemas import (
133 | |     STAGE_INPUT_REQUIREMENTS,
134 | |     STAGE_OUTPUT_SCHEMAS,
135 | |     STAGE_TRANSITIONS,
136 | |     get_input_schema,
137 | |     get_next_stages,
138 | |     get_output_schema,
139 | |     get_produced_artifacts_by_stage,
140 | |     get_required_artifacts_for_stage,
141 | |     validate_transition,
142 | | )
143 | |
144 | | # Brownfield discovery integration
145 | | from .discovery_integration import (
146 | |     DiscoveredContext,
147 | |     create_pipeline_context_from_discovery,
148 | |     extract_context_from_profile,
149 | |     get_contracts_for_language,
150 | |     resolve_test_path,
151 | |     validate_stage_output_for_language,
152 | | )
    | |_^
153 |
154 |   __all__ = [
    |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/pipeline/controller.py:28:1
   |
26 |   """
27 |
28 | / import logging
29 | | import time
30 | | from dataclasses import dataclass, field
31 | | from pathlib import Path
32 | | from typing import Any
33 | |
34 | | from .escalation import (
35 | |     Escalation,
36 | |     EscalationHandler,
37 | |     EscalationType,
38 | |     generate_escalation_id,
39 | | )
40 | | from .registry import StageExecutorRegistry, StageNotFoundError, get_registry
41 | | from .stage_executor import StageContext, StageResult
42 | | from .state import (
43 | |     PipelineState,
44 | |     PipelineStatus,
45 | |     StageStatus,
46 | |     create_pipeline_state,
47 | | )
48 | | from .state_store import PipelineStateStore
49 | | from .validator import ArtifactValidator
50 | |
51 | | # Contract enforcement imports
52 | | from agentforge.core.contracts.enforcer import (
53 | |     ContractEnforcer,
54 | |     ValidationResult,
55 | |     ViolationSeverity,
56 | | )
57 | | from agentforge.core.contracts.operations.loader import OperationContractManager
58 | | from agentforge.core.contracts.registry import ContractRegistry
59 | | from agentforge.core.contracts.draft import ApprovedContracts
   | |_____________________________________________________________^
60 |
61 |   logger = logging.getLogger(__name__)
   |
help: Organize imports

F401 [*] `agentforge.core.contracts.enforcer.ValidationResult` imported but unused
  --> src/agentforge/core/pipeline/controller.py:54:5
   |
52 | from agentforge.core.contracts.enforcer import (
53 |     ContractEnforcer,
54 |     ValidationResult,
   |     ^^^^^^^^^^^^^^^^
55 |     ViolationSeverity,
56 | )
   |
help: Remove unused import: `agentforge.core.contracts.enforcer.ValidationResult`

F401 [*] `agentforge.core.discovery.domain.CoverageGapAnalysis` imported but unused
  --> src/agentforge/core/pipeline/discovery_integration.py:33:67
   |
32 | if TYPE_CHECKING:
33 |     from agentforge.core.discovery.domain import CodebaseProfile, CoverageGapAnalysis
   |                                                                   ^^^^^^^^^^^^^^^^^^^
   |
help: Remove unused import: `agentforge.core.discovery.domain.CoverageGapAnalysis`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/pipeline/discovery_integration.py:152:9
    |
150 |       # Extract test coverage information
151 |       if profile.test_analysis:
152 | /         if profile.test_analysis.inventory:
153 | |             if profile.test_analysis.inventory.frameworks:
    | |__________________________________________________________^
154 |                   context.test_framework = profile.test_analysis.inventory.frameworks[0]
155 |           context.estimated_coverage = profile.test_analysis.estimated_coverage or 0.0
    |
help: Combine `if` statements using `and`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/pipeline/escalation.py:242:13
    |
240 |           for file_path in self.escalation_dir.glob("*.yaml"):
241 |               escalation = self._load_from_file(file_path)
242 | /             if escalation and escalation.status == EscalationStatus.PENDING:
243 | |                 if pipeline_id is None or escalation.pipeline_id == pipeline_id:
    | |________________________________________________________________________________^
244 |                       pending.append(escalation)
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/llm_stage_executor.py:347:9
    |
345 |         self,
346 |         llm_result: dict[str, Any],
347 |         context: StageContext,
    |         ^^^^^^^
348 |     ) -> dict[str, Any] | None:
349 |         """
    |

E402 Module level import not at top of file
   --> src/agentforge/core/pipeline/llm_stage_executor.py:376:1
    |
375 | # Validation result dataclass (defined here to avoid circular import)
376 | from dataclasses import dataclass, field
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/analyze.py:226:33
    |
224 | """
225 |
226 |     def get_system_prompt(self, context: StageContext) -> str:
    |                                 ^^^^^^^
227 |         """Get analysis system prompt."""
228 |         return self.SYSTEM_PROMPT
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/clarify.py:144:33
    |
142 |         return super().execute(context)
143 |
144 |     def get_system_prompt(self, context: StageContext) -> str:
    |                                 ^^^^^^^
145 |         """Get system prompt for clarify."""
146 |         return self.SYSTEM_PROMPT
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/deliver.py:172:9
    |
170 |     def _deliver_files(
171 |         self,
172 |         context: StageContext,
    |         ^^^^^^^
173 |         artifact: dict[str, Any],
174 |     ) -> StageResult:
    |

F821 Undefined name `Path`
   --> src/agentforge/core/pipeline/stages/green.py:200:50
    |
199 |     @staticmethod
200 |     def _validate_path(path: str, project_path: "Path") -> "Path":
    |                                                  ^^^^
201 |         """
202 |         Validate that a path is within the project directory.
    |

F821 Undefined name `Path`
   --> src/agentforge/core/pipeline/stages/green.py:200:61
    |
199 |     @staticmethod
200 |     def _validate_path(path: str, project_path: "Path") -> "Path":
    |                                                             ^^^^
201 |         """
202 |         Validate that a path is within the project directory.
    |

F401 [*] `pathlib.Path` imported but unused
   --> src/agentforge/core/pipeline/stages/green.py:217:37
    |
215 |             ValueError: If path escapes project directory
216 |         """
217 |         from pathlib import Path as PathClass
    |                                     ^^^^^^^^^
218 |         # Resolve to absolute path and check containment
219 |         resolved = (project_path / path).resolve()
    |
help: Remove unused import: `pathlib.Path`

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/intake.py:122:33
    |
120 |         self._request_counter = 0
121 |
122 |     def get_system_prompt(self, context: StageContext) -> str:
    |                                 ^^^^^^^
123 |         """Get system prompt for intake."""
124 |         return self.SYSTEM_PROMPT
    |

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/pipeline/stages/intake.py:209:9
    |
208 |           # Warn if no questions for unclear scope
209 | /         if artifact.get("detected_scope") == "unclear":
210 | |             if not artifact.get("initial_questions"):
    | |_____________________________________________________^
211 |                   warnings.append("Unclear scope but no clarifying questions")
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/red.py:156:33
    |
154 |         return StageResult.success(artifacts=artifact)
155 |
156 |     def get_system_prompt(self, context: StageContext) -> str:
    |                                 ^^^^^^^
157 |         """Get test generation system prompt."""
158 |         return self.SYSTEM_PROMPT
    |

ARG002 Unused method argument: `conformance`
   --> src/agentforge/core/pipeline/stages/refactor.py:253:9
    |
251 |         artifact: dict[str, Any],
252 |         test_results: dict[str, Any],
253 |         conformance: dict[str, Any],
    |         ^^^^^^^^^^^
254 |     ) -> str:
255 |         """Build refactoring task description."""
    |

ARG002 Unused method argument: `context`
   --> src/agentforge/core/pipeline/stages/spec.py:208:33
    |
206 |         self._spec_counter = 0
207 |
208 |     def get_system_prompt(self, context: StageContext) -> str:
    |                                 ^^^^^^^
209 |         """Get spec generation system prompt."""
210 |         return self.SYSTEM_PROMPT
    |

UP035 [*] Import from `collections.abc` instead: `Generator`
  --> src/agentforge/core/pipeline/state_store.py:27:1
   |
25 | from pathlib import Path
26 | from queue import Empty, Queue
27 | from typing import Any, Generator
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
28 |
29 | import yaml
   |
help: Import from `collections.abc`

F401 [*] `.schemas.get_input_schema` imported but unused
  --> src/agentforge/core/pipeline/validator.py:28:5
   |
26 | from .schemas import (
27 |     STAGE_INPUT_REQUIREMENTS,
28 |     get_input_schema,
   |     ^^^^^^^^^^^^^^^^
29 |     get_output_schema,
30 |     validate_transition,
   |
help: Remove unused import: `.schemas.get_input_schema`

F401 [*] `.discovery_integration.DiscoveredContext` imported but unused
  --> src/agentforge/core/pipeline/validator.py:34:40
   |
33 | if TYPE_CHECKING:
34 |     from .discovery_integration import DiscoveredContext
   |                                        ^^^^^^^^^^^^^^^^^
35 |
36 | logger = logging.getLogger(__name__)
   |
help: Remove unused import: `.discovery_integration.DiscoveredContext`

SIM102 Use a single `if` statement instead of nested `if` statements
   --> src/agentforge/core/refactoring/rope_provider.py:198:17
    |
196 |               new_content = None
197 |               for change in changes.changes:
198 | /                 if isinstance(change, ChangeContents):
199 | |                     if change.resource.path == resource.path:
    | |_____________________________________________________________^
200 |                           new_content = change.new_contents
201 |                           break
    |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `feature_description`
   --> src/agentforge/core/spec/placement.py:244:9
    |
242 |     def analyze(
243 |         self,
244 |         feature_description: str,
    |         ^^^^^^^^^^^^^^^^^^^
245 |         target_locations: list[str],
246 |         explicit_spec_id: str | None = None,
    |

I001 [*] Import block is un-sorted or un-formatted
  --> src/agentforge/core/tdflow/__init__.py:15:1
   |
13 |   """
14 |
15 | / from agentforge.core.tdflow.domain import (
16 | |     ComponentProgress,
17 | |     ComponentStatus,
18 | |     ImplementationFile,
19 | |     PhaseResult,
20 | |     SessionHistory,
21 | |     TDFlowPhase,
22 | |     TDFlowSession,
23 | |     TestCase,
24 | |     TestFile,
25 | |     RunResult,
26 | |     VerificationReport,
27 | | )
28 | | from agentforge.core.tdflow.orchestrator import TDFlowOrchestrator
29 | | from agentforge.core.tdflow.session import SessionManager
   | |_________________________________________________________^
30 |
31 |   __all__ = [
   |
help: Organize imports

ARG002 Unused method argument: `spec`
   --> src/agentforge/core/tdflow/phases/green.py:227:9
    |
225 |         self,
226 |         component: ComponentProgress,
227 |         spec: dict[str, Any],
    |         ^^^^
228 |         iteration: int,
229 |     ) -> str | None:
    |

ARG002 Unused method argument: `iteration`
   --> src/agentforge/core/tdflow/phases/green.py:228:9
    |
226 |         component: ComponentProgress,
227 |         spec: dict[str, Any],
228 |         iteration: int,
    |         ^^^^^^^^^
229 |     ) -> str | None:
230 |         """
    |

ARG002 Unused method argument: `spec`
   --> src/agentforge/core/tdflow/phases/red.py:222:9
    |
220 |         self,
221 |         component: ComponentProgress,
222 |         spec: dict[str, Any],
    |         ^^^^
223 |     ) -> str | None:
224 |         """
    |

ARG002 Unused method argument: `component`
   --> src/agentforge/core/tdflow/phases/refactor.py:226:9
    |
224 |     def _refactor_implementation(
225 |         self,
226 |         component: ComponentProgress,
    |         ^^^^^^^^^
227 |         content: str,
228 |         violations: list[dict[str, Any]],
    |

ARG002 Unused method argument: `violations`
   --> src/agentforge/core/tdflow/phases/refactor.py:228:9
    |
226 |         component: ComponentProgress,
227 |         content: str,
228 |         violations: list[dict[str, Any]],
    |         ^^^^^^^^^^
229 |     ) -> str | None:
230 |         """
    |

ARG002 Unused method argument: `returncode`
  --> src/agentforge/core/tdflow/runners/pytest_runner.py:97:42
   |
95 |         )
96 |
97 |     def _parse_output(self, output: str, returncode: int) -> RunResult:
   |                                          ^^^^^^^^^^
98 |         """
99 |         Parse pytest output.
   |

ARG002 Unused method argument: `source`
  --> src/agentforge/core/verification_ast.py:30:9
   |
28 |         self,
29 |         tree: ast.AST,
30 |         source: str,
   |         ^^^^^^
31 |         metric: str,
32 |         max_value: int,
   |

SIM102 Use a single `if` statement instead of nested `if` statements
  --> src/agentforge/core/verification_ast.py:60:13
   |
59 |           for node in ast.walk(tree):
60 | /             if isinstance(node, (ast.FunctionDef, ast.AsyncFunctionDef)):
61 | |                 if hasattr(node, 'end_lineno') and hasattr(node, 'lineno'):
   | |___________________________________________________________________________^
62 |                       length = node.end_lineno - node.lineno + 1
63 |                       if length > max_lines:
   |
help: Combine `if` statements using `and`

ARG002 Unused method argument: `settings`
   --> src/agentforge/core/verification_checks.py:140:51
    |
138 |     # --- File Exists Check ---
139 |
140 |     def _run_file_exists_check(self, check: dict, settings: dict) -> CheckResult:
    |                                                   ^^^^^^^^
141 |         """Check if required files exist."""
142 |         check_id = check["id"]
    |

ARG002 Unused method argument: `settings`
   --> src/agentforge/core/verification_checks.py:205:46
    |
203 |         return violations
204 |
205 |     def _run_import_check(self, check: dict, settings: dict) -> CheckResult:
    |                                              ^^^^^^^^
206 |         """Check import/dependency rules (layer isolation)."""
207 |         check_id = check["id"]
    |

ARG002 Unused method argument: `settings`
   --> src/agentforge/core/verification_checks.py:277:46
    |
275 |         )
276 |
277 |     def _run_custom_check(self, check: dict, settings: dict) -> CheckResult:
    |                                              ^^^^^^^^
278 |         """Run a custom Python function check."""
279 |         check_id = check["id"]
    |

ARG002 Unused method argument: `settings`
   --> src/agentforge/core/verification_checks.py:299:49
    |
297 |     # --- Contracts Check ---
298 |
299 |     def _run_contracts_check(self, check: dict, settings: dict) -> CheckResult:
    |                                                 ^^^^^^^^
300 |         """Run contract-based checks using the contracts module."""
301 |         check_id = check["id"]
    |

E402 Module level import not at top of file
  --> src/agentforge/core/workspace.py:37:1
   |
37 | from .workspace_config import discover_config, find_upward, format_config_status, load_yaml_file
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
38 |
39 | # =============================================================================
   |

W292 [*] No newline at end of file
 --> test.py:1:9
  |
1 | # backup
  |         ^
  |
help: Add trailing newline

ARG002 Unused method argument: `temp_project_with_spec`
   --> tests/integration/cli/test_pipeline_cli_integration.py:195:57
    |
193 |             assert result.exit_code == 0
194 |
195 |     def test_implement_from_spec_file(self, cli_runner, temp_project_with_spec, mock_pipeline_controller):
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^
196 |         """implement from spec file loads spec and runs."""
197 |         from agentforge.cli.main import cli
    |

ARG002 Unused method argument: `realistic_project`
   --> tests/integration/context/test_context_v2_integration.py:160:54
    |
158 |         assert "correctness_first" in yaml_output
159 |
160 |     def test_compaction_with_realistic_context(self, realistic_project):
    |                                                      ^^^^^^^^^^^^^^^^^
161 |         """Test compaction with realistic context sizes."""
162 |         # Create a large context that needs compaction
    |

ARG002 Unused method argument: `realistic_project`
   --> tests/integration/context/test_context_v2_integration.py:249:43
    |
247 |         assert (audit_dir / "step_2_thinking.md").exists()
248 |
249 |     def test_template_token_budgets(self, realistic_project):
    |                                           ^^^^^^^^^^^^^^^^^
250 |         """Test that template token budgets are reasonable."""
251 |         for task_type in ["fix_violation", "implement_feature"]:
    |

ARG002 Unused method argument: `temp_project`
   --> tests/integration/context/test_context_v2_integration.py:374:59
    |
372 |             yield project
373 |
374 |     def test_llm_client_factory_creates_real_client(self, temp_project):
    |                                                           ^^^^^^^^^^^^
375 |         """Test that factory creates real client when mode is 'real'."""
376 |         # Skip if no API key
    |

ARG002 Unused method argument: `temp_dir`
   --> tests/integration/harness/test_harness_workflow.py:277:72
    |
275 |         assert health.status in [HealthStatus.DEGRADED, HealthStatus.CRITICAL]
276 |
277 |     def test_checkpoint_creation_and_listing(self, checkpoint_manager, temp_dir):
    |                                                                        ^^^^^^^^
278 |         """Test checkpoint creation and listing."""
279 |         # Create checkpoint with required state parameter
    |

ARG002 Unused method argument: `context`
  --> tests/integration/pipeline/conftest.py:80:23
   |
78 |     """Clarify stage: Identify ambiguities and clarify requirements."""
79 |
80 |     def execute(self, context: StageContext) -> StageResult:
   |                       ^^^^^^^
81 |         # Simulate clarification
82 |         return StageResult.success({
   |

ARG002 Unused method argument: `context`
  --> tests/integration/pipeline/conftest.py:92:23
   |
90 |     """Analyze stage: Analyze codebase for implementation."""
91 |
92 |     def execute(self, context: StageContext) -> StageResult:
   |                       ^^^^^^^
93 |         # Simulate code analysis
94 |         return StageResult.success({
   |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:104:23
    |
102 |     """Spec stage: Generate implementation specification."""
103 |
104 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
105 |         return StageResult.success({
106 |             "spec": {
    |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:120:23
    |
118 |     """Red stage: Write failing tests."""
119 |
120 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
121 |         return StageResult.success({
122 |             "tests_written": 1,
    |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:131:23
    |
129 |     """Green stage: Implement to make tests pass."""
130 |
131 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
132 |         return StageResult.success({
133 |             "implementation_file": "src/main.py",
    |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:142:23
    |
140 |     """Refactor stage: Clean up implementation."""
141 |
142 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
143 |         return StageResult.success({
144 |             "refactorings_applied": 0,
    |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:152:23
    |
150 |     """Deliver stage: Finalize and deliver the implementation."""
151 |
152 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
153 |         return StageResult.success({
154 |             "deliverables": ["src/main.py", "tests/test_main.py"],
    |

ARG002 Unused method argument: `context`
   --> tests/integration/pipeline/conftest.py:182:23
    |
180 |         self.error_message = error_message
181 |
182 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
183 |         self.call_count += 1
184 |         if self.call_count <= self.succeed_count:
    |

ARG002 Unused method argument: `temp_project_with_code`
  --> tests/integration/pipeline/stages/test_design_pipeline.py:29:51
   |
27 |     """Integration tests for design pipeline flow."""
28 |
29 |     def test_design_pipeline_intake_to_spec(self, temp_project_with_code):
   |                                                   ^^^^^^^^^^^^^^^^^^^^^^
30 |         """Design pipeline executes INTAKE â†’ CLARIFY â†’ ANALYZE â†’ SPEC."""
31 |         registry = StageExecutorRegistry()
   |

ARG002 Unused method argument: `temp_project`
   --> tests/integration/tool_handlers/test_context_injection.py:160:55
    |
158 |         return NativeToolExecutor(actions=handlers)
159 |
160 |     def test_read_write_edit_workflow(self, executor, temp_project):
    |                                                       ^^^^^^^^^^^^
161 |         """Complete read-write-edit workflow through executor."""
162 |         # Read original file
    |

ARG002 Unused method argument: `temp_project`
   --> tests/integration/tool_handlers/test_context_injection.py:208:51
    |
206 |         assert "modified" in verify_result.content
207 |
208 |     def test_search_finds_content(self, executor, temp_project):
    |                                                   ^^^^^^^^^^^^
209 |         """Search handler finds content in files."""
210 |         search_call = ToolCall(
    |

ARG002 Unused method argument: `temp_project`
   --> tests/integration/tool_handlers/test_context_injection.py:221:57
    |
219 |         assert "module.py" in result.content
220 |
221 |     def test_execution_log_tracks_calls(self, executor, temp_project):
    |                                                         ^^^^^^^^^^^^
222 |         """Execution log records all tool calls."""
223 |         # Make a few calls
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/integration/tool_handlers/test_context_injection.py:259:55
    |
257 |     """Tests for context passed directly in params."""
258 |
259 |     def test_handler_receives_context_in_params(self, tmp_path):
    |                                                       ^^^^^^^^
260 |         """Handler can access _context from params."""
261 |         received_context = {}
    |

F401 [*] `pytest` imported but unused
 --> tests/unit/audit/test_audit_manager.py:7:8
  |
5 | """Tests for AuditManager - central audit trail coordinator."""
6 |
7 | import pytest
  |        ^^^^^^
8 |
9 | from agentforge.core.audit import AuditManager
  |
help: Remove unused import: `pytest`

F401 [*] `agentforge.core.audit.thread_correlator.SpawnType` imported but unused
  --> tests/unit/audit/test_audit_manager.py:10:53
   |
 9 | from agentforge.core.audit import AuditManager
10 | from agentforge.core.audit.thread_correlator import SpawnType, ThreadStatus
   |                                                     ^^^^^^^^^
   |
help: Remove unused import: `agentforge.core.audit.thread_correlator.SpawnType`

F841 Local variable `child2_id` is assigned to but never used
   --> tests/unit/audit/test_audit_manager.py:237:9
    |
235 |             reason="delegation",
236 |         )
237 |         child2_id = audit.spawn_child_thread(
    |         ^^^^^^^^^
238 |             parent_thread_id=root_id,
239 |             name="Child 2",
    |
help: Remove assignment to unused variable `child2_id`

F841 Local variable `child_id` is assigned to but never used
   --> tests/unit/audit/test_audit_manager.py:303:9
    |
301 |         )
302 |
303 |         child_id = audit.spawn_child_thread(
    |         ^^^^^^^^
304 |             parent_thread_id=thread_id,
305 |             name="Child",
    |
help: Remove assignment to unused variable `child_id`

F401 [*] `pytest` imported but unused
 --> tests/unit/audit/test_context_frame.py:7:8
  |
5 | """Tests for ContextFrame and related contract-aware audit structures."""
6 |
7 | import pytest
  |        ^^^^^^
8 |
9 | from agentforge.core.audit.context_frame import (
  |
help: Remove unused import: `pytest`

F401 [*] `pytest` imported but unused
 --> tests/unit/audit/test_conversation_archive.py:7:8
  |
5 | """Tests for ConversationArchive - full LLM conversation storage."""
6 |
7 | import pytest
  |        ^^^^^^
8 |
9 | from agentforge.core.audit.conversation_archive import (
  |
help: Remove unused import: `pytest`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/audit/test_frame_logger.py:7:1
   |
 5 |   """Tests for FrameLogger - contract-aware frame logging."""
 6 |
 7 | / import yaml
 8 | | import pytest
 9 | |
10 | | from agentforge.core.audit.frame_logger import FrameLogger
11 | | from agentforge.core.audit.context_frame import (
12 | |     FrameType,
13 | |     ValidationStatus,
14 | | )
   | |_^
   |
help: Organize imports

F401 [*] `yaml` imported but unused
 --> tests/unit/audit/test_frame_logger.py:7:8
  |
5 | """Tests for FrameLogger - contract-aware frame logging."""
6 |
7 | import yaml
  |        ^^^^
8 | import pytest
  |
help: Remove unused import: `yaml`

F401 [*] `pytest` imported but unused
  --> tests/unit/audit/test_frame_logger.py:8:8
   |
 7 | import yaml
 8 | import pytest
   |        ^^^^^^
 9 |
10 | from agentforge.core.audit.frame_logger import FrameLogger
   |
help: Remove unused import: `pytest`

F401 [*] `agentforge.core.audit.context_frame.ValidationStatus` imported but unused
  --> tests/unit/audit/test_frame_logger.py:13:5
   |
11 | from agentforge.core.audit.context_frame import (
12 |     FrameType,
13 |     ValidationStatus,
   |     ^^^^^^^^^^^^^^^^
14 | )
   |
help: Remove unused import: `agentforge.core.audit.context_frame.ValidationStatus`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/audit/test_integrity_chain.py:7:1
   |
 5 |   """Tests for IntegrityChain - tamper-evident logging."""
 6 |
 7 | / import yaml
 8 | | import pytest
 9 | |
10 | | from agentforge.core.audit.integrity_chain import (
11 | |     ChainBlock,
12 | |     IntegrityChain,
13 | |     compute_hash,
14 | |     verify_thread_integrity,
15 | | )
   | |_^
   |
help: Organize imports

F401 [*] `pytest` imported but unused
  --> tests/unit/audit/test_integrity_chain.py:8:8
   |
 7 | import yaml
 8 | import pytest
   |        ^^^^^^
 9 |
10 | from agentforge.core.audit.integrity_chain import (
   |
help: Remove unused import: `pytest`

F401 [*] `agentforge.core.audit.integrity_chain.ChainBlock` imported but unused
  --> tests/unit/audit/test_integrity_chain.py:11:5
   |
10 | from agentforge.core.audit.integrity_chain import (
11 |     ChainBlock,
   |     ^^^^^^^^^^
12 |     IntegrityChain,
13 |     compute_hash,
   |
help: Remove unused import: `agentforge.core.audit.integrity_chain.ChainBlock`

ARG005 Unused lambda argument: `bid`
   --> tests/unit/audit/test_integrity_chain.py:143:53
    |
141 |         tampered_data = {"data": "tampered"}
142 |
143 |         result = chain.verify(content_loader=lambda bid: tampered_data)
    |                                                     ^^^
144 |
145 |         assert result.valid is False
    |

F401 [*] `pytest` imported but unused
 --> tests/unit/audit/test_thread_correlator.py:7:8
  |
5 | """Tests for ThreadCorrelator - agent delegation and parallel tracking."""
6 |
7 | import pytest
  |        ^^^^^^
8 |
9 | from agentforge.core.audit.thread_correlator import (
  |
help: Remove unused import: `pytest`

F401 [*] `agentforge.core.audit.thread_correlator.ThreadInfo` imported but unused
  --> tests/unit/audit/test_thread_correlator.py:12:5
   |
10 |     SpawnType,
11 |     ThreadCorrelator,
12 |     ThreadInfo,
   |     ^^^^^^^^^^
13 |     ThreadStatus,
14 | )
   |
help: Remove unused import: `agentforge.core.audit.thread_correlator.ThreadInfo`

F841 Local variable `parent` is assigned to but never used
  --> tests/unit/audit/test_thread_correlator.py:43:9
   |
42 |         # Create parent
43 |         parent = correlator.create_thread(
   |         ^^^^^^
44 |             thread_id="parent-001",
45 |             thread_type="pipeline",
   |
help: Remove assignment to unused variable `parent`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/audit/test_transaction_logger.py:7:1
   |
 5 |   """Tests for TransactionLogger - full LLM conversation capture."""
 6 |
 7 | / import yaml
 8 | | import pytest
 9 | |
10 | | from agentforge.core.audit.transaction_logger import (
11 | |     ToolCallRecord,
12 | |     TransactionLogger,
13 | |     TransactionRecord,
14 | |     TransactionType,
15 | | )
   | |_^
   |
help: Organize imports

F401 [*] `pytest` imported but unused
  --> tests/unit/audit/test_transaction_logger.py:8:8
   |
 7 | import yaml
 8 | import pytest
   |        ^^^^^^
 9 |
10 | from agentforge.core.audit.transaction_logger import (
   |
help: Remove unused import: `pytest`

ARG002 Unused method argument: `temp_project_with_spec`
   --> tests/unit/cli/test_pipeline_commands.py:246:74
    |
244 |             mock_controller.execute.assert_called_once()
245 |
246 |     def test_implement_from_spec(self, cli_runner, cli, mock_controller, temp_project_with_spec):
    |                                                                          ^^^^^^^^^^^^^^^^^^^^^^
247 |         """--from-spec loads existing specification."""
248 |         with patch(PATCH_GET_CONTROLLER) as mock_get:
    |

ARG002 Unused method argument: `temp_project_with_spec`
   --> tests/unit/cli/test_pipeline_commands.py:267:76
    |
265 |             assert result.exit_code == 0 or "not found" in result.output.lower()
266 |
267 |     def test_implement_skip_to_red(self, cli_runner, cli, mock_controller, temp_project_with_spec):
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^^
268 |         """--skip-to red jumps to RED stage."""
269 |         with patch(PATCH_GET_CONTROLLER) as mock_get:
    |

ARG002 Unused method argument: `temp_project_with_artifacts`
   --> tests/unit/cli/test_pipeline_commands.py:753:57
    |
751 |     """Tests for the 'artifacts' command."""
752 |
753 |     def test_artifacts_shows_all(self, cli_runner, cli, temp_project_with_artifacts):
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
754 |         """artifacts shows all pipeline artifacts."""
755 |         with cli_runner.isolated_filesystem():
    |

ARG002 Unused method argument: `logger`
  --> tests/unit/context/test_audit.py:52:44
   |
50 |         }
51 |
52 |     def test_audit_directory_created(self, logger, temp_project):
   |                                            ^^^^^^
53 |         """Audit directory is created on init."""
54 |         expected = temp_project / ".agentforge" / "context_audit" / "test-task-001"
   |

ARG002 Unused method argument: `manager`
   --> tests/unit/context/test_compaction.py:101:47
    |
 99 |                     assert rule_i.priority <= rule_j.priority
100 |
101 |     def test_compaction_stops_at_budget(self, manager):
    |                                               ^^^^^^^
102 |         """Compaction stops once budget is met."""
103 |         # Context slightly over budget
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:368:47
    |
367 |         class MockSummarizer:
368 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
369 |                 return f"Summary of {len(content)} chars"
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:391:33
    |
390 |         class MockSummarizer:
391 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
392 |                 return "Summarized list items"
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:391:47
    |
390 |         class MockSummarizer:
391 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
392 |                 return "Summarized list items"
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:413:33
    |
412 |         class FailingSummarizer:
413 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
414 |                 raise RuntimeError("Summarization failed")
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:413:47
    |
412 |         class FailingSummarizer:
413 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
414 |                 raise RuntimeError("Summarization failed")
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:436:33
    |
435 |         class MockSummarizer:
436 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
437 |                 return "summary"
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:436:47
    |
435 |         class MockSummarizer:
436 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
437 |                 return "summary"
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:449:33
    |
448 |         class MockSummarizer:
449 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
450 |                 return "summary"
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:449:47
    |
448 |         class MockSummarizer:
449 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
450 |                 return "summary"
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:476:33
    |
475 |         class MockSummarizer:
476 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
477 |                 return "summary"
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:476:47
    |
475 |         class MockSummarizer:
476 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
477 |                 return "summary"
    |

ARG002 Unused method argument: `content`
   --> tests/unit/context/test_compaction.py:499:33
    |
498 |         class MockSummarizer:
499 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                 ^^^^^^^
500 |                 return "should not be called"
    |

ARG002 Unused method argument: `max_tokens`
   --> tests/unit/context/test_compaction.py:499:47
    |
498 |         class MockSummarizer:
499 |             def summarize(self, content: str, max_tokens: int) -> str:
    |                                               ^^^^^^^^^^
500 |                 return "should not be called"
    |

ARG002 Unused method argument: `phase`
  --> tests/unit/context/test_templates.py:79:43
   |
77 |                 return ["init"]
78 |
79 |             def get_tier2_for_phase(self, phase):
   |                                           ^^^^^
80 |                 return TierDefinition(name="test", max_tokens=100, sections=[])
   |

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_cli.py:7:1
   |
 5 |   """Tests for contract CLI commands."""
 6 |
 7 | / import pytest
 8 | | from click.testing import CliRunner
 9 | | from pathlib import Path
10 | |
11 | | from agentforge.core.contracts.cli import (
12 | |     task_contracts,
13 | |     list_command,
14 | |     show_command,
15 | |     approve_command,
16 | |     delete_command,
17 | | )
18 | | from agentforge.core.contracts.draft import (
19 | |     ApprovedContracts,
20 | |     ContractDraft,
21 | |     StageContract,
22 | | )
23 | | from agentforge.core.contracts.registry import ContractRegistry
   | |_______________________________________________________________^
   |
help: Organize imports

F401 [*] `pathlib.Path` imported but unused
  --> tests/unit/contracts/test_cli.py:9:21
   |
 7 | import pytest
 8 | from click.testing import CliRunner
 9 | from pathlib import Path
   |                     ^^^^
10 |
11 | from agentforge.core.contracts.cli import (
   |
help: Remove unused import: `pathlib.Path`

F401 [*] `agentforge.core.contracts.cli.list_command` imported but unused
  --> tests/unit/contracts/test_cli.py:13:5
   |
11 | from agentforge.core.contracts.cli import (
12 |     task_contracts,
13 |     list_command,
   |     ^^^^^^^^^^^^
14 |     show_command,
15 |     approve_command,
   |
help: Remove unused import

F401 [*] `agentforge.core.contracts.cli.show_command` imported but unused
  --> tests/unit/contracts/test_cli.py:14:5
   |
12 |     task_contracts,
13 |     list_command,
14 |     show_command,
   |     ^^^^^^^^^^^^
15 |     approve_command,
16 |     delete_command,
   |
help: Remove unused import

F401 [*] `agentforge.core.contracts.cli.approve_command` imported but unused
  --> tests/unit/contracts/test_cli.py:15:5
   |
13 |     list_command,
14 |     show_command,
15 |     approve_command,
   |     ^^^^^^^^^^^^^^^
16 |     delete_command,
17 | )
   |
help: Remove unused import

F401 [*] `agentforge.core.contracts.cli.delete_command` imported but unused
  --> tests/unit/contracts/test_cli.py:16:5
   |
14 |     show_command,
15 |     approve_command,
16 |     delete_command,
   |     ^^^^^^^^^^^^^^
17 | )
18 | from agentforge.core.contracts.draft import (
   |
help: Remove unused import

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_draft.py:7:1
   |
 5 |   """Tests for contract draft data structures."""
 6 |
 7 | / import pytest
 8 | |
 9 | | from agentforge.core.contracts.draft import (
10 | |     Assumption,
11 | |     ApprovedContracts,
12 | |     ContractDraft,
13 | |     EscalationTrigger,
14 | |     OpenQuestion,
15 | |     QualityGate,
16 | |     Revision,
17 | |     StageContract,
18 | |     ValidationRule,
19 | | )
   | |_^
   |
help: Organize imports

F401 [*] `pytest` imported but unused
 --> tests/unit/contracts/test_draft.py:7:8
  |
5 | """Tests for contract draft data structures."""
6 |
7 | import pytest
  |        ^^^^^^
8 |
9 | from agentforge.core.contracts.draft import (
  |
help: Remove unused import: `pytest`

F401 [*] `agentforge.core.contracts.draft.Revision` imported but unused
  --> tests/unit/contracts/test_draft.py:16:5
   |
14 |     OpenQuestion,
15 |     QualityGate,
16 |     Revision,
   |     ^^^^^^^^
17 |     StageContract,
18 |     ValidationRule,
   |
help: Remove unused import: `agentforge.core.contracts.draft.Revision`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_drafter.py:7:1
   |
 5 |   """Tests for contract drafter."""
 6 |
 7 | / import pytest
 8 | |
 9 | | from agentforge.core.contracts.drafter import (
10 | |     CodebaseContext,
11 | |     ContractDrafter,
12 | |     DrafterConfig,
13 | | )
14 | | from agentforge.core.contracts.draft import ContractDraft
15 | | from agentforge.core.llm.factory import LLMClientFactory
   | |________________________________________________________^
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_enforcer.py:7:1
   |
 5 |   """Tests for contract enforcer."""
 6 |
 7 | / import pytest
 8 | |
 9 | | from agentforge.core.contracts.enforcer import (
10 | |     ContractEnforcer,
11 | |     EscalationCheck,
12 | |     QualityGateResult,
13 | |     ValidationResult,
14 | |     Violation,
15 | |     ViolationSeverity,
16 | |     ViolationType,
17 | | )
18 | | from agentforge.core.contracts.draft import (
19 | |     ApprovedContracts,
20 | |     EscalationTrigger,
21 | |     QualityGate,
22 | |     StageContract,
23 | |     ValidationRule,
24 | | )
   | |_^
   |
help: Organize imports

F401 [*] `agentforge.core.contracts.enforcer.EscalationCheck` imported but unused
  --> tests/unit/contracts/test_enforcer.py:11:5
   |
 9 | from agentforge.core.contracts.enforcer import (
10 |     ContractEnforcer,
11 |     EscalationCheck,
   |     ^^^^^^^^^^^^^^^
12 |     QualityGateResult,
13 |     ValidationResult,
   |
help: Remove unused import

F401 [*] `agentforge.core.contracts.enforcer.QualityGateResult` imported but unused
  --> tests/unit/contracts/test_enforcer.py:12:5
   |
10 |     ContractEnforcer,
11 |     EscalationCheck,
12 |     QualityGateResult,
   |     ^^^^^^^^^^^^^^^^^
13 |     ValidationResult,
14 |     Violation,
   |
help: Remove unused import

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_evolution.py:7:1
   |
 5 |   """Tests for contract evolution handler."""
 6 |
 7 | / import pytest
 8 | |
 9 | | from agentforge.core.contracts.evolution import (
10 | |     AssumptionViolation,
11 | |     ContractChange,
12 | |     ContractEscalation,
13 | |     ContractEvolutionHandler,
14 | |     EvolutionViolationType,
15 | | )
16 | | from agentforge.core.contracts.draft import (
17 | |     ApprovedContracts,
18 | |     Assumption,
19 | |     StageContract,
20 | | )
   | |_^
   |
help: Organize imports

F401 [*] `agentforge.core.contracts.draft.Assumption` imported but unused
  --> tests/unit/contracts/test_evolution.py:18:5
   |
16 | from agentforge.core.contracts.draft import (
17 |     ApprovedContracts,
18 |     Assumption,
   |     ^^^^^^^^^^
19 |     StageContract,
20 | )
   |
help: Remove unused import: `agentforge.core.contracts.draft.Assumption`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_operations.py:7:1
   |
 5 |   """Tests for operation contracts and loader."""
 6 |
 7 | / import pytest
 8 | | from pathlib import Path
 9 | |
10 | | from agentforge.core.contracts.operations import (
11 | |     OperationContract,
12 | |     OperationRule,
13 | |     OperationTrigger,
14 | |     OperationGate,
15 | |     load_operation_contract,
16 | |     load_all_operation_contracts,
17 | |     get_builtin_contracts_path,
18 | | )
19 | | from agentforge.core.contracts.operations.loader import OperationContractManager
   | |________________________________________________________________________________^
   |
help: Organize imports

F401 [*] `pathlib.Path` imported but unused
  --> tests/unit/contracts/test_operations.py:8:21
   |
 7 | import pytest
 8 | from pathlib import Path
   |                     ^^^^
 9 |
10 | from agentforge.core.contracts.operations import (
   |
help: Remove unused import: `pathlib.Path`

F401 [*] `agentforge.core.contracts.operations.get_builtin_contracts_path` imported but unused
  --> tests/unit/contracts/test_operations.py:17:5
   |
15 |     load_operation_contract,
16 |     load_all_operation_contracts,
17 |     get_builtin_contracts_path,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^
18 | )
19 | from agentforge.core.contracts.operations.loader import OperationContractManager
   |
help: Remove unused import: `agentforge.core.contracts.operations.get_builtin_contracts_path`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_registry.py:7:1
   |
 5 |   """Tests for contract registry."""
 6 |
 7 | / import pytest
 8 | | from pathlib import Path
 9 | |
10 | | from agentforge.core.contracts.draft import (
11 | |     ApprovedContracts,
12 | |     ContractDraft,
13 | |     EscalationTrigger,
14 | |     StageContract,
15 | |     ValidationRule,
16 | | )
17 | | from agentforge.core.contracts.registry import (
18 | |     ContractRegistry,
19 | |     generate_contract_set_id,
20 | |     generate_draft_id,
21 | | )
   | |_^
   |
help: Organize imports

F401 [*] `pathlib.Path` imported but unused
  --> tests/unit/contracts/test_registry.py:8:21
   |
 7 | import pytest
 8 | from pathlib import Path
   |                     ^^^^
 9 |
10 | from agentforge.core.contracts.draft import (
   |
help: Remove unused import: `pathlib.Path`

F401 [*] `agentforge.core.contracts.draft.EscalationTrigger` imported but unused
  --> tests/unit/contracts/test_registry.py:13:5
   |
11 |     ApprovedContracts,
12 |     ContractDraft,
13 |     EscalationTrigger,
   |     ^^^^^^^^^^^^^^^^^
14 |     StageContract,
15 |     ValidationRule,
   |
help: Remove unused import

F401 [*] `agentforge.core.contracts.draft.ValidationRule` imported but unused
  --> tests/unit/contracts/test_registry.py:15:5
   |
13 |     EscalationTrigger,
14 |     StageContract,
15 |     ValidationRule,
   |     ^^^^^^^^^^^^^^
16 | )
17 | from agentforge.core.contracts.registry import (
   |
help: Remove unused import

F841 Local variable `registry` is assigned to but never used
  --> tests/unit/contracts/test_registry.py:39:9
   |
37 |     def test_registry_creates_directories(self, temp_project):
38 |         """Registry creates required directories."""
39 |         registry = ContractRegistry(temp_project)
   |         ^^^^^^^^
40 |
41 |         assert (temp_project / ".agentforge" / "contracts" / "approved").exists()
   |
help: Remove assignment to unused variable `registry`

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/contracts/test_reviewer.py:7:1
   |
 5 |   """Tests for contract reviewer."""
 6 |
 7 | / import pytest
 8 | |
 9 | | from agentforge.core.contracts.reviewer import (
10 | |     ContractReviewer,
11 | |     OverallDecision,
12 | |     ReviewDecision,
13 | |     ReviewFeedback,
14 | |     ReviewSession,
15 | |     StageDecision,
16 | | )
17 | | from agentforge.core.contracts.draft import (
18 | |     Assumption,
19 | |     ContractDraft,
20 | |     EscalationTrigger,
21 | |     OpenQuestion,
22 | |     QualityGate,
23 | |     StageContract,
24 | |     ValidationRule,
25 | | )
   | |_^
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/core/discovery/test_domain.py:16:1
   |
14 |   """
15 |
16 | / from datetime import datetime
17 | | from pathlib import Path
18 | |
19 | | import pytest
20 | |
21 | | from agentforge.core.discovery.domain import (
22 | |     CodebaseProfile,
23 | |     ConfidenceLevel,
24 | |     ConventionDetection,
25 | |     DependencyInfo,
26 | |     Detection,
27 | |     DetectionSource,
28 | |     DiscoveryMetadata,
29 | |     Interaction,
30 | |     InteractionType,
31 | |     LanguageInfo,
32 | |     LayerInfo,
33 | |     OnboardingProgress,
34 | |     OnboardingStatus,
35 | |     PatternDetection,
36 | |     DiscoveredTests,
37 | |     SourceTestLinkage,
38 | |     CoverageGapAnalysis,
39 | |     Zone,
40 | |     ZoneDetectionMode,
41 | | )
   | |_^
   |
help: Organize imports

ARG005 Unused lambda argument: `s`
  --> tests/unit/core/test_contract_runner.py:76:80
   |
74 |         (sample_data_dir / "project_context.yaml").write_text(context_content)
75 |
76 |         with patch.object(Path, 'parent', new_callable=lambda: property(lambda s: tmp_path)):
   |                                                                                ^
77 |             runner = ContractRunner(
78 |                 contracts_dir=contracts_dir,
   |

B017 Do not assert blind exception: `Exception`
  --> tests/unit/harness/test_enhanced_context.py:76:14
   |
74 |             step=1,
75 |         )
76 |         with pytest.raises(Exception):  # Pydantic validation error
   |              ^^^^^^^^^^^^^^^^^^^^^^^^
77 |             fact.statement = "Modified"
   |

B017 Do not assert blind exception: `Exception`
  --> tests/unit/harness/test_enhanced_context.py:93:14
   |
91 |     def test_confidence_bounds(self):
92 |         """Test confidence must be between 0 and 1."""
93 |         with pytest.raises(Exception):  # Pydantic validation error
   |              ^^^^^^^^^^^^^^^^^^^^^^^^
94 |             Fact(
95 |                 id="fact_001",
   |

E402 Module level import not at top of file
   --> tests/unit/harness/test_enhanced_context.py:732:1
    |
730 | # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
731 |
732 | import tempfile
    | ^^^^^^^^^^^^^^^
733 | from pathlib import Path
    |

E402 Module level import not at top of file
   --> tests/unit/harness/test_enhanced_context.py:733:1
    |
732 | import tempfile
733 | from pathlib import Path
    | ^^^^^^^^^^^^^^^^^^^^^^^^
734 |
735 | from agentforge.core.harness.minimal_context.working_memory import WorkingMemoryManager
    |

E402 Module level import not at top of file
   --> tests/unit/harness/test_enhanced_context.py:735:1
    |
733 | from pathlib import Path
734 |
735 | from agentforge.core.harness.minimal_context.working_memory import WorkingMemoryManager
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |

E402 Module level import not at top of file
   --> tests/unit/harness/test_enhanced_context.py:921:1
    |
919 | # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
920 |
921 | from agentforge.core.harness.minimal_context import AdaptiveBudget
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_llm_executor.py:37:36
   |
35 |         mock_builder = Mock()
36 |         mock_parser = Mock()
37 |         tools = {"test": lambda n, p: ToolResult.success_result(n, "ok")}
   |                                    ^
38 |
39 |         executor = LLMExecutor(
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_llm_executor.py:59:57
   |
57 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
58 |             executor = LLMExecutor()
59 |             executor.register_tool("my_tool", lambda n, p: ToolResult.success_result(n, "ok"))
   |                                                         ^
60 |
61 |             assert "my_tool" in executor.tool_executors
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_llm_executor.py:68:36
   |
66 |             executor = LLMExecutor()
67 |             executor.register_tools({
68 |                 "tool1": lambda n, p: ToolResult.success_result(n, "1"),
   |                                    ^
69 |                 "tool2": lambda n, p: ToolResult.success_result(n, "2"),
70 |             })
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_llm_executor.py:69:36
   |
67 |             executor.register_tools({
68 |                 "tool1": lambda n, p: ToolResult.success_result(n, "1"),
69 |                 "tool2": lambda n, p: ToolResult.success_result(n, "2"),
   |                                    ^
70 |             })
   |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:105:55
    |
103 |         """Execute step calls the LLM provider."""
104 |         executor = LLMExecutor(provider=mock_provider)
105 |         executor.register_tool("read_file", lambda n, p: ToolResult.success_result(n, "content"))
    |                                                       ^
106 |
107 |         result = executor.execute_step(context)
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:115:55
    |
113 |         """Execute step parses the LLM response into action."""
114 |         executor = LLMExecutor(provider=mock_provider)
115 |         executor.register_tool("read_file", lambda n, p: ToolResult.success_result(n, "content"))
    |                                                       ^
116 |
117 |         result = executor.execute_step(context)
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:145:55
    |
143 |         """Execute step updates execution context."""
144 |         executor = LLMExecutor(provider=mock_provider)
145 |         executor.register_tool("read_file", lambda n, p: ToolResult.success_result(n, "ok"))
    |                                                       ^
146 |
147 |         assert context.iteration == 0
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:206:54
    |
204 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
205 |             executor = LLMExecutor()
206 |             executor.register_tool("test", lambda n, p: ToolResult.success_result(n, "done"))
    |                                                      ^
207 |
208 |             tool_call = ToolCall(name="test", parameters={})
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:218:54
    |
216 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
217 |             executor = LLMExecutor()
218 |             executor.register_tool("test", lambda n, p: ToolResult.failure_result(n, "failed"))
    |                                                      ^
219 |
220 |             tool_call = ToolCall(name="test", parameters={})
    |

ARG005 Unused lambda argument: `n`
   --> tests/unit/harness/test_llm_executor.py:247:50
    |
245 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
246 |             executor = LLMExecutor()
247 |             executor.register_tool("raw", lambda n, p: "raw output")
    |                                                  ^
248 |
249 |             tool_call = ToolCall(name="raw", parameters={})
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:247:53
    |
245 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
246 |             executor = LLMExecutor()
247 |             executor.register_tool("raw", lambda n, p: "raw output")
    |                                                     ^
248 |
249 |             tool_call = ToolCall(name="raw", parameters={})
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:277:50
    |
276 |         executor = LLMExecutor(provider=provider)
277 |         executor.register_tool("test", lambda n, p: ToolResult.success_result(n, "ok"))
    |                                                  ^
278 |
279 |         context = ExecutionContext(
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:303:50
    |
302 |         executor = LLMExecutor(provider=provider)
303 |         executor.register_tool("test", lambda n, p: ToolResult.success_result(n, "ok"))
    |                                                  ^
304 |
305 |         context = ExecutionContext(
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:328:50
    |
327 |         executor = LLMExecutor(provider=provider)
328 |         executor.register_tool("test", lambda n, p: ToolResult.success_result(n, "ok"))
    |                                                  ^
329 |
330 |         context = ExecutionContext(
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_llm_executor.py:421:39
    |
419 |     def test_accepts_tools(self):
420 |         """Factory accepts tool executors."""
421 |         tools = {"my_tool": lambda n, p: ToolResult.success_result(n, "ok")}
    |                                       ^
422 |
423 |         with patch("agentforge.core.harness.llm_executor.get_provider"):
    |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:128:9
    |
126 |           entry = MemoryEntry.create(key="test_key", value="test_value", metadata={"source": "test"})
127 |
128 | /         with patch.object(store, '_save_tier', side_effect=MemoryWriteError("Disk full")):
129 | |             with pytest.raises(MemoryWriteError):
    | |_________________________________________________^
130 |                   store.set("test_key", entry, MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:162:9
    |
160 |           entry = MemoryEntry.create(key="test_key", value="test_value", metadata={"source": "test"})
161 |
162 | /         with patch.object(store, '_load_tier', return_value={"test_key": entry}):
163 | |             with patch.object(store, '_save_tier') as mock_save:
    | |________________________________________________________________^
164 |                   store.delete("test_key", MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:253:9
    |
251 |           store = MemoryStore()
252 |
253 | /         with patch.object(store, '_load_tier', return_value={"key1": "value1"}):
254 | |             with patch.object(store, '_save_tier') as mock_save:
    | |________________________________________________________________^
255 |                   store.clear_tier(MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:316:9
    |
314 |           store = MemoryStore()
315 |
316 | /         with patch("builtins.open", mock_open(read_data="invalid: yaml: content:")):
317 | |             with patch("yaml.safe_load", side_effect=Exception("YAML error")):
    | |______________________________________________________________________________^
318 |                   data = store._load_tier(MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:342:9
    |
340 |           store._data = {MemoryTier.PROJECT: {"key1": entry}}
341 |
342 | /         with patch("pathlib.Path.mkdir") as mock_mkdir, patch("builtins.open", mock_open()):
343 | |             with patch("yaml.dump"):
    | |____________________________________^
344 |                   store._save_tier(MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:354:9
    |
352 |           store._data = {MemoryTier.PROJECT: {"key1": entry}}
353 |
354 | /         with patch("tempfile.NamedTemporaryFile") as mock_temp:
355 | |             with patch("pathlib.Path.replace") as mock_replace:
    | |_______________________________________________________________^
356 |                   with patch("yaml.dump"):
357 |                       store._save_tier(MemoryTier.PROJECT)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:368:9
    |
366 |           store._data = {MemoryTier.PROJECT: {"key1": entry}}
367 |
368 | /         with patch("tempfile.NamedTemporaryFile", mock_open()):
369 | |             with patch("pathlib.Path.replace"):
    | |_______________________________________________^
370 |                   with patch("yaml.dump") as mock_yaml:
371 |                       with patch.object(entry, 'to_dict', return_value={"serialized": True}) as mock_to_dict:
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_memory_store.py:384:9
    |
382 |           store._data = {MemoryTier.PROJECT: {"key1": entry}}
383 |
384 | /         with patch("tempfile.NamedTemporaryFile", side_effect=OSError("Disk full")):
385 | |             with pytest.raises(MemoryWriteError):
    | |_________________________________________________^
386 |                   store._save_tier(MemoryTier.PROJECT)
    |
help: Combine `with` statements

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_native_tool_executor.py:69:49
   |
67 |         """Handler returning None results in 'Success' message."""
68 |         executor = NativeToolExecutor()
69 |         executor.register_action("noop", lambda p: None)
   |                                                 ^
70 |
71 |         tool_call = ToolCall(id="tc_1", name="noop", input={})
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_native_tool_executor.py:80:49
   |
78 |         """Handler returning dict is serialized to JSON."""
79 |         executor = NativeToolExecutor()
80 |         executor.register_action("data", lambda p: {"key": "value", "count": 42})
   |                                                 ^
81 |
82 |         tool_call = ToolCall(id="tc_1", name="data", input={})
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_native_tool_executor.py:93:31
   |
91 |         executor = NativeToolExecutor()
92 |         executor.register_actions({
93 |             "action1": lambda p: "result1",
   |                               ^
94 |             "action2": lambda p: "result2",
95 |         })
   |

ARG005 Unused lambda argument: `p`
  --> tests/unit/harness/test_native_tool_executor.py:94:31
   |
92 |         executor.register_actions({
93 |             "action1": lambda p: "result1",
94 |             "action2": lambda p: "result2",
   |                               ^
95 |         })
   |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:104:32
    |
102 |         executor = NativeToolExecutor()
103 |         executor.register_actions({
104 |             "c_action": lambda p: "",
    |                                ^
105 |             "a_action": lambda p: "",
106 |             "b_action": lambda p: "",
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:105:32
    |
103 |         executor.register_actions({
104 |             "c_action": lambda p: "",
105 |             "a_action": lambda p: "",
    |                                ^
106 |             "b_action": lambda p: "",
107 |         })
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:106:32
    |
104 |             "c_action": lambda p: "",
105 |             "a_action": lambda p: "",
106 |             "b_action": lambda p: "",
    |                                ^
107 |         })
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:115:51
    |
113 |         """Check if action is registered."""
114 |         executor = NativeToolExecutor()
115 |         executor.register_action("exists", lambda p: "")
    |                                                   ^
116 |
117 |         assert executor.has_action("exists")
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:146:49
    |
144 |         """Successful execution is logged."""
145 |         executor = NativeToolExecutor()
146 |         executor.register_action("test", lambda p: "result")
    |                                                 ^
147 |
148 |         tool_call = ToolCall(id="tc_1", name="test", input={"param": "value"})
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:163:49
    |
161 |         """Failed execution is logged with error."""
162 |         executor = NativeToolExecutor()
163 |         executor.register_action("fail", lambda p: 1 / 0)
    |                                                 ^
164 |
165 |         tool_call = ToolCall(id="tc_1", name="fail", input={})
    |

ARG005 Unused lambda argument: `p`
   --> tests/unit/harness/test_native_tool_executor.py:189:49
    |
187 |         """Execution log can be cleared."""
188 |         executor = NativeToolExecutor()
189 |         executor.register_action("test", lambda p: "")
    |                                                 ^
190 |
191 |         tool_call = ToolCall(id="tc_1", name="test", input={})
    |

B017 Do not assert blind exception: `Exception`
  --> tests/unit/harness/test_session_manager.py:74:14
   |
73 |         # Second create should fail or return error
74 |         with pytest.raises(Exception):  # SessionAlreadyActive
   |              ^^^^^^^^^^^^^^^^^^^^^^^^
75 |             manager.create()
   |

B017 Do not assert blind exception: `Exception`
   --> tests/unit/harness/test_session_manager.py:157:14
    |
155 |         manager.complete()
156 |
157 |         with pytest.raises(Exception):  # InvalidStateTransition
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
158 |             manager.pause()
    |

B017 Do not assert blind exception: `Exception`
   --> tests/unit/harness/test_session_manager.py:165:14
    |
163 |         manager.abort()
164 |
165 |         with pytest.raises(Exception):  # InvalidStateTransition
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
166 |             manager.pause()
    |

B017 Do not assert blind exception: `Exception`
   --> tests/unit/harness/test_session_manager.py:170:14
    |
168 |     def test_no_active_session_returns_error(self, manager):
169 |         """NoActiveSession error when no session exists."""
170 |         with pytest.raises(Exception):  # NoActiveSession
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
171 |             manager.pause()
    |

ARG002 Unused method argument: `sample_session`
  --> tests/unit/harness/test_session_store.py:45:60
   |
43 |         assert sample_session.session_id in str(path)
44 |
45 |     def test_save_creates_directory_if_needed(self, store, sample_session):
   |                                                            ^^^^^^^^^^^^^^
46 |         """AC-009: Directory created with .gitkeep if needed."""
47 |         store.ensure_directory()
   |

ARG002 Unused method argument: `temp_dir`
  --> tests/unit/harness/test_session_store.py:69:71
   |
67 |         assert loaded is None
68 |
69 |     def test_load_handles_corrupted_file(self, store, sample_session, temp_dir):
   |                                                                       ^^^^^^^^
70 |         """AC-012: load() returns error for corrupted file."""
71 |         # Save valid session first
   |

ARG002 Unused method argument: `temp_dir`
   --> tests/unit/harness/test_tool_executor_bridge.py:227:44
    |
225 |         assert "c.txt" not in result.output
226 |
227 |     def test_glob_no_matches(self, bridge, temp_dir):
    |                                            ^^^^^^^^
228 |         """Glob with no matches returns message."""
229 |         result = bridge._execute_glob("glob", {"pattern": "*.xyz"})
    |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
  --> tests/unit/harness/test_tool_registry.py:36:9
   |
34 |           config_path = Path("test_config.yaml")
35 |
36 | /         with patch.object(Path, 'exists', return_value=True):
37 | |             with patch.object(ToolRegistry, 'load_from_yaml') as mock_load:
   | |___________________________________________________________________________^
38 |                   ToolRegistry(config_path=config_path)
39 |                   mock_load.assert_called_once_with(config_path)
   |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_tool_registry.py:189:9
    |
187 |           """
188 |
189 | /         with patch("builtins.open", mock_open(read_data=yaml_content)):
190 | |             with patch("yaml.safe_load") as mock_yaml:
    | |______________________________________________________^
191 |                   mock_yaml.return_value = {
192 |                       "tools": [{
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/harness/test_tool_registry.py:219:9
    |
217 |           registry.register_profile(profile)
218 |
219 | /         with patch("pathlib.Path.mkdir"), patch("builtins.open", mock_open()) as mock_file:
220 | |             with patch("yaml.safe_dump") as mock_yaml:
    | |______________________________________________________^
221 |                   registry.save_to_yaml(Path("output.yaml"))
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/llm/test_factory.py:210:9
    |
208 |       def test_record_without_path_raises(self):
209 |           """Factory should raise when recording path missing."""
210 | /         with patch.dict(os.environ, {"ANTHROPIC_API_KEY": "sk-test"}):
211 | |             with pytest.raises(ValueError, match="required for record"):
    | |________________________________________________________________________^
212 |                   LLMClientFactory.create(mode="record")
    |
help: Combine `with` statements

ARG005 Unused lambda argument: `ctx`
   --> tests/unit/llm/test_simulated.py:228:20
    |
226 |         strategy = PatternMatchingStrategy()
227 |         strategy.add_pattern(
228 |             lambda ctx: False,  # Never matches
    |                    ^^^
229 |             SimulatedResponse(content="Matched"),
230 |         )
    |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/conftest.py:93:23
   |
91 |         self._required_inputs = required_inputs or []
92 |
93 |     def execute(self, context: StageContext) -> StageResult:
   |                       ^^^^^^^
94 |         return self._result
   |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/conftest.py:107:23
    |
105 |     """An executor that always fails."""
106 |
107 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
108 |         return StageResult.failed("Intentional failure")
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/conftest.py:114:23
    |
112 |     """An executor that always escalates."""
113 |
114 |     def execute(self, context: StageContext) -> StageResult:
    |                       ^^^^^^^
115 |         return StageResult.escalate(
116 |             escalation_type="approval_required",
    |

ARG002 Unused method argument: `mock_llm_with_tools`
  --> tests/unit/pipeline/stages/test_analyze.py:17:50
   |
16 |     def test_uses_submit_analysis_tool(
17 |         self, tmp_path, sample_clarify_artifact, mock_llm_with_tools
   |                                                  ^^^^^^^^^^^^^^^^^^^
18 |     ):
19 |         """Executor uses submit_analysis for artifact extraction."""
   |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_analyze.py:265:54
    |
263 |         assert result.artifacts.get("request_id") is not None
264 |
265 |     def test_validates_output_analysis_section(self, tmp_path):
    |                                                      ^^^^^^^^
266 |         """Output validation checks for analysis section."""
267 |         from agentforge.core.pipeline.stages.analyze import AnalyzeExecutor
    |

ARG002 Unused method argument: `mock_llm_response`
  --> tests/unit/pipeline/stages/test_clarify.py:17:49
   |
16 |     def test_skips_when_no_blocking_questions(
17 |         self, tmp_path, sample_intake_artifact, mock_llm_response
   |                                                 ^^^^^^^^^^^^^^^^^
18 |     ):
19 |         """Skips clarification if no blocking questions."""
   |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_clarify.py:200:50
    |
198 |         assert "clarified_requirements" in result.artifacts
199 |
200 |     def test_validates_output_requirements(self, tmp_path):
    |                                                  ^^^^^^^^
201 |         """Output validation checks for clarified_requirements."""
202 |         from agentforge.core.pipeline.stages.clarify import ClarifyExecutor
    |

ARG002 Unused method argument: `mock_llm_response`
   --> tests/unit/pipeline/stages/test_clarify.py:217:49
    |
216 |     def test_carries_forward_request_id(
217 |         self, tmp_path, sample_intake_artifact, mock_llm_response
    |                                                 ^^^^^^^^^^^^^^^^^
218 |     ):
219 |         """Request ID is carried forward from intake."""
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_clarify.py:239:56
    |
237 |         )
238 |
239 |     def test_warns_ready_with_blocking_remaining(self, tmp_path):
    |                                                        ^^^^^^^^
240 |         """Warns if marked ready but blocking questions remain."""
241 |         from agentforge.core.pipeline.stages.clarify import ClarifyExecutor
    |

ARG002 Unused method argument: `sample_refactor_artifact`
   --> tests/unit/pipeline/stages/test_deliver.py:792:46
    |
790 |         assert result.status == StageStatus.COMPLETED
791 |
792 |     def test_handles_dict_file_entries(self, sample_refactor_artifact, temp_git_project):
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^
793 |         """Handles file entries that are dicts with 'path' key."""
794 |         from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_intake.py:235:53
    |
233 |         assert result1.artifacts["request_id"] != result2.artifacts["request_id"]
234 |
235 |     def test_validates_output_required_fields(self, tmp_path, mock_llm_response):
    |                                                     ^^^^^^^^
236 |         """Output validation catches missing fields."""
237 |         from agentforge.core.pipeline.stages.intake import IntakeExecutor
    |

ARG002 Unused method argument: `mock_llm_response`
   --> tests/unit/pipeline/stages/test_intake.py:235:63
    |
233 |         assert result1.artifacts["request_id"] != result2.artifacts["request_id"]
234 |
235 |     def test_validates_output_required_fields(self, tmp_path, mock_llm_response):
    |                                                               ^^^^^^^^^^^^^^^^^
236 |         """Output validation catches missing fields."""
237 |         from agentforge.core.pipeline.stages.intake import IntakeExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_intake.py:251:50
    |
249 |         assert any("request_id" in e for e in validation.errors)
250 |
251 |     def test_validates_output_scope_values(self, tmp_path):
    |                                                  ^^^^^^^^
252 |         """Output validation catches invalid scope values."""
253 |         from agentforge.core.pipeline.stages.intake import IntakeExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_intake.py:267:53
    |
265 |         assert any("scope" in e.lower() for e in validation.errors)
266 |
267 |     def test_validates_output_priority_values(self, tmp_path):
    |                                                     ^^^^^^^^
268 |         """Output validation warns on invalid priority values."""
269 |         from agentforge.core.pipeline.stages.intake import IntakeExecutor
    |

ARG002 Unused method argument: `temp_project_path`
   --> tests/unit/pipeline/stages/test_refactor.py:657:44
    |
655 |         assert isinstance(task, str)
656 |
657 |     def test_handles_no_test_results(self, temp_project_path):
    |                                            ^^^^^^^^^^^^^^^^^
658 |         """Handles input with missing test results."""
659 |         from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_spec.py:220:49
    |
218 |             assert result.status == StageStatus.COMPLETED
219 |
220 |     def test_validates_component_has_name(self, tmp_path):
    |                                                 ^^^^^^^^
221 |         """Validates components have required name field."""
222 |         from agentforge.core.pipeline.stages.spec import SpecExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_spec.py:238:53
    |
236 |         assert any("name" in e.lower() for e in validation.errors)
237 |
238 |     def test_validates_at_least_one_component(self, tmp_path):
    |                                                     ^^^^^^^^
239 |         """Validates specification has at least one component."""
240 |         from agentforge.core.pipeline.stages.spec import SpecExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_spec.py:254:45
    |
252 |         assert any("component" in e.lower() for e in validation.errors)
253 |
254 |     def test_warns_missing_test_cases(self, tmp_path):
    |                                             ^^^^^^^^
255 |         """Warns if no test cases are defined."""
256 |         from agentforge.core.pipeline.stages.spec import SpecExecutor
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/stages/test_spec.py:271:54
    |
269 |         assert len(validation.warnings) >= 1
270 |
271 |     def test_warns_missing_acceptance_criteria(self, tmp_path):
    |                                                      ^^^^^^^^
272 |         """Warns if no acceptance criteria are defined."""
273 |         from agentforge.core.pipeline.stages.spec import SpecExecutor
    |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_controller.py:87:31
   |
86 |         class FailingExecutor(StageExecutor):
87 |             def execute(self, context):
   |                               ^^^^^^^
88 |                 return StageResult.failed("Intentional failure")
   |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:109:31
    |
108 |         class EscalatingExecutor(StageExecutor):
109 |             def execute(self, context):
    |                               ^^^^^^^
110 |                 return StageResult.escalate(
111 |                     escalation_type="approval_required",
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:167:31
    |
166 |         class EscalatingExecutor(StageExecutor):
167 |             def execute(self, context):
    |                               ^^^^^^^
168 |                 return StageResult.escalate(
169 |                     escalation_type="approval_required",
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:194:31
    |
193 |         class EscalatingOnce(StageExecutor):
194 |             def execute(self, context):
    |                               ^^^^^^^
195 |                 call_count[0] += 1
196 |                 if call_count[0] == 1:
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:224:31
    |
223 |         class EscalatingExecutor(StageExecutor):
224 |             def execute(self, context):
    |                               ^^^^^^^
225 |                 return StageResult.escalate(
226 |                     escalation_type="approval_required",
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:300:31
    |
299 |         class SkipToSpec(StageExecutor):
300 |             def execute(self, context):
    |                               ^^^^^^^
301 |                 return StageResult.success(next_stage="spec")
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:323:31
    |
322 |         class ArtifactProducer(StageExecutor):
323 |             def execute(self, context):
    |                               ^^^^^^^
324 |                 return StageResult.success({"produced_by": "producer"})
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:346:31
    |
345 |         class ValidatingExecutor(StageExecutor):
346 |             def execute(self, context):
    |                               ^^^^^^^
347 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_controller.py:416:31
    |
415 |         class FailingExecutor(StageExecutor):
416 |             def execute(self, context):
    |                               ^^^^^^^
417 |                 return StageResult.failed("fail")
    |

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/pipeline/test_discovery_integration.py:7:1
   |
 5 |   """Tests for brownfield discovery to pipeline integration."""
 6 |
 7 | / from dataclasses import dataclass, field
 8 | | from pathlib import Path
 9 | |
10 | | import pytest
11 | |
12 | | from agentforge.core.pipeline.discovery_integration import (
13 | |     DiscoveredContext,
14 | |     create_pipeline_context_from_discovery,
15 | |     extract_context_from_profile,
16 | |     get_contracts_for_language,
17 | |     resolve_test_path,
18 | | )
   | |_^
   |
help: Organize imports

F401 [*] `pathlib.Path` imported but unused
  --> tests/unit/pipeline/test_discovery_integration.py:8:21
   |
 7 | from dataclasses import dataclass, field
 8 | from pathlib import Path
   |                     ^^^^
 9 |
10 | import pytest
   |
help: Remove unused import: `pathlib.Path`

F401 [*] `pytest` imported but unused
  --> tests/unit/pipeline/test_discovery_integration.py:10:8
   |
 8 | from pathlib import Path
 9 |
10 | import pytest
   |        ^^^^^^
11 |
12 | from agentforge.core.pipeline.discovery_integration import (
   |
help: Remove unused import: `pytest`

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/pipeline/test_discovery_integration.py:333:39
    |
331 |     """Tests for resolve_test_path."""
332 |
333 |     def test_uses_mapping_first(self, tmp_path):
    |                                       ^^^^^^^^
334 |         """Uses discovered mapping before conventions."""
335 |         ctx = DiscoveredContext(
    |

F841 Local variable `result` is assigned to but never used
   --> tests/unit/pipeline/test_discovery_integration.py:355:9
    |
353 |         test_file.touch()
354 |
355 |         result = resolve_test_path(str(tmp_path / "src" / "module.py"), ctx, "python")
    |         ^^^^^^
356 |         # Will return None because path doesn't exist in our mock
357 |         # In real usage with Path.exists(), this would work
    |
help: Remove assignment to unused variable `result`

ARG002 Unused method argument: `temp_project`
   --> tests/unit/pipeline/test_escalation.py:173:41
    |
171 |         assert loaded.response == "Not acceptable"
172 |
173 |     def test_get_pending(self, handler, temp_project):
    |                                         ^^^^^^^^^^^^
174 |         """get_pending() returns only pending escalations."""
175 |         # Create multiple escalations
    |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:26:41
   |
24 |             stage_name = "test"
25 |
26 |             def get_system_prompt(self, context):
   |                                         ^^^^^^^
27 |                 calls.append("get_system_prompt")
28 |                 return "System prompt"
   |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:30:40
   |
28 |                 return "System prompt"
29 |
30 |             def get_user_message(self, context):
   |                                        ^^^^^^^
31 |                 calls.append("get_user_message")
32 |                 return "User message"
   |

ARG002 Unused method argument: `llm_result`
  --> tests/unit/pipeline/test_llm_stage_executor.py:34:38
   |
32 |                 return "User message"
33 |
34 |             def parse_response(self, llm_result, context):
   |                                      ^^^^^^^^^^
35 |                 calls.append("parse_response")
36 |                 return {"result": "parsed"}
   |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:34:50
   |
32 |                 return "User message"
33 |
34 |             def parse_response(self, llm_result, context):
   |                                                  ^^^^^^^
35 |                 calls.append("parse_response")
36 |                 return {"result": "parsed"}
   |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:69:41
   |
67 |             parse_response_called = False
68 |
69 |             def get_system_prompt(self, context):
   |                                         ^^^^^^^
70 |                 self.get_system_prompt_called = True
71 |                 return "System"
   |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:73:40
   |
71 |                 return "System"
72 |
73 |             def get_user_message(self, context):
   |                                        ^^^^^^^
74 |                 self.get_user_message_called = True
75 |                 return "User"
   |

ARG002 Unused method argument: `llm_result`
  --> tests/unit/pipeline/test_llm_stage_executor.py:77:38
   |
75 |                 return "User"
76 |
77 |             def parse_response(self, llm_result, context):
   |                                      ^^^^^^^^^^
78 |                 self.parse_response_called = True
79 |                 return {"data": "test"}
   |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_llm_stage_executor.py:77:50
   |
75 |                 return "User"
76 |
77 |             def parse_response(self, llm_result, context):
   |                                                  ^^^^^^^
78 |                 self.parse_response_called = True
79 |                 return {"data": "test"}
   |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:105:41
    |
103 |             stage_name = "test"
104 |
105 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
106 |                 return "System"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:108:40
    |
106 |                 return "System"
107 |
108 |             def get_user_message(self, context):
    |                                        ^^^^^^^
109 |                 return "User"
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:111:38
    |
109 |                 return "User"
110 |
111 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
112 |                 return None  # Parse fails
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:111:50
    |
109 |                 return "User"
110 |
111 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
112 |                 return None  # Parse fails
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:137:41
    |
135 |             stage_name = "test"
136 |
137 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
138 |                 return ""
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:140:40
    |
138 |                 return ""
139 |
140 |             def get_user_message(self, context):
    |                                        ^^^^^^^
141 |                 return ""
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:143:38
    |
141 |                 return ""
142 |
143 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
144 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:143:50
    |
141 |                 return ""
142 |
143 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
144 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:169:41
    |
167 |             stage_name = "test"
168 |
169 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
170 |                 return ""
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:172:40
    |
170 |                 return ""
171 |
172 |             def get_user_message(self, context):
    |                                        ^^^^^^^
173 |                 return ""
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:175:38
    |
173 |                 return ""
174 |
175 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
176 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:175:50
    |
173 |                 return ""
174 |
175 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
176 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:196:41
    |
194 |             stage_name = "test"
195 |
196 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
197 |                 return ""
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:199:40
    |
197 |                 return ""
198 |
199 |             def get_user_message(self, context):
    |                                        ^^^^^^^
200 |                 return ""
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:202:38
    |
200 |                 return ""
201 |
202 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
203 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:202:50
    |
200 |                 return ""
201 |
202 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
203 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:218:41
    |
216 |             stage_name = "test"
217 |
218 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
219 |                 return ""
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:221:40
    |
219 |                 return ""
220 |
221 |             def get_user_message(self, context):
    |                                        ^^^^^^^
222 |                 return ""
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:224:38
    |
222 |                 return ""
223 |
224 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
225 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:224:50
    |
222 |                 return ""
223 |
224 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
225 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:247:41
    |
245 |             stage_name = "test"
246 |
247 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
248 |                 return ""
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:250:40
    |
248 |                 return ""
249 |
250 |             def get_user_message(self, context):
    |                                        ^^^^^^^
251 |                 return ""
    |

ARG002 Unused method argument: `llm_result`
   --> tests/unit/pipeline/test_llm_stage_executor.py:253:38
    |
251 |                 return ""
252 |
253 |             def parse_response(self, llm_result, context):
    |                                      ^^^^^^^^^^
254 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:253:50
    |
251 |                 return ""
252 |
253 |             def parse_response(self, llm_result, context):
    |                                                  ^^^^^^^
254 |                 return {}
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:276:41
    |
274 |             artifact_tool_name = "submit_result"
275 |
276 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
277 |                 return "System"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:279:40
    |
277 |                 return "System"
278 |
279 |             def get_user_message(self, context):
    |                                        ^^^^^^^
280 |                 return "User"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:315:41
    |
313 |             artifact_tool_name = "my_tool"
314 |
315 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
316 |                 return "System"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:318:40
    |
316 |                 return "System"
317 |
318 |             def get_user_message(self, context):
    |                                        ^^^^^^^
319 |                 return "User"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:353:41
    |
351 |             artifact_tool_name = "submit_result"
352 |
353 |             def get_system_prompt(self, context):
    |                                         ^^^^^^^
354 |                 return "System"
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_llm_stage_executor.py:356:40
    |
354 |                 return "System"
355 |
356 |             def get_user_message(self, context):
    |                                        ^^^^^^^
357 |                 return "User"
    |

ARG002 Unused method argument: `context`
  --> tests/unit/pipeline/test_registry.py:36:31
   |
35 |         class TestExecutor(StageExecutor):
36 |             def execute(self, context):
   |                               ^^^^^^^
37 |                 return StageResult.success()
   |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_registry.py:155:31
    |
153 |         @register_stage("decorated")
154 |         class DecoratedExecutor(StageExecutor):
155 |             def execute(self, context):
    |                               ^^^^^^^
156 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_registry.py:173:31
    |
171 |         @register_stage("another")
172 |         class AnotherExecutor(StageExecutor):
173 |             def execute(self, context):
    |                               ^^^^^^^
174 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_stage_executor.py:105:31
    |
104 |         class RequiringExecutor(StageExecutor):
105 |             def execute(self, context):
    |                               ^^^^^^^
106 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_stage_executor.py:131:31
    |
130 |         class IntakeExecutor(StageExecutor):
131 |             def execute(self, context):
    |                               ^^^^^^^
132 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_stage_executor.py:138:31
    |
137 |         class AnalyzeStageExecutor(StageExecutor):
138 |             def execute(self, context):
    |                               ^^^^^^^
139 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_stage_executor.py:148:31
    |
147 |         class SimpleExecutor(StageExecutor):
148 |             def execute(self, context):
    |                               ^^^^^^^
149 |                 return StageResult.success()
    |

ARG002 Unused method argument: `context`
   --> tests/unit/pipeline/test_stage_executor.py:158:31
    |
157 |         class SimpleExecutor(StageExecutor):
158 |             def execute(self, context):
    |                               ^^^^^^^
159 |                 return StageResult.success()
    |

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/pipeline/test_state_machine_properties.py:21:1
   |
19 |   """
20 |
21 | / from datetime import datetime, timedelta
22 | | from pathlib import Path
23 | |
24 | | import pytest
25 | | from hypothesis import assume, given, settings
26 | | from hypothesis import strategies as st
27 | |
28 | | from agentforge.core.pipeline.state import (
29 | |     PIPELINE_TEMPLATES,
30 | |     PipelineState,
31 | |     PipelineStatus,
32 | |     StageState,
33 | |     StageStatus,
34 | |     create_pipeline_state,
35 | |     generate_pipeline_id,
36 | | )
   | |_^
   |
help: Organize imports

F401 [*] `datetime.datetime` imported but unused
  --> tests/unit/pipeline/test_state_machine_properties.py:21:22
   |
19 | """
20 |
21 | from datetime import datetime, timedelta
   |                      ^^^^^^^^
22 | from pathlib import Path
   |
help: Remove unused import

F401 [*] `datetime.timedelta` imported but unused
  --> tests/unit/pipeline/test_state_machine_properties.py:21:32
   |
19 | """
20 |
21 | from datetime import datetime, timedelta
   |                                ^^^^^^^^^
22 | from pathlib import Path
   |
help: Remove unused import

F401 [*] `pytest` imported but unused
  --> tests/unit/pipeline/test_state_machine_properties.py:24:8
   |
22 | from pathlib import Path
23 |
24 | import pytest
   |        ^^^^^^
25 | from hypothesis import assume, given, settings
26 | from hypothesis import strategies as st
   |
help: Remove unused import: `pytest`

F401 [*] `hypothesis.assume` imported but unused
  --> tests/unit/pipeline/test_state_machine_properties.py:25:24
   |
24 | import pytest
25 | from hypothesis import assume, given, settings
   |                        ^^^^^^
26 | from hypothesis import strategies as st
   |
help: Remove unused import: `hypothesis.assume`

ARG002 Unused method argument: `temp_project`
   --> tests/unit/pipeline/test_state_store.py:143:58
    |
141 |         assert result is False
142 |
143 |     def test_corrupted_state_recovery(self, state_store, temp_project):
    |                                                          ^^^^^^^^^^^^
144 |         """Corrupted state files are quarantined."""
145 |         pipeline_id = "PL-20260101-corrupt1"
    |

F401 [*] `typing.Any` imported but unused
  --> tests/unit/pipeline/test_types.py:13:20
   |
11 | """
12 |
13 | from typing import Any, get_type_hints
   |                    ^^^
14 |
15 | import pytest
   |
help: Remove unused import

F401 [*] `typing.get_type_hints` imported but unused
  --> tests/unit/pipeline/test_types.py:13:25
   |
11 | """
12 |
13 | from typing import Any, get_type_hints
   |                         ^^^^^^^^^^^^^^
14 |
15 | import pytest
   |
help: Remove unused import

F401 [*] `pytest` imported but unused
  --> tests/unit/pipeline/test_types.py:15:8
   |
13 | from typing import Any, get_type_hints
14 |
15 | import pytest
   |        ^^^^^^
   |
help: Remove unused import: `pytest`

ARG002 Unused method argument: `context`
   --> tests/unit/tools/bridge/test_registry.py:120:41
    |
118 |                     return context.is_pattern_detected("test_pattern")
119 |
120 |                 def get_templates(self, context: MappingContext) -> list[CheckTemplate]:
    |                                         ^^^^^^^
121 |                     return [
122 |                         CheckTemplate(
    |

ARG002 Unused method argument: `sample_violations`
   --> tests/unit/tools/cicd/test_outputs.py:259:53
    |
257 |         assert "Warnings | 1" in md
258 |
259 |     def test_generate_markdown_success_status(self, sample_violations):
    |                                                     ^^^^^^^^^^^^^^^^^
260 |         """Test success status shows checkmark."""
261 |         now = datetime.utcnow()
    |

E402 Module level import not at top of file
  --> tests/unit/tools/generate/test_provider.py:15:1
   |
13 | pytest_plugins = ("pytest_asyncio",)
14 |
15 | from agentforge.core.generate.domain import APIError
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
16 | from agentforge.core.generate.provider import (
17 |     ClaudeProvider,
   |

E402 Module level import not at top of file
  --> tests/unit/tools/generate/test_provider.py:16:1
   |
15 |   from agentforge.core.generate.domain import APIError
16 | / from agentforge.core.generate.provider import (
17 | |     ClaudeProvider,
18 | |     ManualProvider,
19 | |     get_provider,
20 | | )
   | |_^
21 |
22 |   # =============================================================================
   |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/generate/test_provider.py:115:9
    |
113 |           )
114 |
115 | /         with patch("anthropic.AsyncAnthropic", return_value=mock_client):
116 | |             with patch("asyncio.sleep", new_callable=AsyncMock):
    | |________________________________________________________________^
117 |                   text, usage = await provider.generate("Test prompt")
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/generate/test_provider.py:161:9
    |
159 |           )
160 |
161 | /         with patch("anthropic.AsyncAnthropic", return_value=mock_client):
162 | |             with patch("asyncio.sleep", new_callable=AsyncMock):
    | |________________________________________________________________^
163 |                   with pytest.raises(APIError) as exc_info:
164 |                       await provider.generate("Test prompt")
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/generate/test_provider.py:277:9
    |
276 |       def test_returns_manual_provider_without_api_key(self):
277 | /         with patch.dict(os.environ, {}, clear=True):
278 | |             with patch("agentforge.core.generate.provider._load_dotenv_if_needed"):
    | |___________________________________________________________________________________^
279 |                   provider = get_provider()
280 |                   assert isinstance(provider, ManualProvider)
    |
help: Combine `with` statements

ARG002 Unused method argument: `tmp_path`
  --> tests/unit/tools/generate/test_writer.py:62:46
   |
60 |         assert (tmp_path / "deep/nested/dir/file.py").exists()
61 |
62 |     def test_tracks_operations(self, writer, tmp_path):
   |                                              ^^^^^^^^
63 |         files = [
64 |             GeneratedFile(path=Path("a.py"), content="a\n"),
   |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/generate/test_writer.py:177:55
    |
175 |         assert to_delete.read_text() == "delete me\n"
176 |
177 |     def test_rollback_clears_operations(self, writer, tmp_path):
    |                                                       ^^^^^^^^
178 |         file = GeneratedFile(path=Path("test.py"), content="x\n")
179 |         writer.write([file])
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/generate/test_writer.py:185:51
    |
183 |         assert writer.operation_count == 0
184 |
185 |     def test_rollback_returns_count(self, writer, tmp_path):
    |                                                   ^^^^^^^^
186 |         files = [
187 |             GeneratedFile(path=Path("a.py"), content="a\n"),
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/generate/test_writer.py:384:61
    |
382 |         assert not target.exists()
383 |
384 |     def test_delete_nonexistent_file_succeeds(self, writer, tmp_path):
    |                                                             ^^^^^^^^
385 |         file = GeneratedFile(
386 |             path=Path("does_not_exist.py"),
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/generate/test_writer.py:436:42
    |
434 |         assert recent_backup.exists()
435 |
436 |     def test_clear_history(self, writer, tmp_path):
    |                                          ^^^^^^^^
437 |         file = GeneratedFile(path=Path("test.py"), content="x\n")
438 |         writer.write([file])
    |

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/tools/tdflow/test_domain.py:3:1
   |
 1 |   """Tests for TDFLOW domain entities."""
 2 |
 3 | / from datetime import datetime
 4 | | from pathlib import Path
 5 | |
 6 | | import pytest
 7 | |
 8 | | from agentforge.core.tdflow.domain import (
 9 | |     ComponentProgress,
10 | |     ComponentStatus,
11 | |     TDFlowPhase,
12 | |     TDFlowSession,
13 | |     RunResult,
14 | |     VerificationReport,
15 | | )
   | |_^
   |
help: Organize imports

I001 [*] Import block is un-sorted or un-formatted
  --> tests/unit/tools/tdflow/test_orchestrator.py:8:1
   |
 6 |   """Tests for TDFLOW orchestrator."""
 7 |
 8 | / import tempfile
 9 | | from datetime import datetime
10 | | from pathlib import Path
11 | | from unittest.mock import MagicMock, patch
12 | |
13 | | import pytest
14 | |
15 | | from agentforge.core.tdflow.domain import (
16 | |     ComponentProgress,
17 | |     ComponentStatus,
18 | |     TDFlowPhase,
19 | |     TDFlowSession,
20 | |     RunResult,
21 | | )
22 | | from agentforge.core.tdflow.orchestrator import TDFlowOrchestrator
   | |__________________________________________________________________^
   |
help: Organize imports

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/test_context_assembler.py:208:44
    |
206 |         assert context.total_tokens == 0
207 |
208 |     def test_code_context_with_files(self, tmp_path: Path):
    |                                            ^^^^^^^^
209 |         """Test CodeContext with file contexts."""
210 |         file_ctx = FileContext(
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/test_context_assembler.py:547:41
    |
545 |     """Tests for CodeContext output methods."""
546 |
547 |     def test_code_context_to_dict(self, tmp_path: Path):
    |                                         ^^^^^^^^
548 |         """Test CodeContext.to_dict output format."""
549 |         file_ctx = FileContext(
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/test_context_assembler.py:567:48
    |
565 |         assert "files" in result
566 |
567 |     def test_code_context_to_prompt_text(self, tmp_path: Path):
    |                                                ^^^^^^^^
568 |         """Test CodeContext.to_prompt_text formatting."""
569 |         file_ctx = FileContext(
    |

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/test_context_assembler.py:587:55
    |
585 |         assert "def test(): pass" in result
586 |
587 |     def test_code_context_groups_files_by_layer(self, tmp_path: Path):
    |                                                       ^^^^^^^^
588 |         """Test files are grouped by architectural layer in prompt."""
589 |         files = [
    |

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:140:9
    |
138 |           )
139 |
140 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]):
141 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
142 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context):
143 |                       context = retriever.retrieve("test query")
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:156:9
    |
154 |           )
155 |
156 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]):
157 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
158 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context) as mock_assemble:
159 |                       retriever.retrieve("test query")
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:174:9
    |
172 |           )
173 |
174 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]):
175 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
176 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context) as mock_assemble:
177 |                       retriever.retrieve("test query", budget_tokens=4000)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:191:9
    |
189 |           )
190 |
191 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]) as mock_lsp:
192 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
193 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context):
194 |                       retriever.retrieve("test query", entry_points=["OrderService"])
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:207:9
    |
205 |           )
206 |
207 | /         with patch.object(retriever, '_retrieve_lsp_symbols') as mock_lsp:
208 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
209 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context):
210 |                       retriever.retrieve("test query", use_lsp=False)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:223:9
    |
221 |           )
222 |
223 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]):
224 | |             with patch.object(retriever, '_retrieve_vector_results') as mock_vector:
    | |____________________________________________________________________________________^
225 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context):
226 |                       retriever.retrieve("test query", use_vector=False)
    |
help: Combine `with` statements

SIM117 Use a single `with` statement with multiple contexts instead of nested `with` statements
   --> tests/unit/tools/test_context_retrieval.py:241:9
    |
239 |           )
240 |
241 | /         with patch.object(retriever, '_retrieve_lsp_symbols', return_value=[]):
242 | |             with patch.object(retriever, '_retrieve_vector_results', return_value=[]):
    | |______________________________________________________________________________________^
243 |                   with patch.object(retriever.assembler, 'assemble', return_value=mock_context):
244 |                       context = retriever.retrieve("test query")
    |
help: Combine `with` statements

ARG002 Unused method argument: `tmp_path`
   --> tests/unit/tools/test_context_retrieval.py:385:39
    |
383 |         assert len(stats.errors) == 0
384 |
385 |     def test_index_stats_fields(self, tmp_path: Path):
    |                                       ^^^^^^^^
386 |         """Test IndexStats has expected fields."""
387 |         stats = IndexStats()
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:161:54
    |
159 |     """Tests for regex pattern matching check."""
160 |
161 |     def test_regex_match_found(self, tmp_path: Path, sample_python_file: Path):
    |                                                      ^^^^^^^^^^^^^^^^^^
162 |         """Test regex finds matching pattern."""
163 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:178:51
    |
176 |         assert "match" in result.message.lower() or "found" in result.message.lower()
177 |
178 |     def test_regex_no_match(self, tmp_path: Path, sample_python_file: Path):
    |                                                   ^^^^^^^^^^^^^^^^^^
179 |         """Test regex with no matches returns FAILED."""
180 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:193:74
    |
191 |         assert result.status == CheckStatus.FAILED
192 |
193 |     def test_regex_negative_match_not_found_passes(self, tmp_path: Path, sample_python_file: Path):
    |                                                                          ^^^^^^^^^^^^^^^^^^
194 |         """Test negative match passes when pattern not found."""
195 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:252:55
    |
250 |     """Tests for file existence check."""
251 |
252 |     def test_file_exists_passes(self, tmp_path: Path, sample_python_file: Path):
    |                                                       ^^^^^^^^^^^^^^^^^^
253 |         """Test file exists check passes for existing file."""
254 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `custom_check_function`
   --> tests/unit/tools/test_verification_checks.py:398:59
    |
396 |     """Tests for custom Python function check."""
397 |
398 |     def test_custom_function_passes(self, tmp_path: Path, custom_check_function: Path):
    |                                                           ^^^^^^^^^^^^^^^^^^^^^
399 |         """Test custom function that returns success."""
400 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `custom_check_function`
   --> tests/unit/tools/test_verification_checks.py:416:58
    |
414 |             sys.path.remove(str(tmp_path))
415 |
416 |     def test_custom_function_fails(self, tmp_path: Path, custom_check_function: Path):
    |                                                          ^^^^^^^^^^^^^^^^^^^^^
417 |         """Test custom function that returns failure."""
418 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `custom_check_function`
   --> tests/unit/tools/test_verification_checks.py:433:62
    |
431 |             sys.path.remove(str(tmp_path))
432 |
433 |     def test_custom_function_exception(self, tmp_path: Path, custom_check_function: Path):
    |                                                              ^^^^^^^^^^^^^^^^^^^^^
434 |         """Test custom function that raises exception."""
435 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `custom_check_function`
   --> tests/unit/tools/test_verification_checks.py:451:65
    |
449 |             sys.path.remove(str(tmp_path))
450 |
451 |     def test_custom_function_returns_bool(self, tmp_path: Path, custom_check_function: Path):
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^
452 |         """Test custom function that returns boolean."""
453 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:486:63
    |
484 |     """Tests for AST-based code checks."""
485 |
486 |     def test_ast_function_length_passes(self, tmp_path: Path, sample_python_file: Path):
    |                                                               ^^^^^^^^^^^^^^^^^^
487 |         """Test function length check passes for short functions."""
488 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_long_function`
   --> tests/unit/tools/test_verification_checks.py:501:62
    |
499 |         assert result.status == CheckStatus.PASSED
500 |
501 |     def test_ast_function_length_fails(self, tmp_path: Path, sample_long_function: Path):
    |                                                              ^^^^^^^^^^^^^^^^^^^^
502 |         """Test function length check fails for long functions."""
503 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:517:61
    |
515 |         assert len(result.errors) > 0
516 |
517 |     def test_ast_nesting_depth_passes(self, tmp_path: Path, sample_python_file: Path):
    |                                                             ^^^^^^^^^^^^^^^^^^
518 |         """Test nesting depth check passes for shallow code."""
519 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_deeply_nested`
   --> tests/unit/tools/test_verification_checks.py:532:60
    |
530 |         assert result.status == CheckStatus.PASSED
531 |
532 |     def test_ast_nesting_depth_fails(self, tmp_path: Path, sample_deeply_nested: Path):
    |                                                            ^^^^^^^^^^^^^^^^^^^^
533 |         """Test nesting depth check fails for deeply nested code."""
534 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `sample_python_file`
   --> tests/unit/tools/test_verification_checks.py:581:57
    |
579 |     """Tests for LSP/pyright type checking."""
580 |
581 |     def test_lsp_check_valid_file(self, tmp_path: Path, sample_python_file: Path):
    |                                                         ^^^^^^^^^^^^^^^^^^
582 |         """Test LSP check passes for valid typed file."""
583 |         runner = VerificationRunner(project_root=tmp_path)
    |

ARG002 Unused method argument: `verification_runner`
   --> tests/unit/tools/test_verification_runner.py:405:42
    |
403 |     """Tests for report generation."""
404 |
405 |     def test_report_summary_counts(self, verification_runner):
    |                                          ^^^^^^^^^^^^^^^^^^^
406 |         """Test report correctly counts pass/fail/skip."""
407 |         results = [
    |

ARG002 Unused method argument: `verification_runner`
   --> tests/unit/tools/test_verification_runner.py:428:56
    |
426 |         assert report.errors == 1
427 |
428 |     def test_report_blocking_failure_invalidates(self, verification_runner):
    |                                                        ^^^^^^^^^^^^^^^^^^^
429 |         """Test blocking failure sets is_valid to False."""
430 |         report = VerificationReport(
    |

ARG002 Unused method argument: `verification_runner`
   --> tests/unit/tools/test_verification_runner.py:444:56
    |
442 |         assert report.blocking_failures == 1
443 |
444 |     def test_report_advisory_does_not_invalidate(self, verification_runner):
    |                                                        ^^^^^^^^^^^^^^^^^^^
445 |         """Test advisory failure does not invalidate report."""
446 |         report = VerificationReport(
    |

Found 513 errors.
[*] 113 fixable with the `--fix` option (15 hidden fixes can be enabled with the `--unsafe-fixes` option).

  - ğŸ’¡ *Run 'ruff check --fix .' to auto-fix issues*
- ğŸŸ¡ **require-main-entry** at `file`
  - Required file not found: '__main__.py'
  - ğŸ’¡ *Create __main__.py with 'if __name__ == "__main__"' block*
- ğŸ”µ **repository-pattern** at `file`
  - Required file not found: '**/repositories/*.py'
  - ğŸ’¡ *Create repository interfaces and implementations for data access*
- ğŸ”µ **repository-pattern** at `file`
  - Required file not found: '**/interfaces/repositories.py'
  - ğŸ’¡ *Create repository interfaces and implementations for data access*
- ğŸŸ¡ **pyright-check** at `file`
  - Command failed with exit code 1: /Users/sean/source/tools/agentforge/execute.py
  /Users/sean/source/tools/agentforge/execute.py:9:6 - error: Import "cli.main" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/run_contract.py
  /Users/sean/source/tools/agentforge/run_contract.py:31:10 - error: Import "contract_validator" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/run_contract.py:52:46 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/run_contract.py:52:72 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/run_contract.py:107:77 - error: Expression of type "None" cannot be assigned to parameter of type "Dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "Dict[Unknown, Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:53:10 - error: Cannot assign to attribute "mode" for class "Args"
  Â Â Attribute "mode" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:54:10 - error: Cannot assign to attribute "base_ref" for class "Args"
  Â Â Attribute "base_ref" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:55:10 - error: Cannot assign to attribute "head_ref" for class "Args"
  Â Â Attribute "head_ref" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:56:10 - error: Cannot assign to attribute "parallel" for class "Args"
  Â Â Attribute "parallel" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:57:10 - error: Cannot assign to attribute "workers" for class "Args"
  Â Â Attribute "workers" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:58:10 - error: Cannot assign to attribute "output_sarif" for class "Args"
  Â Â Attribute "output_sarif" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:59:10 - error: Cannot assign to attribute "output_junit" for class "Args"
  Â Â Attribute "output_junit" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:60:10 - error: Cannot assign to attribute "output_markdown" for class "Args"
  Â Â Attribute "output_markdown" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:61:10 - error: Cannot assign to attribute "sarif_path" for class "Args"
  Â Â Attribute "sarif_path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:62:10 - error: Cannot assign to attribute "junit_path" for class "Args"
  Â Â Attribute "junit_path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:63:10 - error: Cannot assign to attribute "markdown_path" for class "Args"
  Â Â Attribute "markdown_path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:64:10 - error: Cannot assign to attribute "fail_on_warnings" for class "Args"
  Â Â Attribute "fail_on_warnings" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:65:10 - error: Cannot assign to attribute "json" for class "Args"
  Â Â Attribute "json" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:86:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:98:10 - error: Cannot assign to attribute "json" for class "Args"
  Â Â Attribute "json" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:122:10 - error: Cannot assign to attribute "platform" for class "Args"
  Â Â Attribute "platform" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/ci.py:123:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:30:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:43:10 - error: Cannot assign to attribute "tier" for class "Args"
  Â Â Attribute "tier" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:59:10 - error: Cannot assign to attribute "key" for class "Args"
  Â Â Attribute "key" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:60:10 - error: Cannot assign to attribute "value" for class "Args"
  Â Â Attribute "value" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:61:10 - error: Cannot assign to attribute "set_global" for class "Args"
  Â Â Attribute "set_global" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:62:10 - error: Cannot assign to attribute "set_workspace" for class "Args"
  Â Â Attribute "set_workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/config.py:63:10 - error: Cannot assign to attribute "set_repo" for class "Args"
  Â Â Attribute "set_repo" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:36:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:51:10 - error: Cannot assign to attribute "full" for class "Args"
  Â Â Attribute "full" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:52:10 - error: Cannot assign to attribute "contract" for class "Args"
  Â Â Attribute "contract" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:53:10 - error: Cannot assign to attribute "files" for class "Args"
  Â Â Attribute "files" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:54:10 - error: Cannot assign to attribute "exit_code" for class "Args"
  Â Â Attribute "exit_code" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:68:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:84:10 - error: Cannot assign to attribute "days" for class "Args"
  Â Â Attribute "days" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:85:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:120:10 - error: Cannot assign to attribute "status" for class "Args"
  Â Â Attribute "status" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:121:10 - error: Cannot assign to attribute "severity" for class "Args"
  Â Â Attribute "severity" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:122:10 - error: Cannot assign to attribute "contract" for class "Args"
  Â Â Attribute "contract" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:123:10 - error: Cannot assign to attribute "file" for class "Args"
  Â Â Attribute "file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:124:10 - error: Cannot assign to attribute "limit" for class "Args"
  Â Â Attribute "limit" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:125:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:137:10 - error: Cannot assign to attribute "violation_id" for class "Args"
  Â Â Attribute "violation_id" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:150:10 - error: Cannot assign to attribute "violation_id" for class "Args"
  Â Â Attribute "violation_id" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:151:10 - error: Cannot assign to attribute "reason" for class "Args"
  Â Â Attribute "reason" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:165:10 - error: Cannot assign to attribute "days" for class "Args"
  Â Â Attribute "days" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/conformance.py:166:10 - error: Cannot assign to attribute "dry_run" for class "Args"
  Â Â Attribute "dry_run" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:47:10 - error: Cannot assign to attribute "language" for class "Args"
  Â Â Attribute "language" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:48:10 - error: Cannot assign to attribute "type" for class "Args"
  Â Â Attribute "type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:49:10 - error: Cannot assign to attribute "tag" for class "Args"
  Â Â Attribute "tag" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:50:10 - error: Cannot assign to attribute "tier" for class "Args"
  Â Â Attribute "tier" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:51:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:63:51 - error: "run_contracts_show" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:66:10 - error: Cannot assign to attribute "name" for class "Args"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:67:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:84:51 - error: "run_contracts_check" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:87:10 - error: Cannot assign to attribute "contract" for class "Args"
  Â Â Attribute "contract" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:88:10 - error: Cannot assign to attribute "check" for class "Args"
  Â Â Attribute "check" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:89:10 - error: Cannot assign to attribute "language" for class "Args"
  Â Â Attribute "language" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:90:10 - error: Cannot assign to attribute "repo_type" for class "Args"
  Â Â Attribute "repo_type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:91:10 - error: Cannot assign to attribute "files" for class "Args"
  Â Â Attribute "files" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:92:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:93:10 - error: Cannot assign to attribute "strict" for class "Args"
  Â Â Attribute "strict" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:107:51 - error: "run_contracts_init" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:110:10 - error: Cannot assign to attribute "extends" for class "Args"
  Â Â Attribute "extends" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:111:10 - error: Cannot assign to attribute "name" for class "Args"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:112:10 - error: Cannot assign to attribute "type" for class "Args"
  Â Â Attribute "type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:122:51 - error: "run_contracts_validate" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:125:10 - error: Cannot assign to attribute "file" for class "Args"
  Â Â Attribute "file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:273:51 - error: "run_exemptions_list" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:276:10 - error: Cannot assign to attribute "contract" for class "Args"
  Â Â Attribute "contract" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:277:10 - error: Cannot assign to attribute "status" for class "Args"
  Â Â Attribute "status" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:278:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:293:51 - error: "run_exemptions_add" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:296:10 - error: Cannot assign to attribute "contract" for class "Args"
  Â Â Attribute "contract" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:297:10 - error: Cannot assign to attribute "check" for class "Args"
  Â Â Attribute "check" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:298:10 - error: Cannot assign to attribute "reason" for class "Args"
  Â Â Attribute "reason" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:299:10 - error: Cannot assign to attribute "approved_by" for class "Args"
  Â Â Attribute "approved_by" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:300:10 - error: Cannot assign to attribute "files" for class "Args"
  Â Â Attribute "files" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:301:10 - error: Cannot assign to attribute "expires" for class "Args"
  Â Â Attribute "expires" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:302:10 - error: Cannot assign to attribute "ticket" for class "Args"
  Â Â Attribute "ticket" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:315:51 - error: "run_exemptions_audit" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:318:10 - error: Cannot assign to attribute "show_expired" for class "Args"
  Â Â Attribute "show_expired" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:319:10 - error: Cannot assign to attribute "show_unused" for class "Args"
  Â Â Attribute "show_unused" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/contracts.py:320:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:56:10 - error: Cannot assign to attribute "verbose" for class "Args"
  Â Â Attribute "verbose" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:57:10 - error: Cannot assign to attribute "path" for class "Args"
  Â Â Attribute "path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:58:10 - error: Cannot assign to attribute "output" for class "Args"
  Â Â Attribute "output" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:59:10 - error: Cannot assign to attribute "no_save" for class "Args"
  Â Â Attribute "no_save" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:60:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:61:10 - error: Cannot assign to attribute "phase" for class "Args"
  Â Â Attribute "phase" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:62:10 - error: Cannot assign to attribute "zone" for class "Args"
  Â Â Attribute "zone" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:63:10 - error: Cannot assign to attribute "list_zones" for class "Args"
  Â Â Attribute "list_zones" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:64:10 - error: Cannot assign to attribute "interactions" for class "Args"
  Â Â Attribute "interactions" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/discover.py:65:10 - error: Cannot assign to attribute "multi_zone" for class "Args"
  Â Â Attribute "multi_zone" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:115:9 - error: No parameter named "config_override" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:183:18 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:184:13 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:185:13 - error: No parameter named "pipeline_type" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:225:18 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:226:13 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:227:13 - error: No parameter named "pipeline_type" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:301:22 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:302:17 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:303:17 - error: No parameter named "pipeline_type" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:304:17 - error: No parameter named "context" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:308:22 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:309:17 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:310:17 - error: No parameter named "pipeline_type" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:375:35 - error: Cannot access attribute "pipeline_type" for class "PipelineState"
  Â Â Attribute "pipeline_type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:378:57 - error: Cannot access attribute "completed_stages" for class "PipelineState"
  Â Â Attribute "completed_stages" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:380:18 - error: Cannot access attribute "error" for class "PipelineState"
  Â Â Attribute "error" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:381:52 - error: Cannot access attribute "error" for class "PipelineState"
  Â Â Attribute "error" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:386:35 - error: Cannot access attribute "user_request" for class "PipelineState"
  Â Â Attribute "user_request" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:390:46 - error: Cannot access attribute "total_tokens_used" for class "PipelineState"
  Â Â Attribute "total_tokens_used" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:391:40 - error: Cannot access attribute "total_cost_usd" for class "PipelineState"
  Â Â Attribute "total_cost_usd" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:435:18 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:436:13 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:437:13 - error: No parameter named "resume_pipeline_id" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:520:13 - error: Argument missing for parameter "request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:520:32 - error: No parameter named "user_request" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:520:49 - error: No parameter named "resume_pipeline_id" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/pipeline.py:620:22 - error: Cannot access attribute "pipeline_type" for class "PipelineState"
  Â Â Attribute "pipeline_type" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:25:10 - error: Cannot assign to attribute "request" for class "Args"
  Â Â Attribute "request" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:26:10 - error: Cannot assign to attribute "priority" for class "Args"
  Â Â Attribute "priority" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:27:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:41:10 - error: Cannot assign to attribute "intake_file" for class "Args"
  Â Â Attribute "intake_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:42:10 - error: Cannot assign to attribute "answer" for class "Args"
  Â Â Attribute "answer" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:43:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:61:10 - error: Cannot assign to attribute "intake_file" for class "Args"
  Â Â Attribute "intake_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:62:10 - error: Cannot assign to attribute "clarification_file" for class "Args"
  Â Â Attribute "clarification_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:63:10 - error: Cannot assign to attribute "code_context" for class "Args"
  Â Â Attribute "code_context" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:64:10 - error: Cannot assign to attribute "project_path" for class "Args"
  Â Â Attribute "project_path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:65:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:94:10 - error: Cannot assign to attribute "intake_file" for class "Args"
  Â Â Attribute "intake_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:95:10 - error: Cannot assign to attribute "clarification_file" for class "Args"
  Â Â Attribute "clarification_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:96:10 - error: Cannot assign to attribute "analysis_file" for class "Args"
  Â Â Attribute "analysis_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:97:10 - error: Cannot assign to attribute "extend_spec" for class "Args"
  Â Â Attribute "extend_spec" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:98:10 - error: Cannot assign to attribute "new_spec" for class "Args"
  Â Â Attribute "new_spec" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:99:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:114:10 - error: Cannot assign to attribute "spec_file" for class "Args"
  Â Â Attribute "spec_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:115:10 - error: Cannot assign to attribute "analysis_file" for class "Args"
  Â Â Attribute "analysis_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:116:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:136:10 - error: Cannot assign to attribute "spec_file" for class "Args"
  Â Â Attribute "spec_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:137:10 - error: Cannot assign to attribute "validation_file" for class "Args"
  Â Â Attribute "validation_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:138:10 - error: Cannot assign to attribute "auto" for class "Args"
  Â Â Attribute "auto" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:139:10 - error: Cannot assign to attribute "resume" for class "Args"
  Â Â Attribute "resume" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:140:10 - error: Cannot assign to attribute "apply" for class "Args"
  Â Â Attribute "apply" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:141:10 - error: Cannot assign to attribute "status" for class "Args"
  Â Â Attribute "status" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:142:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:143:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:191:10 - error: Cannot assign to attribute "input_file" for class "Args"
  Â Â Attribute "input_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:192:10 - error: Cannot assign to attribute "spec_id" for class "Args"
  Â Â Attribute "spec_id" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:193:10 - error: Cannot assign to attribute "output" for class "Args"
  Â Â Attribute "output" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:194:10 - error: Cannot assign to attribute "profile" for class "Args"
  Â Â Attribute "profile" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:195:10 - error: Cannot assign to attribute "skip_review" for class "Args"
  Â Â Attribute "skip_review" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:196:10 - error: Cannot assign to attribute "extend_spec" for class "Args"
  Â Â Attribute "extend_spec" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:197:10 - error: Cannot assign to attribute "new_spec" for class "Args"
  Â Â Attribute "new_spec" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/spec.py:198:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:38:10 - error: Cannot assign to attribute "project" for class "Args"
  Â Â Attribute "project" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:39:10 - error: Cannot assign to attribute "query" for class "Args"
  Â Â Attribute "query" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:40:10 - error: Cannot assign to attribute "budget" for class "Args"
  Â Â Attribute "budget" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:41:10 - error: Cannot assign to attribute "check" for class "Args"
  Â Â Attribute "check" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:42:10 - error: Cannot assign to attribute "index" for class "Args"
  Â Â Attribute "index" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:43:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:44:10 - error: Cannot assign to attribute "provider" for class "Args"
  Â Â Attribute "provider" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:45:10 - error: Cannot assign to attribute "no_lsp" for class "Args"
  Â Â Attribute "no_lsp" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:46:10 - error: Cannot assign to attribute "no_vector" for class "Args"
  Â Â Attribute "no_vector" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:47:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:48:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:73:10 - error: Cannot assign to attribute "profile" for class "Args"
  Â Â Attribute "profile" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:74:10 - error: Cannot assign to attribute "checks" for class "Args"
  Â Â Attribute "checks" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:75:10 - error: Cannot assign to attribute "project" for class "Args"
  Â Â Attribute "project" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:76:10 - error: Cannot assign to attribute "project_root" for class "Args"
  Â Â Attribute "project_root" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:77:10 - error: Cannot assign to attribute "config" for class "Args"
  Â Â Attribute "config" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:78:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:79:10 - error: Cannot assign to attribute "strict" for class "Args"
  Â Â Attribute "strict" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:80:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:95:10 - error: Cannot assign to attribute "spec_file" for class "Args"
  Â Â Attribute "spec_file" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:96:10 - error: Cannot assign to attribute "output" for class "Args"
  Â Â Attribute "output" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/utility.py:97:10 - error: Cannot assign to attribute "use_api" for class "Args"
  Â Â Attribute "use_api" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:42:10 - error: Cannot assign to attribute "name" for class "Args"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:43:10 - error: Cannot assign to attribute "path" for class "Args"
  Â Â Attribute "path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:44:10 - error: Cannot assign to attribute "description" for class "Args"
  Â Â Attribute "description" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:45:10 - error: Cannot assign to attribute "single_repo" for class "Args"
  Â Â Attribute "single_repo" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:46:10 - error: Cannot assign to attribute "language" for class "Args"
  Â Â Attribute "language" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:47:10 - error: Cannot assign to attribute "type" for class "Args"
  Â Â Attribute "type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:48:10 - error: Cannot assign to attribute "force" for class "Args"
  Â Â Attribute "force" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:49:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:61:10 - error: Cannot assign to attribute "repo" for class "Args"
  Â Â Attribute "repo" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:62:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:86:10 - error: Cannot assign to attribute "name" for class "Args"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:87:10 - error: Cannot assign to attribute "path" for class "Args"
  Â Â Attribute "path" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:88:10 - error: Cannot assign to attribute "type" for class "Args"
  Â Â Attribute "type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:89:10 - error: Cannot assign to attribute "language" for class "Args"
  Â Â Attribute "language" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:90:10 - error: Cannot assign to attribute "framework" for class "Args"
  Â Â Attribute "framework" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:91:10 - error: Cannot assign to attribute "lsp" for class "Args"
  Â Â Attribute "lsp" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:92:10 - error: Cannot assign to attribute "layers" for class "Args"
  Â Â Attribute "layers" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:93:10 - error: Cannot assign to attribute "tags" for class "Args"
  Â Â Attribute "tags" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:94:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:106:10 - error: Cannot assign to attribute "name" for class "Args"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:107:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:121:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:122:10 - error: Cannot assign to attribute "repo" for class "Args"
  Â Â Attribute "repo" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:133:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:152:10 - error: Cannot assign to attribute "type" for class "Args"
  Â Â Attribute "type" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:153:10 - error: Cannot assign to attribute "language" for class "Args"
  Â Â Attribute "language" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:154:10 - error: Cannot assign to attribute "tag" for class "Args"
  Â Â Attribute "tag" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:155:10 - error: Cannot assign to attribute "format" for class "Args"
  Â Â Attribute "format" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:156:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/click_commands/workspace.py:167:10 - error: Cannot assign to attribute "workspace" for class "Args"
  Â Â Attribute "workspace" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/agent.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/agent.py:39:26 - error: Argument missing for parameter "storage_path" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/agent.py:41:26 - error: Argument missing for parameter "storage_path" (reportCallIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/conformance.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/conformance.py:76:43 - error: "run_all_contracts" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/conformance.py:76:62 - error: "run_contract" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/context.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/context.py:31:57 - error: Argument of type "Any | None" cannot be assigned to parameter "provider" of type "str" in function "__init__"
  Â Â Type "Any | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/context.py:76:14 - error: Import "embedding_providers" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/revision_apply.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/revision_apply.py:155:27 - error: Argument of type "Literal['Anthropic API', 'Claude Code CLI']" cannot be assigned to parameter "file" of type "IO[Any] | None" in function "echo"
  Â Â Type "Literal['Anthropic API', 'Claude Code CLI']" is not assignable to type "IO[Any] | None"
  Â Â Â Â Type "Literal['Anthropic API']" is not assignable to type "IO[Any] | None"
  Â Â Â Â Â Â "Literal['Anthropic API']" is not assignable to "IO[Any]"
  Â Â Â Â Â Â "Literal['Anthropic API']" is not assignable to "None" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/spec.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/spec.py:322:20 - error: Type "None" is not assignable to return type "str"
  Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/spec.py:355:58 - error: Argument of type "Any | None" cannot be assigned to parameter "extend_spec" of type "str" in function "_analyze_draft_placement"
  Â Â Type "Any | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/verify.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/verify.py:30:45 - error: Argument of type "Path | None" cannot be assigned to parameter "config_path" of type "Path" in function "__init__"
  Â Â Type "Path | None" is not assignable to type "Path"
  Â Â Â Â "None" is not assignable to "Path" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:108:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "workspace_arg" of type "str" in function "discover_workspace"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:225:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "workspace_arg" of type "str" in function "discover_workspace"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:244:34 - error: Argument of type "Unknown | None" cannot be assigned to parameter "layers" of type "list[str]" in function "__init__"
  Â Â Type "Unknown | None" is not assignable to type "list[str]"
  Â Â Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:244:47 - error: Argument of type "Unknown | None" cannot be assigned to parameter "tags" of type "list[str]" in function "__init__"
  Â Â Type "Unknown | None" is not assignable to type "list[str]"
  Â Â Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:269:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "workspace_arg" of type "str" in function "discover_workspace"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:339:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "workspace_arg" of type "str" in function "discover_workspace"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/commands/workspace.py:395:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "workspace_arg" of type "str" in function "discover_workspace"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/cli/core.py
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:97:16 - error: Type "None" is not assignable to return type "str"
  Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:102:16 - error: Type "str | None" is not assignable to return type "str"
  Â Â Type "str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:103:12 - error: Type "None" is not assignable to return type "str"
  Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:111:16 - error: Type "str | None" is not assignable to return type "str"
  Â Â Type "str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:112:12 - error: Type "None" is not assignable to return type "str"
  Â Â "None" is not assignable to "str" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:238:32 - error: Cannot access attribute "text" for class "ThinkingBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:238:32 - error: Cannot access attribute "text" for class "RedactedThinkingBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:238:32 - error: Cannot access attribute "text" for class "ToolUseBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:238:32 - error: Cannot access attribute "text" for class "ServerToolUseBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/cli/core.py:238:32 - error: Cannot access attribute "text" for class "WebSearchToolResultBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/audit/context_frame.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/context_frame.py:82:13 - error: Argument of type "dict[str, Any]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, Any]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/context_frame.py:103:13 - error: Argument of type "dict[str, Any]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, Any]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/context_frame.py:105:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/context_frame.py:107:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:90:13 - error: Argument of type "dict[str, Any]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, Any]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:92:13 - error: Argument of type "dict[str, str | int | None]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, str | int | None]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:158:13 - error: Argument of type "dict[str, str | None]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, str | None]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:163:13 - error: Argument of type "dict[str, str | int | None]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, str | int | None]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:168:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:170:13 - error: Argument of type "dict[str, str | int | None]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, str | int | None]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/audit/thread_correlator.py:524:16 - error: Type "dict[str, Any] | None" is not assignable to return type "dict[str, Any]"
  Â Â Type "dict[str, Any] | None" is not assignable to type "dict[str, Any]"
  Â Â Â Â "None" is not assignable to "dict[str, Any]" (reportReturnType)
/Users/sean/source/tools/agentforge/src/agentforge/core/bridge/contract_builder.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/bridge/contract_builder.py:209:26 - error: "dump" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/bridge/contract_builder.py:229:35 - error: "dump" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks.py:447:85 - error: Argument of type "Unknown | None" cannot be assigned to parameter "comp_id" of type "str" in function "_check_file_references_spec"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks.py:469:74 - error: Argument of type "Unknown | None" cannot be assigned to parameter "spec_id" of type "str" in function "_check_component_link"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks.py:537:10 - error: Import "builtin_checks_architecture" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks_architecture.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks_architecture.py:36:10 - error: Import "builtin_checks_architecture_helpers" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/builtin_checks_architecture.py:199:90 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/code_chunker.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/code_chunker.py:21:10 - error: Import "vector_types" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:68:19 - error: "close" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:71:25 - error: Argument of type "str | None" cannot be assigned to parameter "src" of type "StrPath" in function "move"
  Â Â Type "str | None" is not assignable to type "StrPath"
  Â Â Â Â Type "None" is not assignable to type "StrPath"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:75:27 - error: Argument of type "str | None" cannot be assigned to parameter "path" of type "StrOrBytesPath" in function "unlink"
  Â Â Type "str | None" is not assignable to type "StrOrBytesPath"
  Â Â Â Â Type "None" is not assignable to type "StrOrBytesPath"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "bytes"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[bytes]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:166:13 - error: Argument of type "int" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "int" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:168:13 - error: Argument of type "int" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "int" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:176:13 - error: Argument of type "dict[Unknown, Unknown]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[Unknown, Unknown]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:347:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:349:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/conformance/stores.py:351:13 - error: Argument of type "dict[str, Unknown]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[str, Unknown]" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:42:10 - error: Import "context_assembler_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:49:10 - error: Import "context_patterns" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:66:58 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:294:34 - error: Expression of type "None" cannot be assigned to parameter of type "list[Any]"
  Â Â "None" is not assignable to "list[Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:295:37 - error: Expression of type "None" cannot be assigned to parameter of type "list[Any]"
  Â Â "None" is not assignable to "list[Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:296:35 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:297:30 - error: Expression of type "None" cannot be assigned to parameter of type "int"
  Â Â "None" is not assignable to "int" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_assembler.py:360:30 - error: Expression of type "None" cannot be assigned to parameter of type "int"
  Â Â "None" is not assignable to "int" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/context_patterns.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_patterns.py:15:10 - error: Import "context_assembler_types" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:57:25 - error: Type "None" is not assignable to declared type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:77:62 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:77:84 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:139:57 - error: "get_adapter_for_project" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:175:75 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:208:30 - error: Expression of type "None" cannot be assigned to parameter of type "int"
  Â Â "None" is not assignable to "int" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:209:35 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:339:53 - error: "get_adapter_for_project" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval.py:378:10 - error: Import "context_retrieval_cli" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval_cli.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/context_retrieval_cli.py:141:14 - error: Import "context_retrieval" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/contract_runner.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_runner.py:30:46 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_runner.py:30:72 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_runner.py:88:77 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/contract_validator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_validator.py:25:10 - error: Import "contract_validator_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_validator.py:26:10 - error: Import "output_validator" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_validator.py:307:66 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contract_validator.py:352:53 - error: Argument of type "str | None" cannot be assigned to parameter "schema_path" of type "str" in function "validate_contract_cli"
  Â Â Type "str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/contracts.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts.py:41:10 - error: Import "contracts_execution" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts.py:42:10 - error: Import "contracts_registry" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts.py:43:10 - error: Import "contracts_types" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:35:10 - error: Import "contracts_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:63:14 - error: Import "contracts_ast" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:64:14 - error: Import "contracts_lsp" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:185:30 - error: "finditer" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:303:46 - error: Argument of type "ModuleSpec | None" cannot be assigned to parameter "spec" of type "ModuleSpec" in function "module_from_spec"
  Â Â Type "ModuleSpec | None" is not assignable to type "ModuleSpec"
  Â Â Â Â "None" is not assignable to "ModuleSpec" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:304:10 - error: "loader" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:304:17 - error: "exec_module" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:509:20 - error: Operator ">=" not supported for "None" (reportOptionalOperand)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:511:20 - error: Operator ">=" not supported for "None" (reportOptionalOperand)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_execution.py:515:47 - error: Operator ">=" not supported for "None" (reportOptionalOperand)
/Users/sean/source/tools/agentforge/src/agentforge/core/contracts_lsp.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_lsp.py:25:43 - error: "CheckResult" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_lsp.py:28:49 - error: "get_lsp_adapter" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/contracts_registry.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/contracts_registry.py:27:10 - error: Import "contracts_types" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/interactions.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/interactions.py:185:39 - error: Type "list[Any]" is not assignable to declared type "set[str]"
  Â Â "list[Any]" is not assignable to "set[str]" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/patterns.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/patterns.py:711:30 - error: Cannot access attribute "_last_result" for class "PatternAnalyzer*"
  Â Â Attribute "_last_result" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/structure.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/analyzers/structure.py:357:24 - error: Import "tomli" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/manager.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/manager.py:411:30 - error: Argument of type "list[str | Path] | list[str]" cannot be assigned to parameter "test_directories" of type "list[str]" in function "__init__"
  Â Â Type "list[str | Path] | list[str]" is not assignable to type "list[str]"
  Â Â Â Â "list[str | Path]" is not assignable to "list[str]"
  Â Â Â Â Â Â Type parameter "_T@list" is invariant, but "str | Path" is not the same as "str"
  Â Â Â Â Â Â Consider switching from "list" to "Sequence" which is covariant (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/base.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/base.py:125:74 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/dotnet_provider.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/dotnet_provider.py:240:45 - error: "get_symbols" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/dotnet_provider.py:527:74 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:182:24 - error: Import "tomli" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:373:20 - error: Type "expr" is not assignable to declared type "Attribute"
  Â Â "expr" is not assignable to "Attribute" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:418:26 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:429:22 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:429:63 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:440:55 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:440:70 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:513:22 - error: Cannot access attribute "lineno" for class "AST"
  Â Â Attribute "lineno" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/discovery/providers/python_provider.py:919:24 - error: Import "tomli" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:91:5 - error: "requires_api_key" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:91:24 - error: Type "Literal[False]" is not assignable to declared type "property"
  Â Â "Literal[False]" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:92:5 - error: "install_instructions" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:92:28 - error: Type "Literal['pip install sentence-transformers']" is not assignable to declared type "property"
  Â Â "Literal['pip install sentence-transformers']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:96:42 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:109:34 - error: Cannot assign to attribute "dimension" for class "LocalEmbeddingProvider*"
  Â Â Type "int | None" is not assignable to type "int"
  Â Â Â Â "None" is not assignable to "int" (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:145:5 - error: "requires_api_key" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:145:24 - error: Type "Literal[True]" is not assignable to declared type "property"
  Â Â "Literal[True]" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:146:5 - error: "install_instructions" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:146:28 - error: Type "Literal['pip install openai && export OPENAI_API_KEY=your-kâ€¦']" is not assignable to declared type "property"
  Â Â "Literal['pip install openai && export OPENAI_API_KEY=your-kâ€¦']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:156:22 - error: Import "openai" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:187:20 - error: Import "openai" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:203:5 - error: "requires_api_key" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:203:24 - error: Type "Literal[True]" is not assignable to declared type "property"
  Â Â "Literal[True]" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:204:5 - error: "install_instructions" incorrectly overrides property of same name in class "EmbeddingProvider" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:204:28 - error: Type "Literal['pip install voyageai && export VOYAGE_API_KEY=yourâ€¦']" is not assignable to declared type "property"
  Â Â "Literal['pip install voyageai && export VOYAGE_API_KEY=yourâ€¦']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:214:24 - error: Import "voyageai" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:241:20 - error: Import "voyageai" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:255:49 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/embedding_providers.py:255:70 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:24:5 - warning: "GeneratedFile" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:25:5 - warning: "GenerationResult" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:26:5 - warning: "GenerationContext" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:27:5 - warning: "GenerationError" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:28:5 - warning: "APIError" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:29:5 - warning: "ParseError" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:31:5 - warning: "LLMProvider" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:32:5 - warning: "ClaudeProvider" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:33:5 - warning: "ManualProvider" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:34:5 - warning: "get_provider" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:36:5 - warning: "PromptBuilder" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:37:5 - warning: "ResponseParser" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:38:5 - warning: "CodeWriter" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/__init__.py:39:5 - warning: "GenerationEngine" is specified in __all__ but is not present in module (reportUnsupportedDunderAll)
/Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:168:39 - error: Cannot access attribute "text" for class "ThinkingBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:168:39 - error: Cannot access attribute "text" for class "RedactedThinkingBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:168:39 - error: Cannot access attribute "text" for class "ToolUseBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:168:39 - error: Cannot access attribute "text" for class "ServerToolUseBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:168:39 - error: Cannot access attribute "text" for class "WebSearchToolResultBlock"
  Â Â Attribute "text" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/generate/provider.py:212:15 - error: Invalid exception class or object
  Â Â "None" does not derive from BaseException (reportGeneralTypeIssues)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:52:13 - error: Argument of type "dict[Unknown, Unknown]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "dict[Unknown, Unknown]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:85:13 - error: Argument of type "dict[Unknown, Unknown]" cannot be assigned to parameter "value" of type "bool" in function "__setitem__"
  Â Â "dict[Unknown, Unknown]" is not assignable to "bool" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:333:27 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:333:55 - error: "count" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:336:67 - error: "pattern" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:346:32 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:346:65 - error: "alternation_count" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:350:77 - error: "pattern" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:370:31 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:370:59 - error: "count" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:373:64 - error: "pattern" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:380:36 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:380:69 - error: "alternation_count" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:383:74 - error: "pattern" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:399:61 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_monitor.py:400:76 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_orchestrator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_orchestrator.py:337:41 - error: "execute_step" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/agent_orchestrator.py:371:49 - error: Cannot access attribute "NORMAL" for class "type[EscalationPriority]"
  Â Â Attribute "NORMAL" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/memory_store.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/memory_store.py:156:23 - error: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Â Â Type "Path | None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Type "None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Â Â "None" is not assignable to "int"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "bytes"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[bytes]"
    ... (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/memory_store.py:188:23 - error: "parent" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/memory_store.py:198:31 - error: "parent" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/memory_store.py:206:31 - error: Argument of type "Path | None" cannot be assigned to parameter "target" of type "StrPath" in function "replace"
  Â Â Type "Path | None" is not assignable to type "StrPath"
  Â Â Â Â Type "None" is not assignable to type "StrPath"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/adaptive_budget.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/adaptive_budget.py:101:55 - error: "value" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/executor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/executor.py:200:57 - error: Argument of type "ActionExecutor" cannot be assigned to parameter "handler" of type "ActionHandler" in function "register_action"
  Â Â Type "ActionExecutor" is not assignable to type "ActionHandler"
  Â Â Â Â Parameter 1: type "dict[str, Any]" is incompatible with type "str"
  Â Â Â Â Â Â "dict[str, Any]" is not assignable to "str"
  Â Â Â Â Position-only parameter mismatch; expected 3 but received 1
  Â Â Â Â Function accepts too few positional parameters; expected 3 but received 1 (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/executor.py:205:52 - error: Argument of type "dict[str, ActionExecutor]" cannot be assigned to parameter "handlers" of type "dict[str, ActionHandler]" in function "register_actions"
  Â Â "dict[str, ActionExecutor]" is not assignable to "dict[str, ActionHandler]"
  Â Â Â Â Type parameter "_VT@dict" is invariant, but "ActionExecutor" is not the same as "ActionHandler"
  Â Â Â Â Consider switching from "dict" to "Mapping" which is covariant in the value type (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:351:35 - error: "os" is not a known attribute of module "subprocess" (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1349:22 - error: Cannot access attribute "close" for class "RefactoringProvider"
  Â Â Attribute "close" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1480:36 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1483:34 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1486:43 - error: "context_data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1487:41 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1488:47 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1489:34 - error: "error" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1539:36 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1541:34 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1544:43 - error: "context_data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1545:41 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1546:47 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/fix_workflow.py:1547:34 - error: "error" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/template_context_builder.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/template_context_builder.py:299:13 - error: No parameter named "current" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/template_context_builder.py:300:13 - error: No parameter named "step_in_phase" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/template_context_builder.py:301:13 - error: No parameter named "max_steps" (reportCallIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py:148:18 - error: Import "agentforge.tools.vector_search" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py:72:22 - error: Import "agentforge.harness.conformance_tools" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py:207:18 - error: Import "agentforge.harness.conformance_tools" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py:248:18 - error: Import "agentforge.harness.conformance_tools" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py:294:22 - error: Import "agentforge.harness.test_runner_tools" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py:439:35 - error: "os" is not a known attribute of module "subprocess" (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/monitor_domain.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/monitor_domain.py:50:39 - error: Type "None" is not assignable to declared type "list[Observation]"
  Â Â "None" is not assignable to "list[Observation]" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/monitor_domain.py:61:33 - error: Type "None" is not assignable to declared type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/refactoring_tools.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/refactoring_tools.py:160:21 - error: Operator "/" not supported for types "Path" and "Any | None"
  Â Â Operator "/" not supported for types "Path" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/refactoring_tools.py:207:37 - error: Operator "-" not supported for "None" (reportOptionalOperand)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/refactoring_tools.py:232:24 - error: Operator "-" not supported for "None" (reportOptionalOperand)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:129:32 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:144:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:145:25 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:146:16 - error: Type "SessionContext | None" is not assignable to return type "SessionContext"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:161:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:162:25 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:163:16 - error: Type "SessionContext | None" is not assignable to return type "SessionContext"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:178:31 - error: "completed_at" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:179:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:180:25 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:181:16 - error: Type "SessionContext | None" is not assignable to return type "SessionContext"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:198:31 - error: "completed_at" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:199:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:200:25 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:201:16 - error: Type "SessionContext | None" is not assignable to return type "SessionContext"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:218:43 - error: "current_phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:219:31 - error: "current_phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:220:31 - error: "updated_at" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:221:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:228:25 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:230:16 - error: Type "SessionContext | None" is not assignable to return type "SessionContext"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:243:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:244:32 - error: Argument of type "SessionContext | None" cannot be assigned to parameter "session" of type "SessionContext" in function "save"
  Â Â Type "SessionContext | None" is not assignable to type "SessionContext"
  Â Â Â Â "None" is not assignable to "SessionContext" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:260:31 - error: "token_budget" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:261:31 - error: "updated_at" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:262:38 - error: "token_budget" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:275:31 - error: "token_budget" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:276:31 - error: "add_history" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:293:31 - error: "add_artifact" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:348:41 - error: "state" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:356:31 - error: "state" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/session_manager.py:357:31 - error: "updated_at" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/tool_executor_bridge.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/tool_executor_bridge.py:68:9 - error: No overloads for "update" match the provided arguments (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/tool_executor_bridge.py:68:26 - error: Argument of type "dict[str, ToolExecutor]" cannot be assigned to parameter "m" of type "Iterable[tuple[str, (name: str, params: dict[str, Any]) -> ToolResult]]" in function "update"
  Â Â "dict[str, ToolExecutor]" is not assignable to "Iterable[tuple[str, (name: str, params: dict[str, Any]) -> ToolResult]]"
  Â Â Â Â Type parameter "_T_co@Iterable" is covariant, but "str" is not a subtype of "tuple[str, (name: str, params: dict[str, Any]) -> ToolResult]"
  Â Â Â Â Â Â "str" is not assignable to "tuple[str, (name: str, params: dict[str, Any]) -> ToolResult]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/harness/tool_selector.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/harness/tool_selector.py:108:30 - error: "json" is possibly unbound (reportPossiblyUnboundVariable)
/Users/sean/source/tools/agentforge/src/agentforge/core/llm/client.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/llm/client.py:199:45 - error: Argument of type "StopReason | None" cannot be assigned to parameter "api_stop_reason" of type "str" in function "_map_stop_reason"
  Â Â Type "StopReason | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/llm/factory.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/llm/factory.py:153:23 - error: Type "Path | str | None" is not assignable to declared type "Path | None"
  Â Â Type "Path | str | None" is not assignable to type "Path | None"
  Â Â Â Â Type "str" is not assignable to type "Path | None"
  Â Â Â Â Â Â "str" is not assignable to "Path"
  Â Â Â Â Â Â "str" is not assignable to "None" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/llm/factory.py:171:26 - error: Type "Path | str | None" is not assignable to declared type "Path | None"
  Â Â Type "Path | str | None" is not assignable to type "Path | None"
  Â Â Â Â Type "str" is not assignable to type "Path | None"
  Â Â Â Â Â Â "str" is not assignable to "Path"
  Â Â Â Â Â Â "str" is not assignable to "None" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/llm/factory.py:196:26 - error: Type "Path | str | None" is not assignable to declared type "Path | None"
  Â Â Type "Path | str | None" is not assignable to type "Path | None"
  Â Â Â Â Type "str" is not assignable to type "Path | None"
  Â Â Â Â Â Â "str" is not assignable to "Path"
  Â Â Â Â Â Â "str" is not assignable to "None" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/llm/interface.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/llm/interface.py:288:16 - error: "response" is possibly unbound (reportPossiblyUnboundVariable)
/Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:180:34 - error: "send_request" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:185:49 - error: Argument of type "dict[Unknown, Unknown]" cannot be assigned to parameter "symbols" of type "list[Unknown]" in function "_parse_document_symbols"
  Â Â "dict[Unknown, Unknown]" is not assignable to "list[Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:189:87 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:238:34 - error: "send_request" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:270:34 - error: "send_request" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:305:34 - error: "send_request" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:336:34 - error: "send_request" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter.py:388:10 - error: Import "lsp_adapter_cli" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter_cli.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter_cli.py:54:14 - error: Import "lsp_adapters" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapter_cli.py:127:14 - error: Import "lsp_client" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapters.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_adapters.py:63:9 - error: "SERVER_COMMAND" overrides symbol of same name in class "LSPAdapter"
  Â Â "property" is not assignable to "list[str]" (reportIncompatibleVariableOverride)
/Users/sean/source/tools/agentforge/src/agentforge/core/lsp_client.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/lsp_client.py:182:72 - error: Expression of type "None" cannot be assigned to parameter of type "float"
  Â Â "None" is not assignable to "float" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:19:10 - error: Import "contract_validator_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:81:50 - error: Argument of type "Unknown | None" cannot be assigned to parameter "check_type" of type "str" in function "_dispatch_check"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:159:39 - error: Argument of type "Unknown | None" cannot be assigned to parameter "target" of type "str" in function "_get_field_value"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:166:29 - error: No overloads for "search" match the provided arguments (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:166:39 - error: Argument of type "Unknown | None" cannot be assigned to parameter "pattern" of type "str | Pattern[str]" in function "search"
  Â Â Type "Unknown | None" is not assignable to type "str | Pattern[str]"
  Â Â Â Â Type "None" is not assignable to type "str | Pattern[str]"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "Pattern[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:170:17 - error: No overloads for "search" match the provided arguments (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:170:27 - error: Argument of type "Unknown | None" cannot be assigned to parameter "pattern" of type "str | Pattern[str]" in function "search"
  Â Â Type "Unknown | None" is not assignable to type "str | Pattern[str]"
  Â Â Â Â Type "None" is not assignable to type "str | Pattern[str]"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "Pattern[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:184:40 - error: Argument of type "Unknown | None" cannot be assigned to parameter "target" of type "str" in function "_get_field_value"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:192:56 - error: Argument of type "Unknown | None" cannot be assigned to parameter "expr" of type "str" in function "_eval_simple_condition"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:197:44 - error: Argument of type "Unknown | None" cannot be assigned to parameter "expr" of type "str" in function "_eval_simple_condition"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/output_validator.py:203:39 - error: Argument of type "Unknown | None" cannot be assigned to parameter "target" of type "str" in function "_get_field_value"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/controller.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/controller.py:604:42 - error: Argument of type "Any | None" cannot be assigned to parameter "reason" of type "str" in function "mark_skipped"
  Â Â Type "Any | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/controller.py:774:24 - error: Argument of type "str | None" cannot be assigned to parameter "stage_name" of type "str" in function "__init__"
  Â Â Type "str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/discovery_integration.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/discovery_integration.py:148:45 - error: Cannot access attribute "name" for class "str"
  Â Â Attribute "name" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/discovery_integration.py:148:58 - error: Cannot access attribute "pattern" for class "str"
  Â Â Attribute "pattern" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/escalation.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/escalation.py:229:46 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/llm_stage_executor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/llm_stage_executor.py:210:31 - error: Cannot access attribute "execute_task" for class "MinimalContextExecutor"
  Â Â Attribute "execute_task" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/registry.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/registry.py:181:44 - error: Expression of type "None" cannot be assigned to parameter of type "() -> StageExecutor"
  Â Â Type "None" is not assignable to type "() -> StageExecutor" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stage_executor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stage_executor.py:72:37 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stage_executor.py:73:27 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stage_executor.py:103:30 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stage_executor.py:104:35 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/analyze.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/analyze.py:42:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/analyze.py:42:18 - error: Type "Literal['analyze']" is not assignable to declared type "property"
  Â Â "Literal['analyze']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/clarify.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/clarify.py:39:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/clarify.py:39:18 - error: Type "Literal['clarify']" is not assignable to declared type "property"
  Â Â "Literal['clarify']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/deliver.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/deliver.py:43:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/deliver.py:43:18 - error: Type "Literal['deliver']" is not assignable to declared type "property"
  Â Â "Literal['deliver']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:48:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:48:18 - error: Type "Literal['green']" is not assignable to declared type "property"
  Â Â "Literal['green']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:200:50 - error: "Path" is not defined (reportUndefinedVariable)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:200:61 - error: "Path" is not defined (reportUndefinedVariable)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:261:31 - error: Cannot access attribute "execute_task" for class "MinimalContextExecutor"
  Â Â Attribute "execute_task" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/green.py:477:17 - error: Argument of type "list[Unknown | str | None] | Any" cannot be assigned to parameter "test_files" of type "list[str]" in function "_run_all_tests"
  Â Â Type "list[Unknown | str | None] | Any" is not assignable to type "list[str]"
  Â Â Â Â "list[Unknown | str | None]" is not assignable to "list[str]"
  Â Â Â Â Â Â Type parameter "_T@list" is invariant, but "Unknown | str | None" is not the same as "str"
  Â Â Â Â Â Â Consider switching from "list" to "Sequence" which is covariant (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/intake.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/intake.py:39:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/intake.py:39:18 - error: Type "Literal['intake']" is not assignable to declared type "property"
  Â Â "Literal['intake']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/red.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/red.py:43:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/red.py:43:18 - error: Type "Literal['red']" is not assignable to declared type "property"
  Â Â "Literal['red']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/refactor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/refactor.py:38:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/refactor.py:38:18 - error: Type "Literal['refactor']" is not assignable to declared type "property"
  Â Â "Literal['refactor']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/refactor.py:136:31 - error: Cannot access attribute "execute_task" for class "MinimalContextExecutor"
  Â Â Attribute "execute_task" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/refactor.py:229:17 - error: "create_enhanced_handlers" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/spec.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/spec.py:45:5 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/stages/spec.py:45:18 - error: Type "Literal['spec']" is not assignable to declared type "property"
  Â Â "Literal['spec']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state.py:100:58 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state.py:113:42 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state.py:263:30 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state_store.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/state_store.py:60:21 - error: Expected class but received "(obj: object, /) -> TypeIs[(...) -> object]" (reportGeneralTypeIssues)
/Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:186:34 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:187:31 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:188:34 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, type]"
  Â Â "None" is not assignable to "dict[str, type]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:211:58 - error: Argument of type "dict[str, type]" cannot be assigned to parameter "types" of type "dict[str, type | tuple[Unknown, ...]]" in function "validate_types"
  Â Â "dict[str, type]" is not assignable to "dict[str, type | tuple[Unknown, ...]]"
  Â Â Â Â Type parameter "_VT@dict" is invariant, but "type" is not the same as "type | tuple[Unknown, ...]"
  Â Â Â Â Consider switching from "dict" to "Mapping" which is covariant in the value type (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:327:30 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:328:27 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:329:30 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, type]"
  Â Â "None" is not assignable to "dict[str, type]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/pipeline/validator.py:352:60 - error: Argument of type "dict[str, type]" cannot be assigned to parameter "types" of type "dict[str, type | tuple[Unknown, ...]]" in function "validate_types"
  Â Â "dict[str, type]" is not assignable to "dict[str, type | tuple[Unknown, ...]]"
  Â Â Â Â Type parameter "_VT@dict" is invariant, but "type" is not the same as "type | tuple[Unknown, ...]"
  Â Â Â Â Consider switching from "dict" to "Mapping" which is covariant in the value type (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/refactoring/rope_provider.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/refactoring/rope_provider.py:49:28 - error: Argument of type "None" cannot be assigned to parameter "ropefolder" of type "str" in function "__init__"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/refactoring/rope_provider.py:103:32 - error: Cannot access attribute "read" for class "Folder"
  Â Â Attribute "read" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/refactoring/rope_provider.py:173:32 - error: Cannot access attribute "read" for class "Folder"
  Â Â Attribute "read" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/orchestrator.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/orchestrator.py:241:69 - error: No parameter named "generator" (reportCallIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/green.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/green.py:256:32 - error: Argument of type "str | None" cannot be assigned to parameter "existing_tests" of type "str" in function "for_green"
  Â Â Type "str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:282:36 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:285:32 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:286:32 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:398:36 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:401:32 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/red.py:402:32 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/refactor.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/refactor.py:188:61 - error: "run_check_file" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/verify.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/phases/verify.py:162:61 - error: "run_check_file" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/runners/dotnet.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/runners/dotnet.py:115:48 - error: Operator "==" not supported for types "Unbound" and "Unbound" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/runners/dotnet.py:115:48 - error: "passed" is unbound (reportUnboundVariable)
  /Users/sean/source/tools/agentforge/src/agentforge/core/tdflow/runners/dotnet.py:115:58 - error: "total" is unbound (reportUnboundVariable)
/Users/sean/source/tools/agentforge/src/agentforge/core/validate_schema.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/validate_schema.py:54:17 - error: "jsonschema" is possibly unbound (reportPossiblyUnboundVariable)
/Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:40:10 - error: Import "code_chunker" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:41:10 - error: Import "vector_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:51:58 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:51:80 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:97:16 - error: Type "Unknown | None" is not assignable to return type "Path"
  Â Â Type "Unknown | None" is not assignable to type "Path"
  Â Â Â Â "None" is not assignable to "Path" (reportReturnType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:178:13 - error: Argument missing for parameter "x" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:179:9 - error: Argument missing for parameter "x" (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/vector_search.py:278:27 - error: Arguments missing for parameters "k", "distances", "labels" (reportCallIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/verification_ast.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_ast.py:18:10 - error: Import "agentforge.core.command_runners" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_ast.py:62:30 - error: Operator "-" not supported for "None" (reportOptionalOperand)
/Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:26:10 - error: Import "verification_contracts_check" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:32:10 - error: Import "verification_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:247:54 - error: Argument of type "ModuleSpec | None" cannot be assigned to parameter "spec" of type "ModuleSpec" in function "module_from_spec"
  Â Â Type "ModuleSpec | None" is not assignable to type "ModuleSpec"
  Â Â Â Â "None" is not assignable to "ModuleSpec" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:248:18 - error: "loader" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:248:25 - error: "exec_module" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:288:47 - error: Argument of type "Unknown | None" cannot be assigned to parameter "function_path" of type "str" in function "_load_custom_function"
  Â Â Type "Unknown | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:311:46 - error: Argument of type "list[Unknown] | Unknown | None" cannot be assigned to parameter "results" of type "list[Unknown]" in function "aggregate_contract_stats"
  Â Â Type "list[Unknown] | Unknown | None" is not assignable to type "list[Unknown]"
  Â Â Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:317:67 - error: Argument of type "list[Unknown] | Unknown | None" cannot be assigned to parameter "results" of type "list[Unknown]" in function "build_contract_message"
  Â Â Type "list[Unknown] | Unknown | None" is not assignable to type "list[Unknown]"
  Â Â Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:318:46 - error: Argument of type "list[Unknown] | Unknown | None" cannot be assigned to parameter "results" of type "list[Unknown]" in function "build_contract_errors"
  Â Â Type "list[Unknown] | Unknown | None" is not assignable to type "list[Unknown]"
  Â Â Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:319:74 - error: Object of type "None" cannot be used as iterable value (reportOptionalIterable)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:343:27 - error: Cannot access attribute "pyright_runner" for class "CheckRunner*"
  Â Â Attribute "pyright_runner" is unknown (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_checks.py:410:40 - error: Cannot access attribute "ast_checker" for class "CheckRunner*"
  Â Â Attribute "ast_checker" is unknown (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/verification_contracts_check.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_contracts_check.py:15:27 - error: "ContractRegistry" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_contracts_check.py:15:45 - error: "run_all_contracts" is unknown import symbol (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_contracts_check.py:15:64 - error: "run_contract" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/src/agentforge/core/verification_reports.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_reports.py:49:18 - error: Import "verification_types" could not be resolved (reportMissingImports)
/Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:42:10 - error: Import "verification_checks" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:43:10 - error: Import "verification_reports" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:44:10 - error: Import "verification_types" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:53:10 - error: Import "command_runner" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:54:10 - error: Import "pyright_runner" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:55:10 - error: Import "verification_ast" could not be resolved (reportMissingImports)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:58:26 - error: Argument to class must be a base class (reportGeneralTypeIssues)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:58:39 - error: Argument to class must be a base class (reportGeneralTypeIssues)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:65:44 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:65:71 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:150:49 - error: Expression of type "None" cannot be assigned to parameter of type "list[str]"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:223:65 - error: Expression of type "None" cannot be assigned to parameter of type "dict[str, Any]"
  Â Â "None" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/verification_runner.py:293:45 - error: Argument of type "Path | None" cannot be assigned to parameter "config_path" of type "Path" in function "__init__"
  Â Â Type "Path | None" is not assignable to type "Path"
  Â Â Â Â "None" is not assignable to "Path" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:50:45 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:120:43 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:169:67 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:212:40 - error: "parent" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:225:39 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:227:5 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:229:10 - error: No overloads for "open" match the provided arguments (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:229:15 - error: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Â Â Type "Path | None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Type "None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Â Â "None" is not assignable to "int"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "bytes"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[bytes]"
    ... (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:239:37 - error: Argument of type "Path | None" cannot be assigned to parameter "workspace_path" of type "Path" in function "create_repo_link"
  Â Â Type "Path | None" is not assignable to type "Path"
  Â Â Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:251:51 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:252:5 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:254:10 - error: No overloads for "open" match the provided arguments (reportCallIssue)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:254:15 - error: Argument of type "Path | None" cannot be assigned to parameter "file" of type "FileDescriptorOrPath" in function "open"
  Â Â Type "Path | None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Type "None" is not assignable to type "FileDescriptorOrPath"
  Â Â Â Â Â Â "None" is not assignable to "int"
  Â Â Â Â Â Â "None" is not assignable to "str"
  Â Â Â Â Â Â "None" is not assignable to "bytes"
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[str]"
  Â Â Â Â Â Â Â Â "__fspath__" is not present
  Â Â Â Â Â Â "None" is incompatible with protocol "PathLike[bytes]"
    ... (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:331:33 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:333:33 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:336:34 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:358:31 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace.py:442:35 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py:80:46 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py:92:52 - error: Expression of type "None" cannot be assigned to parameter of type "Path"
  Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py:211:37 - error: Argument of type "Path | None" cannot be assigned to parameter "relative_to" of type "Path" in function "expand_path"
  Â Â Type "Path | None" is not assignable to type "Path"
  Â Â Â Â "None" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py:292:42 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_config.py:292:64 - error: Expression of type "None" cannot be assigned to parameter of type "str"
  Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/src/agentforge/core/workspace_types.py
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_types.py:85:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/src/agentforge/core/workspace_types.py:87:13 - error: Argument of type "list[str]" cannot be assigned to parameter "value" of type "str" in function "__setitem__"
  Â Â "list[str]" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/integration/context/test_context_v2_integration.py
  /Users/sean/source/tools/agentforge/tests/integration/context/test_context_v2_integration.py:238:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/integration/context/test_context_v2_integration.py:239:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/integration/context/test_context_v2_integration.py:240:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/integration/context/test_context_v2_integration.py:399:61 - error: "create_executor_v2" is unknown import symbol (reportAttributeAccessIssue)
/Users/sean/source/tools/agentforge/tests/integration/harness/test_harness_workflow.py
  /Users/sean/source/tools/agentforge/tests/integration/harness/test_harness_workflow.py:550:40 - error: "current_phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/integration/harness/test_harness_workflow.py:553:40 - error: "current_phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/integration/harness/test_harness_workflow.py:557:40 - error: "state" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/integration/harness/test_harness_workflow.py:560:43 - error: "history" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/integration/pipeline/stages/conftest.py
  /Users/sean/source/tools/agentforge/tests/integration/pipeline/stages/conftest.py:76:80 - error: Expression of type "None" cannot be assigned to parameter of type "list[Unknown]"
  Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/integration/pipeline/stages/test_design_pipeline.py
  /Users/sean/source/tools/agentforge/tests/integration/pipeline/stages/test_design_pipeline.py:155:56 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/integration/pipeline/test_pipeline_execution.py
  /Users/sean/source/tools/agentforge/tests/integration/pipeline/test_pipeline_execution.py:261:16 - error: Operator "in" not supported for types "Literal['Clarify failed']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Clarify failed']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/integration/pipeline/test_pipeline_execution.py:280:66 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:50:27 - error: "parent_thread_id" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:51:27 - error: "name" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:80:25 - error: "parallel_group_id" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:81:25 - error: "parent_thread_id" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:102:21 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:103:21 - error: "outcome" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:141:16 - error: Operator "in" not supported for types "Literal['binary search']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['binary search']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:174:23 - error: "tool_calls" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:192:19 - error: "human_prompt" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_audit_manager.py:193:19 - error: "human_response" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_context_frame.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_context_frame.py:171:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_context_frame.py:259:40 - error: "is_valid" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_context_frame.py:260:72 - error: "validation" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_conversation_archive.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_conversation_archive.py:272:16 - error: Operator "in" not supported for types "Literal['read_file']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['read_file']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:68:40 - error: "is_valid" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:69:73 - error: "validation" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:90:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:104:36 - error: "data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:105:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:105:38 - error: "artifact_data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:118:36 - error: "data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:119:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_frame_logger.py:119:38 - error: "artifact_data" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_integrity_chain.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_integrity_chain.py:146:16 - error: Operator "in" not supported for types "Literal['Content hash mismatch']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Content hash mismatch']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_integrity_chain.py:165:16 - error: Operator "in" not supported for types "Literal['Chain broken']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Chain broken']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:66:46 - error: "child_thread_ids" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:201:23 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:202:23 - error: "outcome" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:203:23 - error: "transaction_count" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:204:23 - error: "total_tokens" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:205:23 - error: "completed_at" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:221:23 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/audit/test_thread_correlator.py:222:23 - error: "error" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/context/test_agent_config.py
  /Users/sean/source/tools/agentforge/tests/unit/context/test_agent_config.py:233:16 - error: Operator "in" not supported for types "Literal['Global instructions']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Global instructions']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_agent_config.py:267:31 - error: "name" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_agent_config.py:398:16 - error: Operator "in" not supported for types "Literal['database operations']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['database operations']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_agent_config.py:399:16 - error: Operator "in" not supported for types "Literal['null values']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['null values']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:367:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:370:16 - error: Operator "in" not supported for types "Literal['è€ƒãˆä¸­']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['è€ƒãˆä¸­']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:383:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:384:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:403:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/context/test_audit.py:404:20 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
/Users/sean/source/tools/agentforge/tests/unit/context/test_templates.py
  /Users/sean/source/tools/agentforge/tests/unit/context/test_templates.py:399:24 - error: "name" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/contracts/test_reviewer.py
  /Users/sean/source/tools/agentforge/tests/unit/contracts/test_reviewer.py:147:24 - error: "decision" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/core/discovery/test_zone_detector.py
  /Users/sean/source/tools/agentforge/tests/unit/core/discovery/test_zone_detector.py:171:32 - error: "suffix" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/core/discovery/test_zone_detector.py:182:32 - error: "name" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_agent_monitor.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_agent_monitor.py:171:16 - error: Operator "in" not supported for types "Literal['repeated_action']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['repeated_action']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1151:38 - error: "get_phase_machine" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1179:31 - error: "get_phase_machine" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1212:33 - error: "get_phase_machine" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1251:24 - error: "get_phase_machine" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1255:19 - error: Argument of type "TaskState | None" cannot be assigned to parameter "state" of type "TaskState" in function "_build_phase_context"
  Â Â Type "TaskState | None" is not assignable to type "TaskState"
  Â Â Â Â "None" is not assignable to "TaskState" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1305:23 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1307:33 - error: "get_phase_machine" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1561:16 - error: Operator "in" not supported for types "Literal['TemplateContextBuilder']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['TemplateContextBuilder']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1562:16 - error: Operator "in" not supported for types "Literal['PhaseMachine']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['PhaseMachine']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1563:16 - error: Operator "in" not supported for types "Literal['Progressive Compaction']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Progressive Compaction']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1882:23 - error: "current_step" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1883:23 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1884:23 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1885:23 - error: "verification" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1886:23 - error: "error" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1887:23 - error: "context_data" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_enhanced_context.py:1888:23 - error: "context_data" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py:442:28 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py:549:24 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py:553:21 - error: "id" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py:559:46 - error: "id" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_manager.py:560:24 - error: "status" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_notifier.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_escalation_notifier.py:398:13 - warning: Expression value is unused (reportUnusedExpression)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_execution_context_store.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_execution_context_store.py:244:20 - error: Argument of type "list[ToolCall] | None" cannot be assigned to parameter "obj" of type "Sized" in function "len"
  Â Â Type "list[ToolCall] | None" is not assignable to type "Sized"
  Â Â Â Â "None" is incompatible with protocol "Sized"
  Â Â Â Â Â Â "__len__" is not present (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_execution_context_store.py:245:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_execution_context_store.py:303:32 - error: "action_type" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py:167:51 - error: Argument of type "(name: Unknown, params: Unknown, state: Unknown) -> Literal['Simple string result']" cannot be assigned to parameter "executor" of type "ActionExecutor" in function "register_action"
  Â Â Type "(name: Unknown, params: Unknown, state: Unknown) -> Literal['Simple string result']" is not assignable to type "ActionExecutor"
  Â Â Â Â Function return type "Literal['Simple string result']" is incompatible with type "dict[str, Any]"
  Â Â Â Â Â Â "Literal['Simple string result']" is not assignable to "dict[str, Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py:569:30 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py:591:30 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py:616:30 - error: "phase" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_executor_edge_cases.py:617:30 - error: "context_data" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:177:16 - error: Operator "in" not supported for types "Literal['Unknown tool']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Unknown tool']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:195:30 - error: "action_type" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:240:20 - error: Operator "in" not supported for types "Literal['Tool execution error']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Tool execution error']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:241:20 - error: Operator "in" not supported for types "Literal['Something broke']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Something broke']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:247:43 - error: Argument of type "(n: str, p: dict[str, Any]) -> Literal['raw output']" cannot be assigned to parameter "executor" of type "ToolExecutor" in function "register_tool"
  Â Â Type "(n: str, p: dict[str, Any]) -> Literal['raw output']" is not assignable to type "ToolExecutor"
  Â Â Â Â Function return type "Literal['raw output']" is incompatible with type "ToolResult"
  Â Â Â Â Â Â "Literal['raw output']" is not assignable to "ToolResult" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_llm_executor.py:289:35 - error: "action_type" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_memory_store.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_memory_store.py:423:30 - error: "value" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_monitor_domain.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_monitor_domain.py:215:38 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_monitor_domain.py:216:43 - error: "detected" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:226:42 - error: Argument of type "Literal['UNKNOWN_ACTION']" cannot be assigned to parameter "action" of type "RecoveryAction" in function "execute_action"
  Â Â "Literal['UNKNOWN_ACTION']" is not assignable to "RecoveryAction" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:229:49 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:261:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:274:16 - error: Operator "in" not supported for types "Literal['Disk full']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Disk full']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:314:49 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:354:16 - error: Operator "in" not supported for types "Literal['original_length']" and "dict[Unknown, Unknown] | None"
  Â Â Operator "in" not supported for types "Literal['original_length']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:355:16 - error: Operator "in" not supported for types "Literal['new_length']" and "dict[Unknown, Unknown] | None"
  Â Â Operator "in" not supported for types "Literal['new_length']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:356:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:356:47 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:368:22 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:385:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:402:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:403:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:404:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:415:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:433:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:434:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:435:16 - error: Operator "in" not supported for types "Literal['timestamp']" and "dict[Unknown, Unknown] | None"
  Â Â Operator "in" not supported for types "Literal['timestamp']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:436:16 - error: Operator "in" not supported for types "Literal['recommended_actions']" and "dict[Unknown, Unknown] | None"
  Â Â Operator "in" not supported for types "Literal['recommended_actions']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:451:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_recovery_executor.py:452:16 - error: Operator "in" not supported for types "Literal['health_status']" and "dict[Unknown, Unknown] | None"
  Â Â Operator "in" not supported for types "Literal['health_status']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:126:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:133:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:287:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:343:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:443:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:477:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:484:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:493:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:525:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:533:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:543:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:553:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:563:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/harness/test_selfhosting_tools.py:574:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/llm/test_interface.py
  /Users/sean/source/tools/agentforge/tests/unit/llm/test_interface.py:216:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/llm/test_interface.py:217:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/conftest.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/conftest.py:86:31 - error: Expression of type "None" cannot be assigned to parameter of type "StageResult"
  Â Â "None" is not assignable to "StageResult" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/conftest.py:87:33 - error: Expression of type "None" cannot be assigned to parameter of type "list[Unknown]"
  Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/conftest.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/conftest.py:22:30 - error: Expression of type "None" cannot be assigned to parameter of type "list[Unknown]"
  Â Â "None" is not assignable to "list[Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/conftest.py:23:32 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/conftest.py:156:33 - error: Expression of type "None" cannot be assigned to parameter of type "dict[Unknown, Unknown]"
  Â Â "None" is not assignable to "dict[Unknown, Unknown]" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_clarify.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_clarify.py:66:52 - error: "get" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_deliver.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_deliver.py:235:42 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_refactor.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_refactor.py:249:40 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/stages/test_refactor.py:275:44 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_controller.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_controller.py:261:16 - error: Operator "in" not supported for types "Literal['User cancelled']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['User cancelled']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_controller.py:294:66 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_controller.py:363:16 - error: Operator "in" not supported for types "Literal['required_artifact']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['required_artifact']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:165:44 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "extract_context_from_profile"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:183:44 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "extract_context_from_profile"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:201:44 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "extract_context_from_profile"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:217:44 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "extract_context_from_profile"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:227:44 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "extract_context_from_profile"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:304:54 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "create_pipeline_context_from_discovery"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_discovery_integration.py:319:54 - error: Argument of type "MockCodebaseProfile" cannot be assigned to parameter "profile" of type "CodebaseProfile" in function "create_pipeline_context_from_discovery"
  Â Â "MockCodebaseProfile" is not assignable to "CodebaseProfile" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:24:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:24:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:64:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:64:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:103:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:103:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:128:40 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:128:78 - error: "lower" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:135:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:135:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:167:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:167:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:194:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:194:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:216:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:216:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:245:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:245:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:273:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:273:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:312:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:312:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:350:13 - error: "stage_name" incorrectly overrides property of same name in class "StageExecutor" (reportIncompatibleMethodOverride)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_llm_stage_executor.py:350:26 - error: Type "Literal['test']" is not assignable to declared type "property"
  Â Â "Literal['test']" is not assignable to "property" (reportAssignmentType)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_stage_executor.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_stage_executor.py:87:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_stage_executor.py:88:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_stage_executor.py:89:16 - error: Object of type "None" is not subscriptable (reportOptionalSubscript)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_machine_properties.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_machine_properties.py:74:18 - error: Argument of type "Unknown | str | None" cannot be assigned to parameter "template" of type "str" in function "create_pipeline_state"
  Â Â Type "Unknown | str | None" is not assignable to type "str"
  Â Â Â Â "None" is not assignable to "str" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_machine_properties.py:207:16 - error: Operator "<=" not supported for types "datetime | None" and "datetime | None"
  Â Â Operator "<=" not supported for types "datetime" and "None"
  Â Â Operator "<=" not supported for types "None" and "datetime"
  Â Â Operator "<=" not supported for types "None" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_machine_properties.py:219:16 - error: Operator "<=" not supported for types "datetime | None" and "datetime | None"
  Â Â Operator "<=" not supported for types "datetime" and "None"
  Â Â Operator "<=" not supported for types "None" and "datetime"
  Â Â Operator "<=" not supported for types "None" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_store.py
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_store.py:205:20 - error: "loaded" is possibly unbound (reportPossiblyUnboundVariable)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_store.py:206:21 - error: "loaded" is possibly unbound (reportPossiblyUnboundVariable)
  /Users/sean/source/tools/agentforge/tests/unit/pipeline/test_state_store.py:207:32 - error: "loaded" is possibly unbound (reportPossiblyUnboundVariable)
/Users/sean/source/tools/agentforge/tests/unit/tools/bridge/test_profile_loader.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/bridge/test_profile_loader.py:67:36 - error: "startswith" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/tools/cicd/test_outputs.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/cicd/test_outputs.py:214:16 - error: Operator "in" not supported for types "Literal['File:']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['File:']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/cicd/test_outputs.py:215:16 - error: Operator "in" not supported for types "Literal['Line:']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Line:']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/cicd/test_outputs.py:216:16 - error: Operator "in" not supported for types "Literal['Severity:']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Severity:']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:157:19 - error: Cannot assign to attribute "prompt_tokens" for class "TokenUsage"
  Â Â Attribute "prompt_tokens" is read-only (reportAttributeAccessIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:169:35 - error: Argument of type "Literal['src/test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['src/test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:178:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:182:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:187:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:193:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:197:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:201:35 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:206:18 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:215:18 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:297:39 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:328:36 - error: Argument of type "Literal['a.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['a.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:329:36 - error: Argument of type "Literal['b.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['b.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:346:37 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_domain.py:364:39 - error: Argument of type "Literal['test.py']" cannot be assigned to parameter "path" of type "Path" in function "__init__"
  Â Â "Literal['test.py']" is not assignable to "Path" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_engine.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_engine.py:158:16 - error: Operator "in" not supported for types "Literal['API error']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['API error']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_engine.py:159:16 - error: Operator "in" not supported for types "Literal['Rate limited']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Rate limited']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_engine.py:174:16 - error: Operator "in" not supported for types "Literal['Parse error']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Parse error']" and "None" (reportOperatorIssue)
  /Users/sean/source/tools/agentforge/tests/unit/tools/generate/test_engine.py:188:16 - error: Operator "in" not supported for types "Literal['Write error']" and "str | None"
  Â Â Operator "in" not supported for types "Literal['Write error']" and "None" (reportOperatorIssue)
/Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_orchestrator.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_orchestrator.py:165:43 - error: "session_id" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_session.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_session.py:149:23 - error: "components" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_session.py:150:23 - error: "components" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_session.py:151:23 - error: "components" is not a known attribute of "None" (reportOptionalMemberAccess)
  /Users/sean/source/tools/agentforge/tests/unit/tools/tdflow/test_session.py:152:23 - error: "components" is not a known attribute of "None" (reportOptionalMemberAccess)
/Users/sean/source/tools/agentforge/tests/unit/tools/test_context_assembler.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_context_assembler.py:403:43 - error: Argument of type "None" cannot be assigned to parameter "vector_results" of type "list[Any]" in function "_process_vector_results"
  Â Â "None" is not assignable to "list[Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_context_assembler.py:431:40 - error: Argument of type "None" cannot be assigned to parameter "lsp_symbols" of type "list[Any]" in function "_process_lsp_symbols"
  Â Â "None" is not assignable to "list[Any]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_context_assembler.py:462:45 - error: Argument of type "None" cannot be assigned to parameter "entry_points" of type "list[str]" in function "_apply_entry_point_boosts"
  Â Â "None" is not assignable to "list[str]" (reportArgumentType)
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_context_assembler.py:526:20 - error: Argument of type "str | None" cannot be assigned to parameter "obj" of type "Sized" in function "len"
  Â Â Type "str | None" is not assignable to type "Sized"
  Â Â Â Â "None" is incompatible with protocol "Sized"
  Â Â Â Â Â Â "__len__" is not present (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/tools/test_context_retrieval.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_context_retrieval.py:334:45 - error: Argument of type "None" cannot be assigned to parameter "file_path" of type "str" in function "get_file_context"
  Â Â "None" is not assignable to "str" (reportArgumentType)
/Users/sean/source/tools/agentforge/tests/unit/tools/test_verification_runner.py
  /Users/sean/source/tools/agentforge/tests/unit/tools/test_verification_runner.py:120:47 - error: Argument of type "None" cannot be assigned to parameter "text" of type "str" in function "_substitute_variables"
  Â Â "None" is not assignable to "str" (reportArgumentType)
815 errors, 15 warnings, 0 informations

  - ğŸ’¡ *Fix type errors reported by pyright*
- ğŸ”´ **mypy-strict** at `file`
  - Command not found: mypy
- ğŸ”µ **require-py-typed** at `file`
  - Required file not found: 'src/**/py.typed'
  - ğŸ’¡ *Create an empty py.typed file in your package root*
- ğŸ”µ **require-type-stubs-or-annotations** at `file`
  - Required file not found: '**/*.pyi'
  - ğŸ’¡ *Add inline type annotations or create .pyi stub files*
- ğŸŸ¡ **bandit-strict** at `file`
  - Command failed with exit code 1: [main]	INFO	profile include tests: None
[main]	INFO	profile exclude tests: None
[main]	INFO	cli include tests: None
[main]	INFO	cli exclude tests: None

  - ğŸ’¡ *Review and fix all bandit warnings*
- ğŸ”´ **safety-check** at `file`
  - Command not found: safety
- ğŸ”´ **pip-audit** at `file`
  - Command not found: pip-audit
- ğŸŸ¡ **pytest-coverage** at `file`
  - Command failed with exit code 1: ........................................ss.............................. [  2%]
........................................................................ [  4%]
........................................................................ [  6%]
........................................................................ [  9%]
........................................................................ [ 11%]
........................................................................ [ 13%]
........................................................................ [ 15%]
........................................................................ [ 18%]
........................................................................ [ 20%]
........................................................................ [ 22%]
........................................................................ [ 25%]
........................................................sss............. [ 27%]
........................................................................ [ 29%]
........................................................................ [ 31%]
........................................................................ [ 34%]
........................................................................ [ 36%]
........................................................................ [ 38%]
........................................................................ [ 41%]
........................................................................ [ 43%]
........................................................................ [ 45%]
........................................................................ [ 47%]
........................................................................ [ 50%]
........................................................................ [ 52%]
........................................................................ [ 54%]
........................................................................ [ 57%]
........................................................................ [ 59%]
........................................................................ [ 61%]
........................................................................ [ 63%]
........................................................................ [ 66%]
........................................................................ [ 68%]
........................................................................ [ 70%]
........................................................................ [ 73%]
........................................................................ [ 75%]
........................................................................ [ 77%]
........................................................................ [ 79%]
........................................................................ [ 82%]
........................................................................ [ 84%]
........................................................................ [ 86%]
........................................................................ [ 89%]
........................................................................ [ 91%]
........................................................................ [ 93%]
........................................................................ [ 95%]
........................................................................ [ 98%]
.......................................................
ERROR: Coverage failure: total of 52 is less than fail-under=80
                                                                         [100%]
================================ tests coverage ================================
______________ coverage: platform darwin, python 3.11.14-final-0 _______________

Name                                                                             Stmts   Miss Branch BrPart  Cover
------------------------------------------------------------------------------------------------------------------
src/agentforge/__init__.py                                                           4      0      0      0   100%
src/agentforge/__main__.py                                                           1      1      0      0     0%
src/agentforge/cli/__init__.py                                                       0      0      0      0   100%
src/agentforge/cli/click_commands/__init__.py                                        9      0      0      0   100%
src/agentforge/cli/click_commands/agent.py                                          92     29      0      0    68%
src/agentforge/cli/click_commands/bridge.py                                         45     11      0      0    76%
src/agentforge/cli/click_commands/ci.py                                             77     35      0      0    55%
src/agentforge/cli/click_commands/config.py                                         39     17      0      0    56%
src/agentforge/cli/click_commands/conformance.py                                    97     45      0      0    54%
src/agentforge/cli/click_commands/contracts.py                                     185    107     24      0    37%
src/agentforge/cli/click_commands/discover.py                                       29     13      0      0    55%
src/agentforge/cli/click_commands/generate.py                                      155    128     46      0    13%
src/agentforge/cli/click_commands/pipeline.py                                      289     27     66      7    90%
src/agentforge/cli/click_commands/spec.py                                          110     57      0      0    48%
src/agentforge/cli/click_commands/tdflow.py                                         54     27      2      0    48%
src/agentforge/cli/click_commands/utility.py                                        62     31      0      0    50%
src/agentforge/cli/click_commands/workspace.py                                     110     56      0      0    49%
src/agentforge/cli/commands/__init__.py                                              0      0      0      0   100%
src/agentforge/cli/commands/agent.py                                               374    374    138      0     0%
src/agentforge/cli/commands/bridge.py                                              136    136     50      0     0%
src/agentforge/cli/commands/ci.py                                                  184    184     56      0     0%
src/agentforge/cli/commands/config.py                                              133    133     46      0     0%
src/agentforge/cli/commands/conformance.py                                         201    201     64      0     0%
src/agentforge/cli/commands/conformance_formatters.py                               78     78     22      0     0%
src/agentforge/cli/commands/context.py                                             107    107     28      0     0%
src/agentforge/cli/commands/contracts.py                                             8      8      0      0     0%
src/agentforge/cli/commands/discover.py                                            238    238    110      0     0%
src/agentforge/cli/commands/revision.py                                            261    261     88      0     0%
src/agentforge/cli/commands/revision_apply.py                                      118    118     28      0     0%
src/agentforge/cli/commands/spec.py                                                307    307     62      0     0%
src/agentforge/cli/commands/spec_adapt.py                                          189    138     48      1    26%
src/agentforge/cli/commands/tdflow.py                                              172    172     50      0     0%
src/agentforge/cli/commands/verify.py                                              124    124     34      0     0%
src/agentforge/cli/commands/workspace.py                                           317    317     80      0     0%
src/agentforge/cli/core.py                                                         189    163     74      0    10%
src/agentforge/cli/helpers.py                                                       48     48     18      0     0%
src/agentforge/cli/main.py                                                          95     32      4      0    64%
src/agentforge/cli/parser.py                                                       240    240      0      0     0%
src/agentforge/cli/render.py                                                       283    283    102      0     0%
src/agentforge/core/__init__.py                                                      0      0      0      0   100%
src/agentforge/core/analyze_structure.py                                           161    161     40      0     0%
src/agentforge/core/audit/__init__.py                                                8      0      0      0   100%
src/agentforge/core/audit/audit_manager.py                                         129      5     30      6    92%
src/agentforge/core/audit/context_frame.py                                         240     21     66      7    90%
src/agentforge/core/audit/conversation_archive.py                                  177     14     44      5    90%
src/agentforge/core/audit/frame_logger.py                                          172     16     44      9    87%
src/agentforge/core/audit/integrity_chain.py                                       117      6     40      7    92%
src/agentforge/core/audit/thread_correlator.py                                     236      7     82     17    92%
src/agentforge/core/audit/transaction_logger.py                                    188      7     56      7    94%
src/agentforge/core/bridge/__init__.py                                               7      0      0      0   100%
src/agentforge/core/bridge/conflict_resolver.py                                     98     83     50      0    10%
src/agentforge/core/bridge/contract_builder.py                                      75      6     20      1    93%
src/agentforge/core/bridge/domain.py                                               230     18     40     14    87%
src/agentforge/core/bridge/mappings/__init__.py                                      4      0      0      0   100%
src/agentforge/core/bridge/mappings/architecture.py                                 67     31     20      3    45%
src/agentforge/core/bridge/mappings/base.py                                         41      5     14      5    82%
src/agentforge/core/bridge/mappings/conventions.py                                 117     49     36      4    48%
src/agentforge/core/bridge/mappings/cqrs.py                                         37     18     10      0    40%
src/agentforge/core/bridge/mappings/registry.py                                     47      7      8      0    87%
src/agentforge/core/bridge/mappings/repository.py                                   29     10      4      0    58%
src/agentforge/core/bridge/orchestrator.py                                         139    122     68      0     8%
src/agentforge/core/bridge/profile_loader.py                                       145     64     58     11    51%
src/agentforge/core/builtin_checks.py                                              247    223    108      0     7%
src/agentforge/core/builtin_checks_architecture.py                                 160      5     82      4    96%
src/agentforge/core/builtin_checks_architecture_helpers.py                          75     19     32      5    70%
src/agentforge/core/cicd/__init__.py                                                 4      0      0      0   100%
src/agentforge/core/cicd/baseline.py                                               119     10     18      1    92%
src/agentforge/core/cicd/domain.py                                                 241      7     40      9    94%
src/agentforge/core/cicd/outputs/__init__.py                                         4      0      0      0   100%
src/agentforge/core/cicd/outputs/junit.py                                           59      1     14      2    96%
src/agentforge/core/cicd/outputs/markdown.py                                       111     12     60     15    83%
src/agentforge/core/cicd/outputs/sarif.py                                           35      0      8      2    95%
src/agentforge/core/cicd/platforms/__init__.py                                       3      3      0      0     0%
src/agentforge/core/cicd/platforms/azure.py                                          3      3      0      0     0%
src/agentforge/core/cicd/platforms/github.py                                         5      5      2      0     0%
src/agentforge/core/cicd/runner.py                                                 227     85     86     10    59%
src/agentforge/core/code_chunker.py                                                 84     70     42      0    11%
src/agentforge/core/command_runner.py                                               40      5      2      0    88%
src/agentforge/core/conformance/__init__.py                                          2      0      0      0   100%
src/agentforge/core/conformance/domain.py                                          248     44     74     15    75%
src/agentforge/core/conformance/history_store.py                                    79     25     24      3    65%
src/agentforge/core/conformance/manager.py                                         157     14     60      8    88%
src/agentforge/core/conformance/stores.py                                          233     52     88     18    73%
src/agentforge/core/context/__init__.py                                              6      0      0      0   100%
src/agentforge/core/context/agent_config.py                                        137     11     44      4    92%
src/agentforge/core/context/audit.py                                                92      6     26      4    92%
src/agentforge/core/context/compaction.py                                          175     26     58     10    83%
src/agentforge/core/context/fingerprint.py                                         225     23    118     19    87%
src/agentforge/core/context/templates/__init__.py                                   25      2      4      1    90%
src/agentforge/core/context/templates/base.py                                       83     14     34      9    80%
src/agentforge/core/context/templates/bridge.py                                     16      0      0      0   100%
src/agentforge/core/context/templates/code_review.py                                16      0      0      0   100%
src/agentforge/core/context/templates/discovery.py                                  16      0      0      0   100%
src/agentforge/core/context/templates/fix_violation.py                              14      0      0      0   100%
src/agentforge/core/context/templates/implement_feature.py                          14      0      0      0   100%
src/agentforge/core/context/templates/models.py                                     32      0      4      0   100%
src/agentforge/core/context/templates/refactor.py                                   14      0      0      0   100%
src/agentforge/core/context/templates/write_tests.py                                14      0      0      0   100%
src/agentforge/core/context_assembler.py                                           183     40     74      9    76%
src/agentforge/core/context_assembler_types.py                                      87     12     18      3    82%
src/agentforge/core/context_patterns.py                                             34      6     14      4    79%
src/agentforge/core/context_retrieval.py                                           178     75     44      8    55%
src/agentforge/core/context_retrieval_cli.py                                        97     97     30      0     0%
src/agentforge/core/contract_runner.py                                              86      2     12      0    98%
src/agentforge/core/contract_validator.py                                          134    116     44      0    10%
src/agentforge/core/contract_validator_types.py                                     37      8      8      1    67%
src/agentforge/core/contracts.py                                                    40     40     14      0     0%
src/agentforge/core/contracts/__init__.py                                            7      0      0      0   100%
src/agentforge/core/contracts/cli.py                                               232    108     80      7    52%
src/agentforge/core/contracts/draft.py                                             157      4      8      0    98%
src/agentforge/core/contracts/drafter.py                                           141      3     52     10    93%
src/agentforge/core/contracts/enforcer.py                                          215     28     94     12    83%
src/agentforge/core/contracts/evolution.py                                         116      7     32      7    88%
src/agentforge/core/contracts/operations/__init__.py                                 3      0      0      0   100%
src/agentforge/core/contracts/operations/loader.py                                 130      3     34      3    96%
src/agentforge/core/contracts/operations/verifier.py                               190    120     68      2    28%
src/agentforge/core/contracts/registry.py                                          109      4     42      9    91%
src/agentforge/core/contracts/reviewer.py                                          162     17     74     14    83%
src/agentforge/core/contracts_ast.py                                               105     92     58      0     8%
src/agentforge/core/contracts_execution.py                                         351    198    134      7    41%
src/agentforge/core/contracts_lsp.py                                               111     95     48      0    10%
src/agentforge/core/contracts_registry.py                                          165    118     84      6    22%
src/agentforge/core/contracts_types.py                                             110     44     28      0    48%
src/agentforge/core/discovery/__init__.py                                            3      0      0      0   100%
src/agentforge/core/discovery/analyzers/__init__.py                                  4      0      0      0   100%
src/agentforge/core/discovery/analyzers/interactions.py                            156    137     70      0     8%
src/agentforge/core/discovery/analyzers/patterns.py                                187    156    124      0    10%
src/agentforge/core/discovery/analyzers/structure.py                               271    230    114      0    11%
src/agentforge/core/discovery/analyzers/test_linkage.py                            129    110     76      0     9%
src/agentforge/core/discovery/domain.py                                            262      6     32      2    97%
src/agentforge/core/discovery/generators/__init__.py                                 4      0      0      0   100%
src/agentforge/core/discovery/generators/as_built_spec.py                          174    126     68      0    20%
src/agentforge/core/discovery/generators/lineage_embedder.py                       135    103     56      0    17%
src/agentforge/core/discovery/generators/profile.py                                 66     45     14      0    26%
src/agentforge/core/discovery/manager.py                                           402    320    142      0    15%
src/agentforge/core/discovery/providers/__init__.py                                 11      6      0      0    45%
src/agentforge/core/discovery/providers/base.py                                     83     27     10      0    60%
src/agentforge/core/discovery/providers/dotnet_provider.py                         282    252    126      0     7%
src/agentforge/core/discovery/providers/python_provider.py                         547    472    242      0    10%
src/agentforge/core/discovery/zones/__init__.py                                      3      0      0      0   100%
src/agentforge/core/discovery/zones/detector.py                                     47      0     20      1    99%
src/agentforge/core/discovery/zones/merger.py                                       52     41     24      0    14%
src/agentforge/core/embedding_providers.py                                         152     81     34      4    42%
src/agentforge/core/generate/__init__.py                                            21     19     12      0     6%
src/agentforge/core/generate/domain.py                                             138      2      8      1    98%
src/agentforge/core/generate/engine.py                                              83      3      4      0    97%
src/agentforge/core/generate/parser.py                                              78      3     26      4    93%
src/agentforge/core/generate/prompt_builder.py                                     110      5     46      8    90%
src/agentforge/core/generate/provider.py                                           122     12     22      2    90%
src/agentforge/core/generate/writer.py                                             135      7     40      6    91%
src/agentforge/core/harness/__init__.py                                             34      0      0      0   100%
src/agentforge/core/harness/action_parser.py                                        91     13     36      2    85%
src/agentforge/core/harness/agent_monitor.py                                       212     25    104     17    85%
src/agentforge/core/harness/agent_orchestrator.py                                  212     36     72     20    76%
src/agentforge/core/harness/agent_prompt_builder.py                                 64      1     28      3    96%
src/agentforge/core/harness/auto_fix_daemon.py                                     165    120     44      0    22%
src/agentforge/core/harness/checkpoint_manager.py                                  102      8     44      7    90%
src/agentforge/core/harness/conformance_tools.py                                   145     71     66      9    45%
src/agentforge/core/harness/escalation_domain.py                                    55      0      0      0   100%
src/agentforge/core/harness/escalation_manager.py                                   98      2     24      3    96%
src/agentforge/core/harness/escalation_notifier.py                                  98     15     36      5    82%
src/agentforge/core/harness/execution_context_store.py                              90      4     32      8    90%
src/agentforge/core/harness/fix_violation_workflow.py                              144    100     56      0    22%
src/agentforge/core/harness/git_tools.py                                           107     26     40     14    73%
src/agentforge/core/harness/llm_executor.py                                        112     20     32      3    81%
src/agentforge/core/harness/llm_executor_domain.py                                 195      5     18      3    96%
src/agentforge/core/harness/memory_domain.py                                        38      0      8      0   100%
src/agentforge/core/harness/memory_manager.py                                       73      0     34      3    97%
src/agentforge/core/harness/memory_store.py                                         71      0     22      0   100%
src/agentforge/core/harness/minimal_context/__init__.py                             12      0      0      0   100%
src/agentforge/core/harness/minimal_context/adaptive_budget.py                     110     25     52      3    74%
src/agentforge/core/harness/minimal_context/context_models.py                      158     10     24      4    90%
src/agentforge/core/harness/minimal_context/executor.py                            391    156    164     20    55%
src/agentforge/core/harness/minimal_context/fix_workflow.py                        619    530    264      0    12%
src/agentforge/core/harness/minimal_context/loop_detector.py                       177     47     90     18    67%
src/agentforge/core/harness/minimal_context/native_tool_executor.py                 65      4     12      0    95%
src/agentforge/core/harness/minimal_context/phase_machine.py                       154     24     40      8    78%
src/agentforge/core/harness/minimal_context/state_store.py                         206     55     42      7    67%
src/agentforge/core/harness/minimal_context/step_outcome.py                         24      2      2      0    92%
src/agentforge/core/harness/minimal_context/template_context_builder.py            175     25     72     16    79%
src/agentforge/core/harness/minimal_context/tool_handlers/__init__.py               44      0      0      0   100%
src/agentforge/core/harness/minimal_context/tool_handlers/constants.py              16      0      0      0   100%
src/agentforge/core/harness/minimal_context/tool_handlers/file_handlers.py         185     32     66     17    80%
src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py       183     52     76      8    73%
src/agentforge/core/harness/minimal_context/tool_handlers/terminal_handlers.py     147     24     36      3    85%
src/agentforge/core/harness/minimal_context/tool_handlers/types.py                  46      8      6      1    83%
src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py       186     87     48      4    51%
src/agentforge/core/harness/minimal_context/understanding.py                       147     34     50     10    72%
src/agentforge/core/harness/minimal_context/working_memory.py                      155     31     36      2    76%
src/agentforge/core/harness/monitor_domain.py                                       52      0      4      0   100%
src/agentforge/core/harness/orchestrator_domain.py                                  43      0      0      0   100%
src/agentforge/core/harness/python_tools.py                                        107     83     38      2    18%
src/agentforge/core/harness/recovery_domain.py                                      40      0      0      0   100%
src/agentforge/core/harness/recovery_executor.py                                   118     18     44      7    85%
src/agentforge/core/harness/refactoring_tools.py                                    96     82     36      0    11%
src/agentforge/core/harness/rollback_manager.py                                    139    109     36      0    17%
src/agentforge/core/harness/session_domain.py                                       72      2      4      2    95%
src/agentforge/core/harness/session_manager.py                                     109      1     20      3    97%
src/agentforge/core/harness/session_store.py                                        70      5     16      1    91%
src/agentforge/core/harness/test_runner_tools.py                                    73     17     26      9    74%
src/agentforge/core/harness/tool_domain.py                                          39      2      2      0    95%
src/agentforge/core/harness/tool_executor_bridge.py                                150     47     48      5    70%
src/agentforge/core/harness/tool_registry.py                                        56      4     16      3    88%
src/agentforge/core/harness/tool_selector.py                                        66      6     36      9    85%
src/agentforge/core/harness/violation_tools.py                                     105     15     34      8    82%
src/agentforge/core/init.py                                                         54     44     20      0    14%
src/agentforge/core/lineage/__init__.py                                              2      0      0      0   100%
src/agentforge/core/lineage/metadata.py                                             64      2     22      0    98%
src/agentforge/core/llm/__init__.py                                                  5      0      0      0   100%
src/agentforge/core/llm/client.py                                                   60     42     20      0    22%
src/agentforge/core/llm/factory.py                                                  88      3     26      2    96%
src/agentforge/core/llm/interface.py                                                83     21     12      0    67%
src/agentforge/core/llm/recording.py                                                50     34      8      0    28%
src/agentforge/core/llm/simulated.py                                               113      5     18      2    95%
src/agentforge/core/llm/tools.py                                                    52      0      6      0   100%
src/agentforge/core/lsp_adapter.py                                                 187    159     66      0    11%
src/agentforge/core/lsp_adapter_cli.py                                              80     80     18      0     0%
src/agentforge/core/lsp_adapters.py                                                 76     36     18      0    43%
src/agentforge/core/lsp_client.py                                                  132    101     28      0    19%
src/agentforge/core/lsp_types.py                                                    70      8      2      0    86%
src/agentforge/core/output_validator.py                                            118     87     40      2    21%
src/agentforge/core/pipeline/__init__.py                                            15      0      0      0   100%
src/agentforge/core/pipeline/artifacts.py                                           86      0      0      0   100%
src/agentforge/core/pipeline/config.py                                             123      0     20      0   100%
src/agentforge/core/pipeline/config_validator.py                                    33      0     16      0   100%
src/agentforge/core/pipeline/controller.py                                         301     57    118     28    75%
src/agentforge/core/pipeline/discovery_integration.py                              132     21     72      9    78%
src/agentforge/core/pipeline/escalation.py                                         131     16     26      1    87%
src/agentforge/core/pipeline/llm_stage_executor.py                                 106     33     24      1    66%
src/agentforge/core/pipeline/registry.py                                            57      3     10      1    94%
src/agentforge/core/pipeline/schemas.py                                             36      8      0      0    78%
src/agentforge/core/pipeline/stage_executor.py                                      71      1      6      1    97%
src/agentforge/core/pipeline/stages/__init__.py                                     21      2      0      0    90%
src/agentforge/core/pipeline/stages/analyze.py                                      57      3     16      6    88%
src/agentforge/core/pipeline/stages/clarify.py                                      78      5     18      3    92%
src/agentforge/core/pipeline/stages/deliver.py                                     167     16     44      8    89%
src/agentforge/core/pipeline/stages/green.py                                       231     70     78     16    67%
src/agentforge/core/pipeline/stages/intake.py                                       70     12     28      8    78%
src/agentforge/core/pipeline/stages/red.py                                         159     11     52      9    91%
src/agentforge/core/pipeline/stages/refactor.py                                    118     25     24      5    77%
src/agentforge/core/pipeline/stages/spec.py                                         89     19     28      7    76%
src/agentforge/core/pipeline/state.py                                              107      3     16      2    96%
src/agentforge/core/pipeline/state_store.py                                        260     91     68      5    59%
src/agentforge/core/pipeline/types.py                                               14      0      0      0   100%
src/agentforge/core/pipeline/validator.py                                           96      3     50      4    95%
src/agentforge/core/pyright_runner.py                                               64     10      8      2    81%
src/agentforge/core/refactoring/__init__.py                                          4      0      0      0   100%
src/agentforge/core/refactoring/base.py                                             38      6      0      0    84%
src/agentforge/core/refactoring/registry.py                                         13      7      2      0    40%
src/agentforge/core/refactoring/rope_provider.py                                    90     75     32      0    12%
src/agentforge/core/spec/__init__.py                                                 2      0      0      0   100%
src/agentforge/core/spec/placement.py                                              147     18     56     12    85%
src/agentforge/core/tdflow/__init__.py                                               4      0      0      0   100%
src/agentforge/core/tdflow/domain.py                                               126      2     12      3    96%
src/agentforge/core/tdflow/orchestrator.py                                         126     54     46      8    53%
src/agentforge/core/tdflow/phases/__init__.py                                        5      0      0      0   100%
src/agentforge/core/tdflow/phases/green.py                                         151    133     58      0     9%
src/agentforge/core/tdflow/phases/red.py                                           135    113     44      0    12%
src/agentforge/core/tdflow/phases/refactor.py                                       58     48     18      0    13%
src/agentforge/core/tdflow/phases/verify.py                                         83     67     28      0    14%
src/agentforge/core/tdflow/runners/__init__.py                                       4      0      0      0   100%
src/agentforge/core/tdflow/runners/base.py                                          42      6     12      2    85%
src/agentforge/core/tdflow/runners/dotnet.py                                        92     63     30      1    31%
src/agentforge/core/tdflow/runners/pytest_runner.py                                 78     41     24      1    45%
src/agentforge/core/tdflow/session.py                                               71      0     12      0   100%
src/agentforge/core/validate_schema.py                                              60     60     16      0     0%
src/agentforge/core/vector_search.py                                               245    187     58      2    20%
src/agentforge/core/vector_types.py                                                 40      9      2      0    74%
src/agentforge/core/verification_ast.py                                             77     25     50      6    63%
src/agentforge/core/verification_checks.py                                         222     34     44      6    84%
src/agentforge/core/verification_contracts_check.py                                 25      9     12      0    65%
src/agentforge/core/verification_reports.py                                         48      3     18      1    94%
src/agentforge/core/verification_runner.py                                         161     40     42      2    75%
src/agentforge/core/verification_types.py                                           70      2     10      4    92%
src/agentforge/core/workspace.py                                                   270    270    104      0     0%
src/agentforge/core/workspace_config.py                                            209    209     76      0     0%
src/agentforge/core/workspace_types.py                                              79     79     16      0     0%
------------------------------------------------------------------------------------------------------------------
TOTAL                                                                            30748  13535   9386    810    52%
FAIL Required test coverage of 80% not reached. Total coverage: 52.00%
=========================== short test summary info ============================
SKIPPED [2] tests/integration/context/test_context_v2_integration.py: need --run-real-api option to run
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:183: Requires external 'contracts' module
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:188: Requires external 'contracts' module
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:193: Requires external 'contracts' module
3146 passed, 5 skipped in 70.04s (0:01:10)

  - ğŸ’¡ *Add tests to improve code coverage to at least 80%*
- ğŸ”µ **pytest-no-warnings** at `file`
  - Command failed with exit code 1: ........................................ss.............................. [  2%]
........................................................................ [  4%]
........................................................................ [  6%]
........................................................................ [  9%]
........................................................................ [ 11%]
........................................................................ [ 13%]
........................................................................ [ 15%]
........................................................................ [ 18%]
........................................................................ [ 20%]
........................................................................ [ 22%]
........................................................................ [ 25%]
........................................................sss............. [ 27%]
........................................................................ [ 29%]
........................................................................ [ 31%]
........................................................................ [ 34%]
........................................................................ [ 36%]
........................................................................ [ 38%]
........................................................................ [ 41%]
........................................................................ [ 43%]
........................................................................ [ 45%]
........................................................................ [ 47%]
........................................................................ [ 50%]
........................................................................ [ 52%]
........................................................................ [ 54%]
........................................................................ [ 57%]
........................................................................ [ 59%]
........................................................................ [ 61%]
........................................................................ [ 63%]
........................................................................ [ 66%]
........................................................................ [ 68%]
........................................................................ [ 70%]
........................................................................ [ 73%]
........................................................................ [ 75%]
........................................................................ [ 77%]
........................................................................ [ 79%]
........................................................................ [ 82%]
........................................................................ [ 84%]
........................................................................ [ 86%]
........................................................................ [ 89%]
...................................F.................................... [ 91%]
........................................................................ [ 93%]
........................................................................ [ 95%]
........................................................................ [ 98%]
.......................................................                  [100%]
=================================== FAILURES ===================================
____________ TestClaudeProvider.test_generate_retries_on_rate_limit ____________
  + Exception Group Traceback (most recent call last):
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/runner.py", line 353, in from_call
  |     result: TResult | None = func()
  |                              ^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/runner.py", line 245, in <lambda>
  |     lambda: runtest_hook(item=item, **kwds),
  |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_hooks.py", line 512, in __call__
  |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_manager.py", line 120, in _hookexec
  |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 167, in _multicall
  |     raise exception
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/logging.py", line 850, in pytest_runtest_call
  |     yield
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/capture.py", line 900, in pytest_runtest_call
  |     return (yield)
  |             ^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
  |     return result.get_result()
  |            ^^^^^^^^^^^^^^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_result.py", line 103, in get_result
  |     raise exc.with_traceback(tb)
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
  |     res = yield
  |           ^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/skipping.py", line 268, in pytest_runtest_call
  |     return (yield)
  |             ^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/pluggy/_callers.py", line 121, in _multicall
  |     res = hook_impl.function(*args)
  |           ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/unraisableexception.py", line 158, in pytest_runtest_call
  |     collect_unraisable(item.config)
  |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/unraisableexception.py", line 81, in collect_unraisable
  |     raise ExceptionGroup("multiple unraisable exception warnings", errors)
  | ExceptionGroup: multiple unraisable exception warnings (3 sub-exceptions)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.14_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py", line 2133, in _mock_set_magics
    |     setattr(_type, entry, MagicProxy(entry, self))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^
    | ResourceWarning: unclosed <socket.socket fd=13, family=1, type=1, proto=0>
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <socket.socket fd=13, family=1, type=1, proto=0>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +---------------- 2 ----------------
    | Traceback (most recent call last):
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.14_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/unittest/mock.py", line 2133, in _mock_set_magics
    |     setattr(_type, entry, MagicProxy(entry, self))
    |                           ^^^^^^^^^^^^^^^^^^^^^^^
    | ResourceWarning: unclosed <socket.socket fd=12, family=1, type=1, proto=0>
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <socket.socket fd=12, family=1, type=1, proto=0>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +---------------- 3 ----------------
    | Traceback (most recent call last):
    |   File "/opt/homebrew/Cellar/python@3.11/3.11.14_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py", line 693, in __del__
    |     _warn(f"unclosed event loop {self!r}", ResourceWarning, source=self)
    | ResourceWarning: unclosed event loop <_UnixSelectorEventLoop running=False closed=False debug=False>
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "/opt/homebrew/lib/python3.11/site-packages/_pytest/unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <function BaseEventLoop.__del__ at 0x102698c20>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +------------------------------------
=========================== short test summary info ============================
SKIPPED [2] tests/integration/context/test_context_v2_integration.py: need --run-real-api option to run
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:183: Requires external 'contracts' module
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:188: Requires external 'contracts' module
SKIPPED [1] tests/unit/core/test_verification_contracts_check.py:193: Requires external 'contracts' module
FAILED tests/unit/tools/generate/test_provider.py::TestClaudeProvider::test_generate_retries_on_rate_limit
1 failed, 3145 passed, 5 skipped in 34.52s

  - ğŸ’¡ *Fix deprecation warnings and other test warnings*
- ğŸ”´ **valid-yaml-syntax** at `file`
  - Unknown check type: None
- ğŸŸ¡ **require-csproj** at `file`
  - Required file not found: '**/*.csproj'
  - ğŸ’¡ *Create a .csproj file for the project*
- ğŸŸ¡ **require-package-json** at `file`
  - Required file not found: 'package.json'
  - ğŸ’¡ *Run 'npm init' to create package.json*
- ğŸ”´ **default-result-return-types** at `file`
  - AST check missing 'class_pattern' or 'return_pattern' in config
- ğŸŸ¡ **require-csproj** at `file`
  - Required file not found: '**/*.csproj'
  - ğŸ’¡ *Create a .csproj file for the project*
- ğŸŸ¡ **require-package-json** at `file`
  - Required file not found: 'package.json'
  - ğŸ’¡ *Run 'npm init' to create package.json*
- ğŸ”´ **valid-yaml-syntax** at `file`
  - Unknown check type: None
- ğŸ”´ **no-force-push** at `file`
  - Unknown check type: command_constraint
- ğŸ”´ **no-main-direct** at `file`
  - Unknown check type: branch_constraint
- ğŸ”´ **commit-message-format** at `file`
  - Unknown check type: message_constraint
- ğŸ”´ **no-merge-conflicts** at `file`
  - Unknown check type: state_constraint
- ğŸ”´ **clean-working-tree** at `file`
  - Unknown check type: state_constraint
- ğŸ”´ **no-rewrite-pushed** at `file`
  - Unknown check type: history_constraint
- ğŸ”´ **preserve-hooks** at `file`
  - Unknown check type: command_constraint
- ğŸ”´ **no-destructive-system** at `file`
  - Unknown check type: command_constraint
- ğŸ”´ **no-chmod-777** at `file`
  - Unknown check type: command_constraint
- ğŸ”´ **no-sudo-without-approval** at `file`
  - Unknown check type: command_constraint
- ğŸ”´ **preserve-existing-tests** at `file`
  - Unknown check type: deletion_constraint
- ğŸ”´ **no-disable-security** at `file`
  - Unknown check type: content_constraint
- ğŸ”´ **no-eval-user-input** at `file`
  - Unknown check type: code_pattern
- ğŸ”´ **backup-before-bulk** at `file`
  - Unknown check type: operation_guard
- ğŸ”´ **structured-logging** at `file`
  - Unknown check type: logging_pattern
- ğŸ”´ **log-levels** at `file`
  - Unknown check type: logging_pattern
- ğŸ”´ **log-context** at `file`
  - Unknown check type: logging_pattern
- ğŸ”´ **sensitive-data-logging** at `file`
  - Unknown check type: security_pattern
- ğŸ”´ **error-logging** at `file`
  - Unknown check type: logging_pattern
- ğŸ”´ **metrics-naming** at `file`
  - Unknown check type: metrics_pattern
- ğŸ”´ **four-golden-signals** at `file`
  - Unknown check type: metrics_pattern
- ğŸ”´ **histogram-over-average** at `file`
  - Unknown check type: metrics_pattern
- ğŸ”´ **metric-cardinality** at `file`
  - Unknown check type: metrics_pattern
- ğŸ”´ **trace-all-requests** at `file`
  - Unknown check type: tracing_pattern
- ğŸ”´ **span-naming** at `file`
  - Unknown check type: tracing_pattern
- ğŸ”´ **span-attributes** at `file`
  - Unknown check type: tracing_pattern
- ğŸ”´ **error-spans** at `file`
  - Unknown check type: tracing_pattern
- ğŸ”´ **trace-sampling** at `file`
  - Unknown check type: tracing_pattern
- ğŸ”´ **log-trace-correlation** at `file`
  - Unknown check type: observability_pattern
- ğŸ”´ **request-id-propagation** at `file`
  - Unknown check type: observability_pattern
- ğŸ”´ **actionable-alerts** at `file`
  - Unknown check type: alerting_pattern
- ğŸ”´ **slo-based-alerting** at `file`
  - Unknown check type: alerting_pattern
- ğŸ”´ **async-all-the-way** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **no-fire-and-forget** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **structured-concurrency** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **cancellation-support** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **cancellation-cleanup** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **timeout-all-io** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **timeout-configuration** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **limit-concurrency** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **avoid-locks-prefer-queues** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **async-error-propagation** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **async-context-preservation** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **parallel-independent-operations** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **batch-operations** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **async-context-managers** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **connection-pooling** at `file`
  - Unknown check type: async_pattern
- ğŸ”´ **custom-exception-hierarchy** at `file`
  - Unknown check type: exception_design
- ğŸ”´ **exception-information** at `file`
  - Unknown check type: exception_design
- ğŸ”´ **catch-specific-exceptions** at `file`
  - Unknown check type: exception_handling
- ğŸ”´ **no-swallowed-exceptions** at `file`
  - Unknown check type: exception_handling
- ğŸ”´ **exception-translation** at `file`
  - Unknown check type: exception_handling
- ğŸ”´ **result-pattern** at `file`
  - Unknown check type: error_pattern
- ğŸ”´ **result-not-exception-mixing** at `file`
  - Unknown check type: error_pattern
- ğŸ”´ **fail-fast-validation** at `file`
  - Unknown check type: validation_pattern
- ğŸ”´ **accumulate-validation-errors** at `file`
  - Unknown check type: validation_pattern
- ğŸ”´ **dont-catch-to-rethrow-same** at `file`
  - Unknown check type: exception_handling
- ğŸ”´ **preserve-stack-trace** at `file`
  - Unknown check type: exception_handling
- ğŸ”´ **cleanup-in-finally** at `file`
  - Unknown check type: resource_handling
- ğŸ”´ **resource-acquisition** at `file`
  - Unknown check type: resource_handling
- ğŸ”´ **arrange-act-assert** at `file`
  - Unknown check type: test_structure
- ğŸ”´ **one-assertion-concept** at `file`
  - Unknown check type: test_structure
- ğŸ”´ **test-class-organization** at `file`
  - Unknown check type: test_organization
- ğŸ”´ **test-isolation** at `file`
  - Unknown check type: test_quality
- ğŸ”´ **no-flaky-tests** at `file`
  - Unknown check type: test_quality
- ğŸ”´ **mock-at-boundaries** at `file`
  - Unknown check type: test_quality
- ğŸ”´ **test-pyramid** at `file`
  - Unknown check type: test_strategy
- ğŸ”´ **coverage-requirements** at `file`
  - Unknown check type: coverage
- ğŸ”´ **test-edge-cases** at `file`
  - Unknown check type: test_completeness
- ğŸ”´ **meaningful-test-data** at `file`
  - Unknown check type: test_data
- ğŸ”´ **test-builders-factories** at `file`
  - Unknown check type: test_data
- ğŸ”´ **specific-assertions** at `file`
  - Unknown check type: assertion_quality
- ğŸ”´ **assertion-messages** at `file`
  - Unknown check type: assertion_quality
- ğŸ”´ **no-assertions-in-loops** at `file`
  - Unknown check type: assertion_quality
- ğŸ”´ **http-method-semantics** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **status-code-usage** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **request-validation** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **query-parameters** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **response-envelope** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **request-body-format** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **error-response-format** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **hateoas-links** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **breaking-change-policy** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **api-versioning** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **authentication-pattern** at `file`
  - Unknown check type: security_pattern
- ğŸ”´ **authorization-response** at `file`
  - Unknown check type: security_pattern
- ğŸ”´ **openapi-documentation** at `file`
  - Unknown check type: documentation
- ğŸ”´ **rate-limiting-headers** at `file`
  - Unknown check type: api_pattern
- ğŸ”´ **api-changelog** at `file`
  - Unknown check type: documentation
- ğŸ”µ **repository-pattern** at `file`
  - Required file not found: '**/repositories/*.py'
  - ğŸ’¡ *Create repository interfaces and implementations for data access*
- ğŸ”µ **repository-pattern** at `file`
  - Required file not found: '**/interfaces/repositories.py'
  - ğŸ’¡ *Create repository interfaces and implementations for data access*
- ğŸ”´ **unit-of-work-pattern** at `file`
  - Unknown check type: architectural_pattern
- ğŸ”´ **cqrs-pattern** at `file`
  - Unknown check type: architectural_pattern
- ğŸ”´ **event-sourcing-pattern** at `file`
  - Unknown check type: architectural_pattern
- ğŸ”´ **dependency-injection-container** at `file`
  - Unknown check type: architectural_pattern
- ğŸ”´ **circuit-breaker-pattern** at `file`
  - Unknown check type: resilience_pattern
- ğŸ”´ **saga-pattern** at `file`
  - Unknown check type: architectural_pattern
- ğŸ”´ **read-before-edit** at `file`
  - Unknown check type: sequence_constraint
- ğŸ”´ **glob-for-discovery** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **grep-for-content** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **read-not-cat** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **write-not-echo** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **edit-not-sed** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-for-definitions** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-for-references** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-for-symbols** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-for-hover** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-for-diagnostics** at `file`
  - Unknown check type: tool_preference
- ğŸ”´ **lsp-availability-check** at `file`
  - Unknown check type: conditional_preference

**`PRD_v2.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L391`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`__pycache__/run_contract.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__/run_contract.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__/run_contract.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`__pycache__/run_contract_commands.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__/run_contract_commands.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: '__pycache__/run_contract_commands.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`contracts/builtin/_base.contract.yaml`** (18 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L140`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L141`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L143`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`contracts/builtin/_patterns-typescript.contract.yaml`** (18 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L180`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`contracts/generated.contract.yaml`** (1 violations)

- ğŸ”´ **contract-schema-version** at `file`
  - Required pattern not found: '^schema_version:\s*['"]?1\.0['"]?'
  - ğŸ’¡ *Add 'schema_version: "1.0"' at the top of the contract file*

**`contracts/spec.adapt.v1.yaml`** (18 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L256`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`contracts/spec.draft.v1.yaml`** (24 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L25`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L245`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L306`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/contract_system_improvements_design.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1344`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/enhanced_context_engineering.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2423`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/implementation_task_chunk_3.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1816`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/prompt_contracts.md`** (18 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1152`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1176`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/specs/NorthStar/north_star_specification.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L3597`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/specs/agent-harness/agentForge_selfhosting_Implementation.md`** (18 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2379`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2592`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2946`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/specs/agent-harness/agent_monitor_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/agent_orchestrator_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/human_escalation_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/memory_system_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/minimal_context_architecture_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/recovery_strategies_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/agent-harness/tool_selector_spec.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/design/specs/external-spec-ingestion-workflow.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L117`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/design/specs/pipeline-controller/stage-01-core-architecture.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L504`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/specs/chunk3-conformance/specification.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`docs/specs/chunk3-conformance/specification.yaml`** (8 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L2106`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`docs/specs/chunk4-brownfield-discovery/specification.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`execute.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`htmlcov/z_69bcc0164016e324_green_py.html`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L415`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L496`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`htmlcov/z_69bcc0164016e324_red_py.html`** (36 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L407`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L427`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L452`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L528`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L546`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L572`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`htmlcov/z_69bcc0164016e324_refactor_py.html`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L301`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L302`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`htmlcov/z_cb968fb816298ffb_builtin_checks_py.html`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L129`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L139`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`outputs/specification.md`** (6 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L1458`
  - xxx comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`outputs/specification.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`prompts/spec/adapt.md`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L175`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`prompts/spec/draft.md`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L279`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`run_contract.py`** (21 violations)

- ğŸŸ¡ **no-print-statements** at `L34`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L36`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L38`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L40`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L141`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L149`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L49`
  - Class 'ContractRunner' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L103`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L135`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **function-size-limit** at `L187`
  - Function '_build_parser' has 45 lines (max: 30)

**`run_contract_commands.py`** (55 violations)

- ğŸŸ¡ **no-print-statements** at `L35`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L36`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L37`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L38`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L39`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L40`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L41`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L42`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L43`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L44`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L45`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L47`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L48`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L49`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L50`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L51`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L52`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L53`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L54`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L55`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L73`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L75`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L116`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L117`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L148`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L149`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L177`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L178`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L208`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L209`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L218`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L219`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L226`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L232`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L233`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L234`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L235`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L236`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L237`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L241`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L242`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L244`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L252`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L253`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L264`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L267`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L268`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L269`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L270`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L271`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L272`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L273`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L277`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L278`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`schemas/README.md`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L118`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L122`
  - XXX comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*

**`schemas/specification.schema.yaml`** (2 violations)

- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

**`scripts/convert_operation_contracts.py`** (2 violations)

- ğŸŸ¡ **function-size-limit** at `L13`
  - Function 'convert_operation_contract' has 43 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L16`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/__main__.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-has-version** at `file`
  - Required pattern not found: '@click\.version_option|--version|version_callback'
  - ğŸ’¡ *Add @click.version_option() to main command*
- ğŸŸ¡ **cli-exception-handling** at `file`
  - Required pattern not found: 'except\s+(Exception|BaseException|KeyboardInterrupt)'
  - ğŸ’¡ *Catch exceptions and provide user-friendly error messages*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/__pycache__/__main__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__/__main__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/__pycache__/__main__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/__init__.py`** (1 violations)

- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*

**`src/agentforge/cli/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/__pycache__/core.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/core.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/core.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/__pycache__/main.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/main.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/__pycache__/main.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__init__.py`** (1 violations)

- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*

**`src/agentforge/cli/click_commands/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/agent.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/agent.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/agent.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/bridge.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/ci.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/ci.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/ci.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/config.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/conformance.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/conformance.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/conformance.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/contracts.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/contracts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/contracts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/discover.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/discover.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/discover.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/generate.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/generate.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/generate.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/pipeline.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/pipeline.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/pipeline.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/spec.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/tdflow.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/tdflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/tdflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/utility.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/utility.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/utility.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/__pycache__/workspace.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/workspace.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/click_commands/__pycache__/workspace.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/click_commands/agent.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/click_commands/bridge.py`** (6 violations)

- ğŸŸ¡ **max-parameter-count** at `L47`
  - Function 'generate' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L47`
  - Function 'generate' has 8 parameters (max: 5)

**`src/agentforge/cli/click_commands/ci.py`** (7 violations)

- ğŸŸ¡ **max-parameter-count** at `L47`
  - Function 'ci_run' has 14 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L47`
  - Function 'ci_run' has 14 parameters (max: 5)
- ğŸŸ¡ **descriptive-naming** at `L24`
  - Function name 'ci' is too short to be descriptive
  - ğŸ’¡ *Use descriptive names that reveal intent*

**`src/agentforge/cli/click_commands/config.py`** (8 violations)

- ğŸŸ¡ **max-parameter-count** at `L54`
  - Function 'config_set' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-config-from-env** at `file`
  - Required pattern not found: '(envvar\s*=|os\.environ|getenv)'
  - ğŸ’¡ *Add envvar parameter: @click.option('--api-key', envvar='API_KEY')*
- ğŸ”µ **cli-config-file-support** at `file`
  - Required pattern not found: '(config_file|--config|\.(yaml|json|toml))'
  - ğŸ’¡ *Add --config option for loading configuration from file*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L54`
  - Function 'config_set' has 6 parameters (max: 5)

**`src/agentforge/cli/click_commands/conformance.py`** (6 violations)

- ğŸŸ¡ **max-parameter-count** at `L115`
  - Function 'violations_list' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L115`
  - Function 'violations_list' has 7 parameters (max: 5)

**`src/agentforge/cli/click_commands/contracts.py`** (11 violations)

- ğŸŸ¡ **max-parameter-count** at `L42`
  - Function 'contracts_list' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L82`
  - Function 'contracts_check' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L140`
  - Function 'contracts_verify_ops' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L291`
  - Function 'exemptions_add' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L42`
  - Function 'contracts_list' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L82`
  - Function 'contracts_check' has 8 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L140`
  - Function 'contracts_verify_ops' has 7 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L291`
  - Function 'exemptions_add' has 8 parameters (max: 5)

**`src/agentforge/cli/click_commands/discover.py`** (7 violations)

- ğŸŸ¡ **max-parameter-count** at `L32`
  - Function 'discover' has 11 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L32`
  - Function 'discover' has 11 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L32`
  - Function 'discover' has 31 lines (max: 30)

**`src/agentforge/cli/click_commands/generate.py`** (13 violations)

- ğŸŸ¡ **max-function-length** at `L63`
  - Function 'code' has 73 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L63`
  - Function 'code' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L63`
  - Function 'code' has complexity 15 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L63`
  - Function 'code' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L63`
  - Function 'code' has 73 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L184`
  - Function 'parse_response' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L272`
  - Function 'prompt' has 43 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L63`
  - Function 'code' has complexity 15 (max: 10)
- ğŸ”µ **descriptive-naming** at `L135`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/click_commands/pipeline.py`** (28 violations)

- ğŸŸ¡ **max-function-length** at `L331`
  - Function 'status' has 59 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L73`
  - Function '_display_result' has nesting depth 7 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-parameter-count** at `L154`
  - Function 'start' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L331`
  - Function 'status' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (682 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L34`
  - Class 'PipelineProgressDisplay' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L617`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L154`
  - Function 'start' has 7 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L200`
  - Function 'design' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L263`
  - Function 'implement' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L331`
  - Function 'status' has 59 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L581`
  - Function 'pipelines' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L636`
  - Function 'artifacts' has 34 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L73`
  - Function '_display_result' has nesting depth 7 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L331`
  - Function 'status' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L183`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L435`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L301`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L308`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/click_commands/spec.py`** (11 violations)

- ğŸŸ¡ **max-parameter-count** at `L79`
  - Function 'draft' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L131`
  - Function 'revise' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L159`
  - Function 'adapt' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L79`
  - Function 'draft' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L131`
  - Function 'revise' has 8 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L159`
  - Function 'adapt' has 8 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L159`
  - Function 'adapt' has 36 lines (max: 30)

**`src/agentforge/cli/click_commands/tdflow.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/click_commands/utility.py`** (8 violations)

- ğŸŸ¡ **max-parameter-count** at `L32`
  - Function 'context' has 11 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L68`
  - Function 'verify' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L32`
  - Function 'context' has 11 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L68`
  - Function 'verify' has 8 parameters (max: 5)

**`src/agentforge/cli/click_commands/workspace.py`** (8 violations)

- ğŸŸ¡ **max-parameter-count** at `L37`
  - Function 'workspace_init' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L81`
  - Function 'workspace_add_repo' has 9 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L37`
  - Function 'workspace_init' has 8 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L81`
  - Function 'workspace_add_repo' has 9 parameters (max: 5)

**`src/agentforge/cli/commands/__init__.py`** (2 violations)

- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*

**`src/agentforge/cli/commands/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/agent.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/agent.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/agent.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/bridge.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/ci.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/ci.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/ci.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/conformance.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/conformance.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/conformance.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/conformance_formatters.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/conformance_formatters.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/conformance_formatters.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/spec.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/spec_adapt.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/spec_adapt.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/spec_adapt.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/tdflow.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/tdflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/tdflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/__pycache__/verify.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/verify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/cli/commands/__pycache__/verify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/cli/commands/agent.py`** (26 violations)

- ğŸŸ¡ **max-function-length** at `L374`
  - Function 'run_fix_violation' has 87 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L491`
  - Function 'run_fix_violations_batch' has 71 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L116`
  - Function 'run_status' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L374`
  - Function 'run_fix_violation' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (627 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L566`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L267`
  - Function 'run_list' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L374`
  - Function 'run_fix_violation' has 87 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L491`
  - Function 'run_fix_violations_batch' has 71 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L116`
  - Function 'run_status' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L374`
  - Function 'run_fix_violation' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L224`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L254`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L453`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L517`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L621`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L600`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L562`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/bridge.py`** (13 violations)

- ğŸŸ¡ **max-function-length** at `L17`
  - Function 'run_bridge_generate' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L17`
  - Function 'run_bridge_generate' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L17`
  - Function 'run_bridge_generate' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L145`
  - Function 'run_bridge_mappings' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L17`
  - Function 'run_bridge_generate' has 8 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L17`
  - Function 'run_bridge_generate' has 65 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L145`
  - Function 'run_bridge_mappings' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L213`
  - Function 'run_bridge_diff' has 33 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L17`
  - Function 'run_bridge_generate' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L145`
  - Function 'run_bridge_mappings' has complexity 11 (max: 10)

**`src/agentforge/cli/commands/ci.py`** (163 violations)

- ğŸŸ¡ **max-function-length** at `L164`
  - Function 'run_baseline_compare' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L164`
  - Function 'run_baseline_compare' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **use-click-echo** at `L66`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L76`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L80`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L84`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L88`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L98`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L99`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L100`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L101`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L102`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L103`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L104`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L105`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L106`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L107`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L110`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L111`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L112`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L113`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L114`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L115`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L118`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L119`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L121`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L123`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L124`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L134`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L143`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L159`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L161`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L171`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L180`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L191`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L203`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L205`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L206`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L207`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L208`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L209`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L210`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L211`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L214`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L216`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L218`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L221`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L223`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L225`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L236`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L239`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L240`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L241`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L242`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L243`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L245`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L247`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L248`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L250`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L252`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L253`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L256`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L275`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L276`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L285`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L286`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L287`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L288`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L289`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L290`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L298`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L299`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L308`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L309`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L310`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L311`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L312`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L313`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L66`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L76`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L80`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L84`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L88`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L98`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L99`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L100`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L101`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L102`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L103`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L104`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L105`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L106`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L107`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L110`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L111`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L112`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L113`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L114`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L115`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L118`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L119`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L121`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L123`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L124`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L134`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L143`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L159`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L161`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L171`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L180`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L191`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L203`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L205`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L206`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L207`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L208`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L209`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L210`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L211`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L214`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L216`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L218`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L221`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L223`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L225`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L236`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L239`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L240`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L241`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L242`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L243`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L245`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L247`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L248`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L250`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L252`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L253`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L256`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L275`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L276`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L285`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L286`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L287`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L288`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L289`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L290`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L298`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L299`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L308`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L309`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L310`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L311`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L312`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **use-click-echo** at `L313`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use click.echo() or rich.print() for CLI output*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L30`
  - Function 'run_ci_check' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L164`
  - Function 'run_baseline_compare' has 51 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L164`
  - Function 'run_baseline_compare' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L71`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L148`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/config.py`** (6 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-config-from-env** at `file`
  - Required pattern not found: '(envvar\s*=|os\.environ|getenv)'
  - ğŸ’¡ *Add envvar parameter: @click.option('--api-key', envvar='API_KEY')*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L33`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/conformance.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L116`
  - Function 'run_conformance_check' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L239`
  - Function 'run_conformance_violations_show' has 32 lines (max: 30)

**`src/agentforge/cli/commands/conformance_formatters.py`** (17 violations)

- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸŸ¡ **max-line-length** at `L97`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/commands/context.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/commands/contracts.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/commands/discover.py`** (24 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L40`
  - Function '_run_single_zone_discovery' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L99`
  - Function '_run_multi_zone_discovery' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L210`
  - Function '_output_multi_zone_summary' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L282`
  - Function '_output_summary' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L257`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function '_run_single_zone_discovery' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L99`
  - Function '_run_multi_zone_discovery' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L210`
  - Function '_output_multi_zone_summary' has 39 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L282`
  - Function '_output_summary' has 48 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L40`
  - Function '_run_single_zone_discovery' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L99`
  - Function '_run_multi_zone_discovery' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L210`
  - Function '_output_multi_zone_summary' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L282`
  - Function '_output_summary' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L67`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L123`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L361`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/revision.py`** (28 violations)

- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸŸ¡ **max-line-length** at `L183`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L187`
  - Line exceeds 120 characters (135 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L433`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L74`
  - Function 'create_revision_session' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L213`
  - Function '_handle_issue_interactive' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L275`
  - Function 'run_autonomous_revision' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L390`
  - Function 'show_revision_status' has 33 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L213`
  - Boolean function '_handle_issue_interactive' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/cli/commands/revision_apply.py`** (13 violations)

- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸŸ¡ **max-line-length** at `L237`
  - Line exceeds 120 characters (133 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L18`
  - Function 'apply_revision_session' has 37 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/spec.py`** (47 violations)

- ğŸŸ¡ **max-function-length** at `L334`
  - Function 'run_draft' has 62 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L251`
  - Function '_extract_locations_from_analysis' has nesting depth 7 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L251`
  - Function '_extract_locations_from_analysis' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L144`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L232`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L442`
  - Line exceeds 120 characters (167 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L443`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L445`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L19`
  - Function 'run_intake' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L334`
  - Function 'run_draft' has 62 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L448`
  - Function 'run_validate' has 31 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L251`
  - Function '_extract_locations_from_analysis' has nesting depth 7 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L251`
  - Function '_extract_locations_from_analysis' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L31`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L398`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L474`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/spec_adapt.py`** (15 violations)

- ğŸŸ¡ **max-function-length** at `L234`
  - Function 'run_adapt' has 99 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L234`
  - Function 'run_adapt' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L81`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L234`
  - Function 'run_adapt' has 99 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L234`
  - Function 'run_adapt' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L327`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L87`
  - Boolean function '_save_adapted_spec' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/cli/commands/tdflow.py`** (10 violations)

- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L43`
  - Function 'run_start' has 36 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L127`
  - Function 'run_green' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L238`
  - Function 'run_status' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L109`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L147`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L187`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/commands/verify.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/cli/commands/workspace.py`** (25 violations)

- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L65`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L412`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L415`
  - Line exceeds 120 characters (148 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L211`
  - Function 'run_workspace_add_repo' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L324`
  - Function 'run_workspace_validate' has 35 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L81`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/core.py`** (9 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L141`
  - Function 'call_claude_code' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L196`
  - Function 'call_anthropic_api' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L298`
  - Function 'execute_contract' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L285`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L290`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L156`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/cli/helpers.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L15`
  - Function 'build_contracts_output' has 38 lines (max: 30)

**`src/agentforge/cli/main.py`** (9 violations)

- ğŸ”µ **max-imports** at `L1`
  - File has 38 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 38 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 38 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **colored-output-optional** at `file`
  - Required pattern not found: '(NO_COLOR|--no-color|color\s*=)'
  - ğŸ’¡ *Add --no-color flag or check NO_COLOR environment variable*
- ğŸ”µ **max-imports** at `L1`
  - File has 38 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'init' has 38 lines (max: 30)

**`src/agentforge/cli/parser.py`** (20 violations)

- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸŸ¡ **max-line-length** at `L184`
  - Line exceeds 120 characters (137 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L285`
  - Line exceeds 120 characters (159 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L73`
  - Function '_add_spec_commands' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L157`
  - Function '_add_workspace_commands' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L250`
  - Function '_add_contracts_commands' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L331`
  - Function '_add_conformance_commands' has 44 lines (max: 30)

**`src/agentforge/cli/render.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L28`
  - Function '_render_overview' has 42 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L132`
  - Function '_render_entity' has 43 lines (max: 30)

**`src/agentforge/core/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/builtin_checks.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/builtin_checks_architecture.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks_architecture.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks_architecture.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/builtin_checks_architecture_helpers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks_architecture_helpers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/builtin_checks_architecture_helpers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/code_chunker.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/code_chunker.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/code_chunker.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/command_runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/command_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/command_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/context_assembler.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_assembler.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_assembler.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/context_assembler_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_assembler_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_assembler_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/context_patterns.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_patterns.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_patterns.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/context_retrieval.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_retrieval.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/context_retrieval.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contract_runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contract_validator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contract_validator_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_validator_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contract_validator_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts_ast.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_ast.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_ast.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts_execution.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_execution.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_execution.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts_lsp.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_lsp.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_lsp.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts_registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/contracts_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/contracts_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/embedding_providers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/embedding_providers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/embedding_providers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/init.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/init.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/init.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/lsp_adapter.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_adapter.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_adapter.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/lsp_adapters.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_adapters.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_adapters.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/lsp_client.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_client.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_client.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/lsp_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/lsp_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/output_validator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/output_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/output_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/pyright_runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/pyright_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/pyright_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/vector_search.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/vector_search.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/vector_search.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/vector_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/vector_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/vector_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_ast.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_ast.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_ast.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_checks.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_checks.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_checks.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_contracts_check.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_contracts_check.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_contracts_check.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_reports.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_reports.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_reports.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/__pycache__/verification_types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/__pycache__/verification_types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/analyze_structure.py`** (17 violations)

- ğŸŸ¡ **no-print-statements** at `L288`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L294`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L295`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L296`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L297`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L298`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L299`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L300`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L302`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L303`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L306`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L308`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L92`
  - Class 'StructureAnalyzer' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L272`
  - Function 'main' has 32 lines (max: 30)

**`src/agentforge/core/audit/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/audit_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/audit_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/audit_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/context_frame.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/context_frame.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/context_frame.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/conversation_archive.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/conversation_archive.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/conversation_archive.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/frame_logger.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/frame_logger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/frame_logger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/integrity_chain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/integrity_chain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/integrity_chain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/thread_correlator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/thread_correlator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/thread_correlator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/__pycache__/transaction_logger.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/transaction_logger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/audit/__pycache__/transaction_logger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/audit/audit_manager.py`** (20 violations)

- ğŸŸ¡ **max-function-length** at `L139`
  - Function 'spawn_child_thread' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L247`
  - Function 'log_llm_interaction' has 104 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L139`
  - Function 'spawn_child_thread' has 9 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L247`
  - Function 'log_llm_interaction' has 17 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-class-size** at `L76`
  - Class 'AuditManager' has 21 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (552 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-print-statements** at `L54`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-god-classes** at `L76`
  - Class 'AuditManager' has 21 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L76`
  - Class 'AuditManager' has 21 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L139`
  - Function 'spawn_child_thread' has 9 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L247`
  - Function 'log_llm_interaction' has 17 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L139`
  - Function 'spawn_child_thread' has 51 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L199`
  - Function 'spawn_parallel_group' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L247`
  - Function 'log_llm_interaction' has 104 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L396`
  - Function 'complete_thread' has 34 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L76`
  - Class 'AuditManager' has 21 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L496`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/context_frame.py`** (17 violations)

- ğŸŸ¡ **max-parameter-count** at `L438`
  - Function 'with_llm_interaction' has 10 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L313`
  - Function 'to_dict' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (600 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L370`
  - Class 'ContextFrameBuilder' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L438`
  - Function 'with_llm_interaction' has 10 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L313`
  - Function 'to_dict' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L400`
  - Function 'with_input_context' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L466`
  - Function 'with_parsed_artifact' has 40 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L313`
  - Function 'to_dict' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L74`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L172`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L244`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L315`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/conversation_archive.py`** (16 violations)

- ğŸŸ¡ **max-function-length** at `L134`
  - Function 'to_markdown' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L224`
  - Function 'archive_turn' has 63 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L224`
  - Function 'archive_turn' has 14 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L134`
  - Function 'to_markdown' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L199`
  - Class 'ConversationArchive' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L224`
  - Function 'archive_turn' has 14 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L97`
  - Function 'to_dict' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L134`
  - Function 'to_markdown' has 54 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L224`
  - Function 'archive_turn' has 63 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L134`
  - Function 'to_markdown' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L99`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L304`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/frame_logger.py`** (18 violations)

- ğŸŸ¡ **max-function-length** at `L104`
  - Function 'log_stage_frame' has 75 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L197`
  - Function 'log_agent_step' has 56 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L104`
  - Function 'log_stage_frame' has 17 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L197`
  - Function 'log_agent_step' has 12 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (571 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L61`
  - Class 'FrameLogger' has 19 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L61`
  - Class 'FrameLogger' has 19 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L104`
  - Function 'log_stage_frame' has 17 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L197`
  - Function 'log_agent_step' has 12 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L104`
  - Function 'log_stage_frame' has 75 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L197`
  - Function 'log_agent_step' has 56 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L266`
  - Function 'log_human_interaction' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L379`
  - Function 'get_validation_summary' has 34 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L61`
  - Class 'FrameLogger' has 19 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L362`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/integrity_chain.py`** (9 violations)

- ğŸ”µ **single-responsibility-modules** at `L99`
  - Class 'IntegrityChain' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L195`
  - Function 'verify' has 49 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L181`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L303`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L339`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/thread_correlator.py`** (25 violations)

- ğŸŸ¡ **max-function-length** at `L210`
  - Function 'create_thread' has 61 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L210`
  - Function 'create_thread' has 9 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L290`
  - Function 'complete_thread' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L136`
  - Function 'to_dict' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (562 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L181`
  - Class 'ThreadCorrelator' has 19 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L181`
  - Class 'ThreadCorrelator' has 19 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L210`
  - Function 'create_thread' has 9 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L290`
  - Function 'complete_thread' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L136`
  - Function 'to_dict' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L210`
  - Function 'create_thread' has 61 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L290`
  - Function 'complete_thread' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L375`
  - Function 'create_parallel_group' has 37 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L136`
  - Function 'to_dict' has complexity 11 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L181`
  - Class 'ThreadCorrelator' has 19 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L80`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L138`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L251`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L284`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L332`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L337`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/audit/transaction_logger.py`** (17 violations)

- ğŸŸ¡ **max-function-length** at `L114`
  - Function 'to_dict' has 62 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L279`
  - Function 'log_llm_call' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L279`
  - Function 'log_llm_call' has 13 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L114`
  - Function 'to_dict' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (524 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L197`
  - Class 'TransactionLogger' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L279`
  - Function 'log_llm_call' has 13 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L114`
  - Function 'to_dict' has 62 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L228`
  - Function 'log_transaction' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L279`
  - Function 'log_llm_call' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L472`
  - Function '_dict_to_record' has 42 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L114`
  - Function 'to_dict' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L116`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L405`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/bridge/__init__.py`** (1 violations)

- ğŸŸ¡ **no-print-statements** at `L15`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*

**`src/agentforge/core/bridge/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/conflict_resolver.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/conflict_resolver.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/conflict_resolver.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/contract_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/contract_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/contract_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/orchestrator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/__pycache__/profile_loader.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/profile_loader.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/__pycache__/profile_loader.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/conflict_resolver.py`** (11 violations)

- ğŸŸ¡ **max-nesting-depth** at `L160`
  - Function 'resolve_conflicts' has nesting depth 7 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'ConflictResolver' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **no-type-ignore-without-code** at `L22`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L22`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L22`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-type-ignore-without-code** at `L22`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L160`
  - Function 'resolve_conflicts' has 39 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L160`
  - Function 'resolve_conflicts' has nesting depth 7 (max: 4)

**`src/agentforge/core/bridge/contract_builder.py`** (14 violations)

- ğŸŸ¡ **max-function-length** at `L71`
  - Function 'build_contract' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L71`
  - Function 'build_contract' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L43`
  - Class 'ContractBuilder' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **no-type-ignore-without-code** at `L25`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L25`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L25`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-type-ignore-without-code** at `L25`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L71`
  - Function 'build_contract' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L71`
  - Function 'build_contract' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L183`
  - Function '_build_yaml_content' has 33 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L252`
  - Boolean function 'contract_exists' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/domain.py`** (11 violations)

- ğŸ”µ **single-responsibility-modules** at `L20`
  - Class 'ConfidenceTier' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L171`
  - Class 'GeneratedContract' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L363`
  - Class 'MappingContext' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L328`
  - Function 'to_dict' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L119`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L241`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L40`
  - Boolean function 'auto_enable' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L50`
  - Boolean function 'needs_review' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/mappings/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/architecture.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/architecture.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/architecture.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/base.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/conventions.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/conventions.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/conventions.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/cqrs.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/cqrs.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/cqrs.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/__pycache__/repository.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/repository.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/bridge/mappings/__pycache__/repository.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/bridge/mappings/architecture.py`** (8 violations)

- ğŸŸ¡ **max-function-length** at `L49`
  - Function 'get_templates' has 55 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'get_templates' has 55 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L36`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L129`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L190`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/mappings/base.py`** (6 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'PatternMapping' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L119`
  - Function '_template_to_check' has 36 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L64`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/mappings/conventions.py`** (11 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L140`
  - Function 'get_templates' has 35 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L32`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L83`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L130`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L190`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L234`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L278`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L318`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/mappings/cqrs.py`** (7 violations)

- ğŸŸ¡ **max-function-length** at `L52`
  - Function 'get_templates' has 63 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L52`
  - Function 'get_templates' has 63 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L36`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L130`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/mappings/registry.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'MappingRegistry' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L54`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/bridge/mappings/repository.py`** (6 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function 'get_templates' has 40 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L34`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L96`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/bridge/orchestrator.py`** (25 violations)

- ğŸŸ¡ **max-function-length** at `L84`
  - Function 'generate' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L202`
  - Function '_generate_report' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L84`
  - Function 'generate' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L156`
  - Function '_generate_zone_contract' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L202`
  - Function '_generate_report' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **no-print-statements** at `L47`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L105`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L111`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L122`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L135`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L145`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L162`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L174`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L193`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L198`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L31`
  - Class 'BridgeOrchestrator' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L84`
  - Function 'generate' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L156`
  - Function '_generate_zone_contract' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L202`
  - Function '_generate_report' has 65 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L84`
  - Function 'generate' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L156`
  - Function '_generate_zone_contract' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L202`
  - Function '_generate_report' has complexity 14 (max: 10)

**`src/agentforge/core/bridge/profile_loader.py`** (9 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'ProfileLoader' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **no-type-ignore-without-code** at `L23`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L23`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L23`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-type-ignore-without-code** at `L23`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L139`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/builtin_checks.py`** (27 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (646 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-print-statements** at `L81`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **max-line-length** at `L356`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **todo-requires-ticket** at `L43`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L53`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L75`
  - Function 'check_debug_statements' has 42 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L252`
  - Function 'check_hardcoded_secrets' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L307`
  - Function 'check_lineage_metadata' has 42 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L548`
  - Function 'check_minimal_context_validation' has 45 lines (max: 30)

**`src/agentforge/core/builtin_checks_architecture.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L138`
  - Boolean function '_matches_class_pattern' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/builtin_checks_architecture_helpers.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/cicd/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/__pycache__/baseline.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/baseline.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/baseline.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/__pycache__/runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/__pycache__/runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/baseline.py`** (14 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'BaselineManager' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L195`
  - Class 'GitHelper' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L94`
  - Function 'update' has 34 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L216`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L240`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L254`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L268`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L56`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L160`
  - Boolean function 'exists' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L306`
  - Boolean function 'file_exists_at_ref' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/cicd/domain.py`** (12 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (595 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L220`
  - Class 'Baseline' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L297`
  - Class 'BaselineComparison' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L392`
  - Class 'CIResult' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L489`
  - Class 'CIConfig' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L84`
  - Function 'to_sarif_result' has 41 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L233`
  - Boolean function 'contains' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L250`
  - Boolean function 'remove' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L311`
  - Boolean function 'introduces_violations' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/cicd/outputs/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/outputs/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/outputs/__pycache__/junit.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/junit.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/junit.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/outputs/__pycache__/markdown.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/markdown.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/markdown.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/outputs/__pycache__/sarif.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/sarif.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/cicd/outputs/__pycache__/sarif.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/cicd/outputs/junit.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L22`
  - Function 'generate_junit' has 41 lines (max: 30)

**`src/agentforge/core/cicd/outputs/markdown.py`** (7 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L78`
  - Function '_generate_comparison_section' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L78`
  - Function '_generate_comparison_section' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L224`
  - Function 'generate_pr_comment' has 31 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L78`
  - Function '_generate_comparison_section' has complexity 11 (max: 10)

**`src/agentforge/core/cicd/outputs/sarif.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L28`
  - Function 'generate_sarif' has 43 lines (max: 30)

**`src/agentforge/core/cicd/platforms/azure.py`** (21 violations)

- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L104`
  - Line exceeds 120 characters (155 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L105`
  - Line exceeds 120 characters (185 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L114`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/cicd/platforms/github.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/cicd/runner.py`** (17 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L449`
  - Function '_determine_exit_code' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (637 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L37`
  - Class 'CIRunner' has 16 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'CIRunner' has 16 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L510`
  - Class 'CheckCache' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L64`
  - Function 'run' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L233`
  - Function '_execute_parallel' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L296`
  - Function '_run_single_check' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L488`
  - Function 'set' has 31 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L376`
  - Function '_determine_exit_code' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L499`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L472`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L553`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L175`
  - Boolean function '_contract_applies_to_files' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/code_chunker.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'CodeChunker' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L109`
  - Function '_chunk_by_structure' has 31 lines (max: 30)

**`src/agentforge/core/command_runner.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'CommandRunner' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L46`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/conformance/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/__pycache__/history_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/history_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/history_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/__pycache__/manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/__pycache__/stores.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/stores.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/conformance/__pycache__/stores.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/conformance/domain.py`** (16 violations)

- ğŸŸ¡ **max-function-length** at `L170`
  - Function 'compute_test_path' has 62 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L170`
  - Function 'compute_test_path' has complexity 23 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L113`
  - Class 'Violation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L286`
  - Class 'Exemption' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L170`
  - Function 'compute_test_path' has 62 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L170`
  - Function 'compute_test_path' has complexity 23 (max: 10)
- ğŸ”µ **descriptive-naming** at `L29`
  - Variable name 'INFO' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L86`
  - Boolean function 'matches_file' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L94`
  - Boolean function 'matches_violation_id' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L102`
  - Boolean function 'matches_line' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L312`
  - Boolean function 'needs_review' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L318`
  - Boolean function 'covers_check' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L322`
  - Boolean function 'covers_violation' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/conformance/history_store.py`** (6 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'HistoryStore' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L42`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/conformance/manager.py`** (8 violations)

- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'ConformanceManager' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L61`
  - Function 'initialize' has 39 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L108`
  - Function 'run_conformance_check' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L154`
  - Function '_create_or_update_violation' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L213`
  - Function '_generate_report' has 47 lines (max: 30)

**`src/agentforge/core/conformance/stores.py`** (19 violations)

- ğŸ”µ **single-responsibility-modules** at `L79`
  - Class 'ViolationStore' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L263`
  - Class 'ExemptionRegistry' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L149`
  - Function '_violation_to_dict' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L308`
  - Function '_dict_to_exemption' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L343`
  - Function '_exemption_to_dict' has 34 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L151`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L204`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L356`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L389`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L442`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L118`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L303`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L472`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L211`
  - Boolean function 'delete' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L396`
  - Boolean function 'delete' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L424`
  - Boolean function 'update_status' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/context/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/__pycache__/agent_config.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/agent_config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/agent_config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/__pycache__/audit.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/audit.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/audit.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/__pycache__/compaction.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/compaction.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/compaction.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/__pycache__/fingerprint.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/fingerprint.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/__pycache__/fingerprint.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/agent_config.py`** (11 violations)

- ğŸŸ¡ **no-print-statements** at `L35`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L36`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L37`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L163`
  - Class 'AgentConfigLoader' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L196`
  - Function 'load' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L316`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L275`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L263`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/context/audit.py`** (10 violations)

- ğŸŸ¡ **max-parameter-count** at `L93`
  - Function 'log_step' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L148`
  - Function 'log_task_summary' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L62`
  - Class 'ContextAuditLogger' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L93`
  - Function 'log_step' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L148`
  - Function 'log_task_summary' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L93`
  - Function 'log_step' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L148`
  - Function 'log_task_summary' has 36 lines (max: 30)

**`src/agentforge/core/context/compaction.py`** (18 violations)

- ğŸŸ¡ **max-function-length** at `L245`
  - Function '_apply_rule' has 75 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L245`
  - Function '_apply_rule' has nesting depth 10 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L245`
  - Function '_apply_rule' has complexity 35 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L133`
  - Class 'CompactionManager' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **prefer-typing-extensions** at `L43`
  - Forbidden pattern found: 'from typing import Any, Protocol'
  - ğŸ’¡ *Import from typing_extensions for Python < 3.10 compatibility*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L180`
  - Function 'compact' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L245`
  - Function '_apply_rule' has 75 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L245`
  - Function '_apply_rule' has nesting depth 10 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L245`
  - Function '_apply_rule' has complexity 35 (max: 10)
- ğŸ”µ **descriptive-naming** at `L201`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L265`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L266`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L85`
  - Boolean function '__lt__' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L171`
  - Boolean function 'needs_compaction' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/context/fingerprint.py`** (18 violations)

- ğŸŸ¡ **max-function-length** at `L266`
  - Function '_detect_technical' has 80 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L426`
  - Function '_detect_structure' has 61 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L374`
  - Function '_detect_patterns' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L266`
  - Function '_detect_technical' has complexity 28 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L374`
  - Function '_detect_patterns' has complexity 22 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L426`
  - Function '_detect_structure' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (506 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L165`
  - Class 'FingerprintGenerator' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L266`
  - Function '_detect_technical' has 80 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L374`
  - Function '_detect_patterns' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L426`
  - Function '_detect_structure' has 61 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L374`
  - Function '_detect_patterns' has nesting depth 6 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L266`
  - Function '_detect_technical' has complexity 28 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L374`
  - Function '_detect_patterns' has complexity 22 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L426`
  - Function '_detect_structure' has complexity 16 (max: 10)

**`src/agentforge/core/context/templates/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/base.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/bridge.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/code_review.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/code_review.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/code_review.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/discovery.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/discovery.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/discovery.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/fix_violation.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/fix_violation.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/fix_violation.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/implement_feature.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/implement_feature.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/implement_feature.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/models.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/models.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/models.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/refactor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/__pycache__/write_tests.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/write_tests.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/context/templates/__pycache__/write_tests.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/context/templates/base.py`** (13 violations)

- ğŸŸ¡ **max-function-length** at `L213`
  - Function 'build_context_dict' has 63 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L213`
  - Function 'build_context_dict' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L287`
  - Function '_get_section_value' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L46`
  - Class 'BaseContextTemplate' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L213`
  - Function 'build_context_dict' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L213`
  - Function 'build_context_dict' has 63 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L287`
  - Function '_get_section_value' has 33 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L287`
  - Function '_get_section_value' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L259`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L274`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/context/templates/bridge.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L49`
  - Function 'get_tier2_for_phase' has 83 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'BridgeTemplate' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'get_tier2_for_phase' has 83 lines (max: 30)

**`src/agentforge/core/context/templates/code_review.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L49`
  - Function 'get_tier2_for_phase' has 78 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'CodeReviewTemplate' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'get_tier2_for_phase' has 78 lines (max: 30)

**`src/agentforge/core/context/templates/discovery.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L49`
  - Function 'get_tier2_for_phase' has 76 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'DiscoveryTemplate' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'get_tier2_for_phase' has 76 lines (max: 30)

**`src/agentforge/core/context/templates/fix_violation.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L40`
  - Function 'get_tier2_for_phase' has 100 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L29`
  - Class 'FixViolationTemplate' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function 'get_tier2_for_phase' has 100 lines (max: 30)

**`src/agentforge/core/context/templates/implement_feature.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L43`
  - Function 'get_tier2_for_phase' has 100 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'ImplementFeatureTemplate' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L43`
  - Function 'get_tier2_for_phase' has 100 lines (max: 30)

**`src/agentforge/core/context/templates/models.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/context/templates/refactor.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L40`
  - Function 'get_tier2_for_phase' has 106 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L29`
  - Class 'RefactorTemplate' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function 'get_tier2_for_phase' has 106 lines (max: 30)

**`src/agentforge/core/context/templates/write_tests.py`** (6 violations)

- ğŸŸ¡ **max-function-length** at `L40`
  - Function 'get_tier2_for_phase' has 100 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L29`
  - Class 'WriteTestsTemplate' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function 'get_tier2_for_phase' has 100 lines (max: 30)

**`src/agentforge/core/context_assembler.py`** (9 violations)

- ğŸŸ¡ **no-print-statements** at `L428`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L431`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L58`
  - Class 'ContextAssembler' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L251`
  - Function '_build_file_contexts' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L291`
  - Function 'assemble' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L357`
  - Function 'assemble_from_files' has 40 lines (max: 30)

**`src/agentforge/core/context_assembler_types.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L89`
  - Class 'CodeContext' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/context_patterns.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/context_retrieval.py`** (12 violations)

- ğŸŸ¡ **no-print-statements** at `L74`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L150`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L170`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L189`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L198`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L202`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L308`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L64`
  - Class 'ContextRetriever' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L205`
  - Function 'retrieve' has 35 lines (max: 30)

**`src/agentforge/core/context_retrieval_cli.py`** (33 violations)

- ğŸŸ¡ **no-print-statements** at `L53`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L56`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L59`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L61`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L63`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L65`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L67`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L70`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L72`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L74`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L75`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L80`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L82`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L84`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L86`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L91`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L100`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L103`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L105`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L112`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L115`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L117`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L155`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L158`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L82`
  - Line exceeds 120 characters (126 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/contract_runner.py`** (16 violations)

- ğŸ”µ **single-responsibility-modules** at `L27`
  - Class 'ContractRunner' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L84`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L116`
  - Line exceeds 120 characters (143 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/contract_validator.py`** (22 violations)

- ğŸŸ¡ **no-print-statements** at `L315`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L316`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L317`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L318`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L319`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L320`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L323`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L325`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L327`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L329`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L330`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L334`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L335`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L337`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L346`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L35`
  - Class 'ContractValidator' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L129`
  - Function '_check_examples_validate' has 36 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L170`
  - Function '_check_template_variables' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L228`
  - Function '_check_verification_rules' has 45 lines (max: 30)

**`src/agentforge/core/contract_validator_types.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/contracts.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L50`
  - Function 'run_contract' has 40 lines (max: 30)

**`src/agentforge/core/contracts/__init__.py`** (4 violations)

- ğŸ”µ **max-imports** at `L1`
  - File has 33 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 33 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 33 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 33 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*

**`src/agentforge/core/contracts/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/cli.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/cli.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/cli.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/draft.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/draft.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/draft.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/drafter.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/drafter.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/drafter.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/enforcer.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/enforcer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/enforcer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/evolution.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/evolution.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/evolution.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/__pycache__/reviewer.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/reviewer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/__pycache__/reviewer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/cli.py`** (18 violations)

- ğŸŸ¡ **max-function-length** at `L132`
  - Function 'review_command' has 95 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L132`
  - Function 'review_command' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L132`
  - Function 'review_command' has complexity 21 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **main-guard-pattern** at `file`
  - Required pattern not found: 'if\s+__name__\s*==\s*['"]__main__['"]'
  - ğŸ’¡ *Add: if __name__ == '__main__': main()*
- ğŸ”µ **cli-has-version** at `file`
  - Required pattern not found: '@click\.version_option|--version|version_callback'
  - ğŸ’¡ *Add @click.version_option() to main command*
- ğŸ”µ **colored-output-optional** at `file`
  - Required pattern not found: '(NO_COLOR|--no-color|color\s*=)'
  - ğŸ’¡ *Add --no-color flag or check NO_COLOR environment variable*
- ğŸ”µ **cli-config-from-env** at `file`
  - Required pattern not found: '(envvar\s*=|os\.environ|getenv)'
  - ğŸ’¡ *Add envvar parameter: @click.option('--api-key', envvar='API_KEY')*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L78`
  - Function 'draft_command' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L132`
  - Function 'review_command' has 95 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L260`
  - Function 'list_command' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L306`
  - Function 'show_command' has 37 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L132`
  - Function 'review_command' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L132`
  - Function 'review_command' has complexity 21 (max: 10)
- ğŸ”µ **descriptive-naming** at `L330`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L320`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/contracts/draft.py`** (9 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (501 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L294`
  - Class 'ContractDraft' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L410`
  - Class 'ApprovedContracts' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L345`
  - Function 'from_dict' has 34 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L387`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L475`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/contracts/drafter.py`** (10 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L135`
  - Function '_load_system_prompt' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L110`
  - Class 'ContractDrafter' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L244`
  - Function '_build_user_message' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L318`
  - Function '_build_draft_from_data' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L403`
  - Function 'refine' has 37 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L135`
  - Function '_load_system_prompt' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L293`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/contracts/enforcer.py`** (33 violations)

- ğŸŸ¡ **max-function-length** at `L255`
  - Function '_validate_schema' has 55 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L336`
  - Function '_apply_validation_rule' has 60 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L490`
  - Function 'check_quality_gate' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L459`
  - Function '_evaluate_trigger_condition' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L490`
  - Function 'check_quality_gate' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L336`
  - Function '_apply_validation_rule' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L490`
  - Function 'check_quality_gate' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (641 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L85`
  - Class 'ValidationResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L141`
  - Class 'ContractEnforcer' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L168`
  - Function 'validate_stage_input' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L209`
  - Function 'validate_stage_output' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L255`
  - Function '_validate_schema' has 55 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L336`
  - Function '_apply_validation_rule' has 60 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L490`
  - Function 'check_quality_gate' has 54 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L459`
  - Function '_evaluate_trigger_condition' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L490`
  - Function 'check_quality_gate' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L336`
  - Function '_apply_validation_rule' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L490`
  - Function 'check_quality_gate' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L42`
  - Variable name 'INFO' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L182`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L223`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L271`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L350`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L358`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L576`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L290`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L320`
  - Boolean function '_check_type' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L459`
  - Boolean function '_evaluate_trigger_condition' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L599`
  - Boolean function '_check_operation_rule' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/contracts/evolution.py`** (10 violations)

- ğŸŸ¡ **max-function-length** at `L126`
  - Function 'detect_assumption_violation' has 55 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L314`
  - Function 'apply_evolution' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L98`
  - Class 'ContractEvolutionHandler' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L126`
  - Function 'detect_assumption_violation' has 55 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L222`
  - Function '_generate_proposed_changes' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L276`
  - Function '_generate_escalation_prompt' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L314`
  - Function 'apply_evolution' has 54 lines (max: 30)

**`src/agentforge/core/contracts/operations/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/operations/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/operations/__pycache__/loader.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/loader.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/loader.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/operations/__pycache__/verifier.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/verifier.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/contracts/operations/__pycache__/verifier.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/contracts/operations/loader.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L122`
  - Class 'OperationContract' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L250`
  - Class 'OperationContractManager' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L238`
  - Function '_load_unified_format' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L222`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/contracts/operations/verifier.py`** (11 violations)

- ğŸ”µ **single-responsibility-modules** at `L43`
  - Class 'VerificationReport' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L156`
  - Class 'OperationContractVerifier' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L290`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/contracts/registry.py`** (11 violations)

- ğŸŸ¡ **max-function-length** at `L192`
  - Function 'evolve' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L192`
  - Function 'evolve' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L192`
  - Function 'evolve' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'ContractRegistry' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L192`
  - Function 'evolve' has 53 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L192`
  - Function 'evolve' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L192`
  - Function 'evolve' has complexity 12 (max: 10)
- ğŸŸ¡ **boolean-naming** at `L177`
  - Boolean function 'delete_draft' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/contracts/reviewer.py`** (12 violations)

- ğŸŸ¡ **max-function-length** at `L126`
  - Function 'format_for_display' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L126`
  - Function 'format_for_display' has complexity 18 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L200`
  - Function 'format_stage_for_review' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L106`
  - Class 'ContractReviewer' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L126`
  - Function 'format_for_display' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L200`
  - Function 'format_stage_for_review' has 46 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L126`
  - Function 'format_for_display' has complexity 18 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L200`
  - Function 'format_stage_for_review' has complexity 14 (max: 10)
- ğŸŸ¡ **boolean-naming** at `L81`
  - Boolean function 'all_stages_approved' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/contracts_ast.py`** (2 violations)

- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/contracts_execution.py`** (18 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L488`
  - Function '_extract_class_with_bases' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L636`
  - Function '_extract_methods_with_return_types' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (743 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L215`
  - Function '_execute_command_check' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L320`
  - Function '_execute_custom_check' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L593`
  - Function '_execute_ast_interface_check' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L648`
  - Function '_extract_methods_with_return_types' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L775`
  - Function '_execute_naming_convention_check' has 56 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L775`
  - Function '_execute_naming_convention_check' has nesting depth 7 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L500`
  - Function '_extract_class_with_bases' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L648`
  - Function '_extract_methods_with_return_types' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L775`
  - Function '_execute_naming_convention_check' has complexity 20 (max: 10)
- ğŸ”µ **descriptive-naming** at `L128`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L545`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/contracts_lsp.py`** (10 violations)

- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L23`
  - Function 'execute_lsp_query_check' has 44 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L92`
  - Boolean function '_symbol_matches_kind' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L100`
  - Boolean function '_symbol_matches_visibility' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L107`
  - Boolean function '_symbol_matches_name' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L114`
  - Boolean function '_symbol_has_modifiers' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L122`
  - Boolean function '_symbol_excluded_by_modifiers' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L134`
  - Boolean function '_symbol_excluded_by_name' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L141`
  - Boolean function '_symbol_excluded_by_container' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/contracts_registry.py`** (13 violations)

- ğŸŸ¡ **no-print-statements** at `L89`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L131`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L192`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'ContractRegistry' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L91`
  - Function '_load_contract_file' has 34 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L287`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L321`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L94`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L196`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L269`
  - Boolean function '_contract_matches_filters' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/contracts_types.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L56`
  - Class 'Exemption' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L162`
  - Boolean function 'covers_file' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L171`
  - Boolean function 'covers_line' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/discovery/__init__.py`** (2 violations)

- ğŸŸ¡ **no-print-statements** at `L15`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L24`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*

**`src/agentforge/core/discovery/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/__pycache__/manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/__pycache__/manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/interactions.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/interactions.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/interactions.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/patterns.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/patterns.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/patterns.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/structure.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/structure.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/structure.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/analyzers/__pycache__/test_linkage.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/analyzers/interactions.py`** (18 violations)

- ğŸŸ¡ **max-nesting-depth** at `L52`
  - Function '_detect_docker_compose' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L241`
  - Function '_detect_shared_packages' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L52`
  - Function '_detect_docker_compose' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L241`
  - Function '_detect_shared_packages' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **no-print-statements** at `L324`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'InteractionDetector' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **no-type-ignore-without-code** at `L21`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L21`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L21`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-type-ignore-without-code** at `L21`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L52`
  - Function '_detect_docker_compose' has 48 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L52`
  - Function '_detect_docker_compose' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L241`
  - Function '_detect_shared_packages' has nesting depth 6 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L52`
  - Function '_detect_docker_compose' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L241`
  - Function '_detect_shared_packages' has complexity 11 (max: 10)

**`src/agentforge/core/discovery/analyzers/patterns.py`** (28 violations)

- ğŸŸ¡ **max-function-length** at `L484`
  - Function '_check_signal' has 88 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L484`
  - Function '_check_signal' has nesting depth 11 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L654`
  - Function '_detect_frameworks' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-parameter-count** at `L484`
  - Function '_check_signal' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L583`
  - Function '_add_match' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L484`
  - Function '_check_signal' has complexity 43 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L654`
  - Function '_detect_frameworks' has complexity 15 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (715 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L398`
  - Class 'PatternAnalyzer' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L43`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L484`
  - Function '_check_signal' has 8 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L583`
  - Function '_add_match' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L444`
  - Function '_analyze_file' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L484`
  - Function '_check_signal' has 88 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L602`
  - Function '_aggregate_patterns' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L654`
  - Function '_detect_frameworks' has 39 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L484`
  - Function '_check_signal' has nesting depth 11 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L654`
  - Function '_detect_frameworks' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L484`
  - Function '_check_signal' has complexity 43 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L654`
  - Function '_detect_frameworks' has complexity 15 (max: 10)

**`src/agentforge/core/discovery/analyzers/structure.py`** (17 violations)

- ğŸŸ¡ **max-nesting-depth** at `L183`
  - Function '_detect_layer' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L183`
  - Function '_detect_layer' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L268`
  - Function '_detect_architecture_style' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (549 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L89`
  - Class 'StructureAnalyzer' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L183`
  - Function '_detect_layer' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L226`
  - Function '_aggregate_layers' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L268`
  - Function '_detect_architecture_style' has 42 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L440`
  - Function '_detect_dotnet_layers' has 48 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L183`
  - Function '_detect_layer' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L183`
  - Function '_detect_layer' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L268`
  - Function '_detect_architecture_style' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L172`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L363`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/analyzers/test_linkage.py`** (10 violations)

- ğŸŸ¡ **max-function-length** at `L36`
  - Function 'analyze' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L135`
  - Function '_extract_imports' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'TestLinkageAnalyzer' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **file-structure** at `file`
  - Test file outside tests/ directory
  - ğŸ’¡ *Move test files to tests/ directory*
- ğŸŸ¡ **file-structure** at `file`
  - Test file outside tests/ directory
  - ğŸ’¡ *Move test files to tests/ directory*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L36`
  - Function 'analyze' has 53 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L135`
  - Function '_extract_imports' has nesting depth 5 (max: 4)

**`src/agentforge/core/discovery/domain.py`** (9 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (511 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L473`
  - Function 'to_dict' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L104`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L390`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L475`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L329`
  - Boolean function 'contains_path' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/discovery/generators/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/generators/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/generators/__pycache__/as_built_spec.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/as_built_spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/as_built_spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/generators/__pycache__/lineage_embedder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/lineage_embedder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/lineage_embedder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/generators/__pycache__/profile.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/profile.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/generators/__pycache__/profile.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/generators/as_built_spec.py`** (14 violations)

- ğŸŸ¡ **max-nesting-depth** at `L323`
  - Function '_match_test_methods' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L296`
  - Function '_classify_class' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L107`
  - Class 'AsBuiltSpecGenerator' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L72`
  - Function 'to_dict' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L382`
  - Function 'generate_lineage_updates' has 35 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L323`
  - Function '_match_test_methods' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L296`
  - Function '_classify_class' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L139`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L142`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L148`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/generators/lineage_embedder.py`** (12 violations)

- ğŸŸ¡ **max-function-length** at `L122`
  - Function 'embed_file' has 68 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L227`
  - Function '_find_existing_lineage' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L300`
  - Function '_insert_lineage_block' has complexity 18 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L50`
  - Class 'LineageEmbedder' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L122`
  - Function 'embed_file' has 68 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L300`
  - Function '_insert_lineage_block' has 38 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L227`
  - Function '_find_existing_lineage' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L300`
  - Function '_insert_lineage_block' has complexity 18 (max: 10)
- ğŸ”µ **descriptive-naming** at `L117`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/generators/profile.py`** (17 violations)

- ğŸŸ¡ **max-parameter-count** at `L46`
  - Function 'generate' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'ProfileGenerator' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L255`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L46`
  - Function 'generate' has 7 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L46`
  - Function 'generate' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L194`
  - Function '_profile_to_dict' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L251`
  - Function '_dict_to_profile' has 45 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L239`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/manager.py`** (79 violations)

- ğŸŸ¡ **max-function-length** at `L129`
  - Function 'discover' has 75 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L615`
  - Function 'discover' has 80 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L734`
  - Function '_analyze_zone' has 87 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L859`
  - Function '_generate_multi_zone_profile' has 61 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L222`
  - Function '_run_phase' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L129`
  - Function 'discover' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L261`
  - Function '_detect_languages' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L615`
  - Function 'discover' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L734`
  - Function '_analyze_zone' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L859`
  - Function '_generate_multi_zone_profile' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (974 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-print-statements** at `L310`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L312`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L344`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L345`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L346`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L368`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L370`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L371`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L390`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L418`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L419`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L420`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L484`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L520`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L522`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L536`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L545`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L572`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L645`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L647`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L852`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L855`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L857`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L973`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L84`
  - Class 'DiscoveryManager' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L561`
  - Class 'MultiZoneDiscoveryManager' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **no-type-ignore-without-code** at `L48`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L127`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **no-type-ignore-without-code** at `L48`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L127`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **no-type-ignore-without-code** at `L48`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L127`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **no-type-ignore-without-code** at `L48`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸ”µ **no-type-ignore-without-code** at `L127`
  - Forbidden pattern found: '# type: ignore'
  - ğŸ’¡ *Use '# type: ignore[error-code]' instead*
- ğŸŸ¡ **max-line-length** at `L855`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L129`
  - Function 'discover' has 75 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L222`
  - Function '_run_phase' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L261`
  - Function '_detect_languages' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L432`
  - Function '_generate_profile' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L488`
  - Function '_generate_as_built_specs' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L615`
  - Function 'discover' has 80 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L734`
  - Function '_analyze_zone' has 87 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L859`
  - Function '_generate_multi_zone_profile' has 61 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L222`
  - Function '_run_phase' has nesting depth 6 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L129`
  - Function 'discover' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L261`
  - Function '_detect_languages' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L615`
  - Function 'discover' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L734`
  - Function '_analyze_zone' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L859`
  - Function '_generate_multi_zone_profile' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L954`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L169`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L230`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L234`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/providers/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/providers/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/providers/__pycache__/base.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/providers/__pycache__/dotnet_provider.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/dotnet_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/dotnet_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/providers/__pycache__/python_provider.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/python_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/providers/__pycache__/python_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/providers/base.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L60`
  - Class 'LanguageProvider' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/discovery/providers/dotnet_provider.py`** (26 violations)

- ğŸŸ¡ **max-function-length** at `L104`
  - Function '_parse_csproj' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L304`
  - Function '_extract_symbols_regex' has 82 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L549`
  - Function 'count_lines' has nesting depth 7 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L104`
  - Function '_parse_csproj' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L304`
  - Function '_extract_symbols_regex' has complexity 15 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L493`
  - Function 'detect_layer_from_project_name' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L549`
  - Function 'count_lines' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-class-size** at `L19`
  - Class 'DotNetProvider' has 21 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (585 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L19`
  - Class 'DotNetProvider' has 21 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'DotNetProvider' has 21 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L104`
  - Function '_parse_csproj' has 57 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L304`
  - Function '_extract_symbols_regex' has 82 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L412`
  - Function 'get_imports' has 36 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L549`
  - Function 'count_lines' has nesting depth 7 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L104`
  - Function '_parse_csproj' has complexity 19 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L304`
  - Function '_extract_symbols_regex' has complexity 15 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L493`
  - Function 'detect_layer_from_project_name' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L549`
  - Function 'count_lines' has complexity 11 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L19`
  - Class 'DotNetProvider' has 21 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L67`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L106`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L245`
  - Boolean function '_ensure_lsp' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/discovery/providers/python_provider.py`** (32 violations)

- ğŸŸ¡ **max-function-length** at `L786`
  - Function '_get_parameter_suggestions' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L477`
  - Function 'suggest_extractions' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L666`
  - Function '_get_complexity_suggestions' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L718`
  - Function '_get_length_suggestions' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L477`
  - Function 'suggest_extractions' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L609`
  - Function 'get_violation_context' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L786`
  - Function '_get_parameter_suggestions' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-class-size** at `L111`
  - Class 'PythonProvider' has 38 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (970 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L111`
  - Class 'PythonProvider' has 38 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L41`
  - Class 'ComplexityVisitor' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'PythonProvider' has 38 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L304`
  - Function '_process_function_node' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L609`
  - Function 'get_violation_context' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L666`
  - Function '_get_complexity_suggestions' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L786`
  - Function '_get_parameter_suggestions' has 51 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L477`
  - Function 'suggest_extractions' has nesting depth 6 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L666`
  - Function '_get_complexity_suggestions' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L718`
  - Function '_get_length_suggestions' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L477`
  - Function 'suggest_extractions' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L609`
  - Function 'get_violation_context' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L786`
  - Function '_get_parameter_suggestions' has complexity 19 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L111`
  - Class 'PythonProvider' has 38 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L158`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L188`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L925`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L384`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/discovery/zones/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/zones/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/zones/__pycache__/detector.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/detector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/detector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/zones/__pycache__/merger.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/merger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/discovery/zones/__pycache__/merger.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/discovery/zones/detector.py`** (5 violations)

- ğŸŸ¡ **no-print-statements** at `L151`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L53`
  - Class 'ZoneDetector' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/discovery/zones/merger.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'ZoneMerger' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L59`
  - Function '_merge_hybrid' has 38 lines (max: 30)

**`src/agentforge/core/embedding_providers.py`** (13 violations)

- ğŸŸ¡ **no-print-statements** at `L107`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L303`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L41`
  - Class 'EmbeddingProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L77`
  - Class 'LocalEmbeddingProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L135`
  - Class 'OpenAIEmbeddingProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L193`
  - Class 'VoyageEmbeddingProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L255`
  - Function 'get_embedding_provider' has 44 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L320`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L67`
  - Boolean function 'requires_api_key' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/generate/__init__.py`** (1 violations)

- ğŸŸ¡ **function-size-limit** at `L43`
  - Function '__getattr__' has 33 lines (max: 30)

**`src/agentforge/core/generate/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/engine.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/engine.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/engine.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/parser.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/parser.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/parser.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/prompt_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/prompt_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/prompt_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/provider.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/__pycache__/writer.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/writer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/generate/__pycache__/writer.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/generate/domain.py`** (8 violations)

- ğŸŸ¡ **max-parameter-count** at `L318`
  - Function 'success_result' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L134`
  - Class 'GeneratedFile' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L175`
  - Class 'GenerationContext' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L264`
  - Class 'GenerationResult' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L318`
  - Function 'success_result' has 6 parameters (max: 5)

**`src/agentforge/core/generate/engine.py`** (11 violations)

- ğŸŸ¡ **max-function-length** at `L76`
  - Function 'generate' has 56 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'GenerationEngine' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L220`
  - Class 'GenerationSession' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L76`
  - Function 'generate' has 56 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L260`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L279`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L298`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L319`
  - Boolean function 'all_succeeded' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/generate/parser.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'ResponseParser' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/generate/prompt_builder.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'PromptBuilder' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/generate/provider.py`** (19 violations)

- ğŸŸ¡ **max-function-length** at `L138`
  - Function 'generate' has 61 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L138`
  - Function 'generate' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **no-print-statements** at `L281`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L282`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L283`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L284`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L285`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L286`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L287`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L288`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'LLMProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L77`
  - Class 'ClaudeProvider' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L226`
  - Class 'ManualProvider' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L138`
  - Function 'generate' has 61 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L261`
  - Function 'generate' has 39 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L138`
  - Function 'generate' has complexity 11 (max: 10)

**`src/agentforge/core/generate/writer.py`** (5 violations)

- ğŸ”µ **use-pathlib** at `L241`
  - Forbidden pattern found: 'os.path.exists'
  - ğŸ’¡ *Use pathlib.Path: path.exists(), path.is_file(), path / 'subdir'*
- ğŸ”µ **single-responsibility-modules** at `L38`
  - Class 'CodeWriter' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/__init__.py`** (4 violations)

- ğŸ”µ **max-imports** at `L1`
  - File has 102 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 102 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 102 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 102 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*

**`src/agentforge/core/harness/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/action_parser.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/action_parser.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/action_parser.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/agent_monitor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_monitor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_monitor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/agent_orchestrator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/agent_prompt_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_prompt_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/agent_prompt_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/auto_fix_daemon.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/auto_fix_daemon.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/auto_fix_daemon.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/checkpoint_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/checkpoint_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/checkpoint_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/conformance_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/conformance_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/conformance_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/escalation_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/escalation_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/escalation_notifier.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_notifier.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/escalation_notifier.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/execution_context_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/execution_context_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/execution_context_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/fix_violation_workflow.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/fix_violation_workflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/fix_violation_workflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/git_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/git_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/git_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/llm_executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/llm_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/llm_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/llm_executor_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/llm_executor_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/llm_executor_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/memory_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/memory_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/memory_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/memory_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/monitor_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/monitor_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/monitor_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/orchestrator_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/orchestrator_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/orchestrator_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/python_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/python_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/python_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/recovery_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/recovery_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/recovery_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/recovery_executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/recovery_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/recovery_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/refactoring_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/refactoring_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/refactoring_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/rollback_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/rollback_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/rollback_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/session_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/session_manager.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_manager.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/session_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/session_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/test_runner_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/tool_domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/tool_executor_bridge.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_executor_bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_executor_bridge.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/tool_registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/tool_selector.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_selector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/tool_selector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/__pycache__/violation_tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/violation_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/__pycache__/violation_tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/action_parser.py`** (11 violations)

- ğŸŸ¡ **max-nesting-depth** at `L45`
  - Function 'parse' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L221`
  - Function 'parse_lenient' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L45`
  - Function 'parse' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'ActionParser' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L45`
  - Function 'parse' has 38 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L45`
  - Function 'parse' has nesting depth 6 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L221`
  - Function 'parse_lenient' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L45`
  - Function 'parse' has complexity 13 (max: 10)

**`src/agentforge/core/harness/agent_monitor.py`** (20 violations)

- ğŸŸ¡ **max-function-length** at `L114`
  - Function 'detect_loop' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L310`
  - Function 'get_health' has 76 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L114`
  - Function 'detect_loop' has complexity 20 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L182`
  - Function 'detect_drift' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L232`
  - Function 'detect_thrashing' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L310`
  - Function 'get_health' has complexity 23 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L42`
  - Class 'AgentMonitor' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L114`
  - Function 'detect_loop' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L182`
  - Function 'detect_drift' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L232`
  - Function 'detect_thrashing' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L310`
  - Function 'get_health' has 76 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L114`
  - Function 'detect_loop' has complexity 20 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L182`
  - Function 'detect_drift' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L232`
  - Function 'detect_thrashing' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L310`
  - Function 'get_health' has complexity 23 (max: 10)
- ğŸ”µ **descriptive-naming** at `L50`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L83`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/agent_orchestrator.py`** (26 violations)

- ğŸŸ¡ **max-function-length** at `L98`
  - Function 'start_session' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L227`
  - Function 'execute_step' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L313`
  - Function '_execute_llm_step' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L45`
  - Function '__init__' has 10 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L98`
  - Function 'start_session' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (706 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L34`
  - Class 'AgentOrchestrator' has 17 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L34`
  - Class 'AgentOrchestrator' has 17 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L45`
  - Function '__init__' has 10 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L98`
  - Function 'start_session' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L45`
  - Function '__init__' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L98`
  - Function 'start_session' has 54 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L227`
  - Function 'execute_step' has 65 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L313`
  - Function '_execute_llm_step' has 65 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L396`
  - Function 'run_until_complete' has 31 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L34`
  - Class 'AgentOrchestrator' has 17 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L299`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L414`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L198`
  - Boolean function 'resume_session' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L435`
  - Boolean function 'pause_session' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L562`
  - Boolean function 'handle_escalation' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L600`
  - Boolean function 'complete_session' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L634`
  - Boolean function 'fail_session' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/agent_prompt_builder.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L84`
  - Class 'AgentPromptBuilder' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L23`
  - Line exceeds 120 characters (125 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/auto_fix_daemon.py`** (8 violations)

- ğŸ”µ **single-responsibility-modules** at `L92`
  - Class 'AutoFixDaemon' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L190`
  - Function 'run_once' has 43 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L353`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L130`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/checkpoint_manager.py`** (10 violations)

- ğŸŸ¡ **max-function-length** at `L36`
  - Function 'create_checkpoint' has 55 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L182`
  - Function 'delete_checkpoint' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'CheckpointManager' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L36`
  - Function 'create_checkpoint' has 55 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L182`
  - Function 'delete_checkpoint' has nesting depth 5 (max: 4)
- ğŸŸ¡ **boolean-naming** at `L108`
  - Boolean function 'restore_checkpoint' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L182`
  - Boolean function 'delete_checkpoint' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/conformance_tools.py`** (16 violations)

- ğŸŸ¡ **max-function-length** at `L243`
  - Function 'run_conformance_check' has 69 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L243`
  - Function 'run_conformance_check' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L330`
  - Function 'get_check_definition' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'ConformanceTools' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L88`
  - Function 'check_file' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L145`
  - Function 'verify_violation_fixed' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L243`
  - Function 'run_conformance_check' has 69 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L330`
  - Function 'get_check_definition' has 49 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L243`
  - Function 'run_conformance_check' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L330`
  - Function 'get_check_definition' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L218`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L175`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/escalation_domain.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/escalation_manager.py`** (14 violations)

- ğŸŸ¡ **max-parameter-count** at `L49`
  - Function 'create_escalation' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'EscalationManager' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L49`
  - Function 'create_escalation' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'create_escalation' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L111`
  - Function 'resolve_escalation' has 34 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L270`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L278`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L192`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L88`
  - Boolean function 'acknowledge_escalation' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L246`
  - Boolean function 'cancel_escalation' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/escalation_notifier.py`** (25 violations)

- ğŸŸ¡ **max-nesting-depth** at `L45`
  - Function 'notify' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **no-print-statements** at `L88`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L89`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L90`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L91`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L92`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L93`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L94`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L97`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L99`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L102`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L104`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L106`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'EscalationNotifier' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L170`
  - Function 'format_escalation' has 50 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L45`
  - Function 'notify' has nesting depth 6 (max: 4)
- ğŸ”µ **descriptive-naming** at `L133`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L163`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L75`
  - Boolean function 'notify_cli' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L111`
  - Boolean function 'notify_file' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L142`
  - Boolean function 'notify_webhook' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/execution_context_store.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'ExecutionContextStore' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L98`
  - Function 'append_step' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L160`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L177`
  - Boolean function 'delete_context' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/fix_violation_workflow.py`** (14 violations)

- ğŸŸ¡ **max-function-length** at `L227`
  - Function 'fix_violation' has 83 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L227`
  - Function 'fix_violation' has nesting depth 8 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L339`
  - Function '_determine_phase' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L227`
  - Function 'fix_violation' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L339`
  - Function '_determine_phase' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L150`
  - Class 'FixViolationWorkflow' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L227`
  - Function 'fix_violation' has 83 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L227`
  - Function 'fix_violation' has nesting depth 8 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L339`
  - Function '_determine_phase' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L227`
  - Function 'fix_violation' has complexity 19 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L339`
  - Function '_determine_phase' has complexity 16 (max: 10)

**`src/agentforge/core/harness/git_tools.py`** (11 violations)

- ğŸ”µ **single-responsibility-modules** at `L20`
  - Class 'GitTools' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L180`
  - Function 'git_commit' has 44 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L65`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L102`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L221`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L254`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/llm_executor.py`** (12 violations)

- ğŸŸ¡ **max-parameter-count** at `L45`
  - Function '__init__' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L34`
  - Class 'LLMExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L45`
  - Function '__init__' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L138`
  - Function '_call_llm' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L230`
  - Function '_execute_single_tool' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L155`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L252`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L297`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/llm_executor_domain.py`** (11 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L56`
  - Function '_infer_category' has complexity 15 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'ToolCall' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L97`
  - Class 'ToolResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L153`
  - Class 'AgentAction' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L228`
  - Class 'ConversationMessage' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L283`
  - Class 'ExecutionContext' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L357`
  - Class 'StepResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L56`
  - Function '_infer_category' has complexity 15 (max: 10)

**`src/agentforge/core/harness/memory_domain.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'MemoryEntry' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/memory_manager.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L20`
  - Class 'MemoryManager' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/memory_store.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'MemoryStore' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/minimal_context/__init__.py`** (4 violations)

- ğŸ”µ **max-imports** at `L1`
  - File has 44 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 44 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 44 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 44 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*

**`src/agentforge/core/harness/minimal_context/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/adaptive_budget.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/adaptive_budget.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/adaptive_budget.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/context_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/context_models.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_models.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_models.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/context_schemas.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_schemas.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/context_schemas.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/enhanced_context_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/enhanced_context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/enhanced_context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/executor_v2.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/executor_v2.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/executor_v2.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/fix_workflow.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/fix_workflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/fix_workflow.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/loop_detector.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/loop_detector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/loop_detector.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/native_tool_executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/native_tool_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/native_tool_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/phase_machine.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/phase_machine.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/phase_machine.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/state_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/state_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/state_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/step_outcome.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/step_outcome.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/step_outcome.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/template_context_builder.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/template_context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/template_context_builder.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/token_budget.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/token_budget.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/token_budget.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/understanding.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/understanding.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/understanding.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/__pycache__/working_memory.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/working_memory.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/__pycache__/working_memory.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/adaptive_budget.py`** (11 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L191`
  - Function '_update_progress' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L30`
  - Class 'AdaptiveBudget' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L38`
  - Function '__init__' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L75`
  - Function 'check_continue' has 39 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L191`
  - Function '_update_progress' has complexity 13 (max: 10)
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L159`
  - Boolean function '_detect_runaway_legacy' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L191`
  - Boolean function '_update_progress' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/minimal_context/context_models.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L176`
  - Class 'Understanding' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L300`
  - Class 'AgentContext' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L201`
  - Function 'compact' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L334`
  - Function 'to_yaml' has 34 lines (max: 30)

**`src/agentforge/core/harness/minimal_context/executor.py`** (48 violations)

- ğŸŸ¡ **max-function-length** at `L103`
  - Function '__init__' has 71 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L255`
  - Function '_handle_phase_transition' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L345`
  - Function 'execute_step' has 92 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L595`
  - Function '_execute_action' has 52 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L704`
  - Function 'run_until_complete' has 127 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L857`
  - Function 'run_task_native' has 107 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L255`
  - Function '_handle_phase_transition' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L704`
  - Function 'run_until_complete' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-parameter-count** at `L103`
  - Function '__init__' has 11 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L255`
  - Function '_handle_phase_transition' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L704`
  - Function 'run_until_complete' has complexity 30 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L857`
  - Function 'run_task_native' has complexity 20 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (1105 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-print-statements** at `L806`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L809`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L827`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L829`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”´ **minimal-context-validation** at `file`
  - Missing response parameter validation method: _validate_response_parameters
  - ğŸ’¡ *Add _validate_response_parameters method for runtime validation*
- ğŸŸ¡ **no-god-classes** at `L80`
  - Class 'MinimalContextExecutor' has 20 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L80`
  - Class 'MinimalContextExecutor' has 20 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L103`
  - Function '__init__' has 11 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L103`
  - Function '__init__' has 71 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L219`
  - Function '_build_phase_context' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L255`
  - Function '_handle_phase_transition' has 54 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L345`
  - Function 'execute_step' has 92 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L513`
  - Function '_parse_action' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L555`
  - Function '_parse_and_validate_yaml' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L595`
  - Function '_execute_action' has 52 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L704`
  - Function 'run_until_complete' has 127 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L857`
  - Function 'run_task_native' has 107 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L992`
  - Function '_process_native_response' has 46 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L255`
  - Function '_handle_phase_transition' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L704`
  - Function 'run_until_complete' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L255`
  - Function '_handle_phase_transition' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L704`
  - Function 'run_until_complete' has complexity 30 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L857`
  - Function 'run_task_native' has complexity 20 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L80`
  - Class 'MinimalContextExecutor' has 20 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L471`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L524`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L537`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L640`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/fix_workflow.py`** (108 violations)

- ğŸŸ¡ **max-function-length** at `L177`
  - Function '_with_test_verification' has 80 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L289`
  - Function '_validate_python_file' has 59 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L561`
  - Function '_action_replace_lines' has 78 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L665`
  - Function '_action_insert_lines' has 70 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L806`
  - Function '_wrap_extract_function' has 95 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L941`
  - Function '_action_run_check' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L1154`
  - Function '_precompute_violation_context' has 111 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L1353`
  - Function 'fix_violation' has 108 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L195`
  - Function 'wrapper' has 64 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L816`
  - Function 'wrapper' has 84 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L1154`
  - Function '_precompute_violation_context' has nesting depth 10 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L124`
  - Function '_build_action_executors' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L177`
  - Function '_with_test_verification' has complexity 20 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L366`
  - Function '_action_read_file' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L431`
  - Function '_action_edit_file' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L561`
  - Function '_action_replace_lines' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L665`
  - Function '_action_insert_lines' has complexity 22 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L806`
  - Function '_wrap_extract_function' has complexity 27 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L941`
  - Function '_action_run_check' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L1154`
  - Function '_precompute_violation_context' has complexity 36 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L195`
  - Function 'wrapper' has complexity 20 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L816`
  - Function 'wrapper' has complexity 27 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-class-size** at `L50`
  - Class 'MinimalContextFixWorkflow' has 21 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (1584 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-print-statements** at `L332`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L334`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L337`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L340`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-god-classes** at `L50`
  - Class 'MinimalContextFixWorkflow' has 21 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L50`
  - Class 'MinimalContextFixWorkflow' has 21 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L476`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L727`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1118`
  - Line exceeds 120 characters (150 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1133`
  - Line exceeds 120 characters (163 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L1458`
  - Line exceeds 120 characters (151 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L72`
  - Function '__init__' has 36 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L124`
  - Function '_build_action_executors' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L177`
  - Function '_with_test_verification' has 80 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L289`
  - Function '_validate_python_file' has 59 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L366`
  - Function '_action_read_file' has 50 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L431`
  - Function '_action_edit_file' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L485`
  - Function '_fuzzy_find_and_replace' has 50 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L561`
  - Function '_action_replace_lines' has 78 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L665`
  - Function '_action_insert_lines' has 70 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L759`
  - Function '_action_write_file' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L806`
  - Function '_wrap_extract_function' has 95 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L941`
  - Function '_action_run_check' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1012`
  - Function '_refresh_precomputed_context' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1154`
  - Function '_precompute_violation_context' has 111 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1302`
  - Function '_validate_extraction_suggestions' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1353`
  - Function 'fix_violation' has 108 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1492`
  - Function 'resume_task' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L195`
  - Function 'wrapper' has 64 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L816`
  - Function 'wrapper' has 84 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L1154`
  - Function '_precompute_violation_context' has nesting depth 10 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L124`
  - Function '_build_action_executors' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L177`
  - Function '_with_test_verification' has complexity 20 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L366`
  - Function '_action_read_file' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L431`
  - Function '_action_edit_file' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L561`
  - Function '_action_replace_lines' has complexity 19 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L665`
  - Function '_action_insert_lines' has complexity 22 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L806`
  - Function '_wrap_extract_function' has complexity 27 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L941`
  - Function '_action_run_check' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L1154`
  - Function '_precompute_violation_context' has complexity 36 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L195`
  - Function 'wrapper' has complexity 20 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L816`
  - Function 'wrapper' has complexity 27 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L50`
  - Class 'MinimalContextFixWorkflow' has 21 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L1105`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L345`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L831`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L955`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L1045`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L1072`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L1110`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L131`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L960`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L962`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L1077`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L1079`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/loop_detector.py`** (15 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L212`
  - Function '_check_identical' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L288`
  - Function '_check_semantic_loop' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L338`
  - Function '_check_no_progress' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L79`
  - Class 'LoopDetector' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L248`
  - Function '_check_error_cycle' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L288`
  - Function '_check_semantic_loop' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L338`
  - Function '_check_no_progress' has 42 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L388`
  - Function '_suggest_for_identical' has 46 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L212`
  - Function '_check_identical' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L288`
  - Function '_check_semantic_loop' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L338`
  - Function '_check_no_progress' has complexity 11 (max: 10)
- ğŸŸ¡ **boolean-naming** at `L65`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/minimal_context/native_tool_executor.py`** (7 violations)

- ğŸŸ¡ **max-function-length** at `L112`
  - Function 'execute' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L63`
  - Class 'NativeToolExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L112`
  - Function 'execute' has 53 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L151`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/phase_machine.py`** (14 violations)

- ğŸŸ¡ **max-function-length** at `L150`
  - Function '_setup_default_transitions' has 104 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L428`
  - Function 'should_auto_transition' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (511 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L128`
  - Class 'PhaseMachine' has 18 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L128`
  - Class 'PhaseMachine' has 18 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L150`
  - Function '_setup_default_transitions' has 104 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L274`
  - Function '_setup_default_phase_configs' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L428`
  - Function 'should_auto_transition' has 36 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L428`
  - Function 'should_auto_transition' has complexity 11 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L128`
  - Class 'PhaseMachine' has 18 methods (max: 15)
- ğŸŸ¡ **boolean-naming** at `L351`
  - Boolean function 'transition' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/minimal_context/state_store.py`** (17 violations)

- ğŸŸ¡ **max-parameter-count** at `L211`
  - Function 'create_task' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L385`
  - Function 'record_action' has 8 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (544 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L196`
  - Class 'TaskStateStore' has 18 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L131`
  - Class 'TaskState' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L196`
  - Class 'TaskStateStore' has 18 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L211`
  - Function 'create_task' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L385`
  - Function 'record_action' has 8 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L211`
  - Function 'create_task' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L269`
  - Function 'load' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L385`
  - Function 'record_action' has 45 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L196`
  - Class 'TaskStateStore' has 18 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L430`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L448`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L536`
  - Boolean function 'delete_task' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/minimal_context/step_outcome.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L55`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/template_context_builder.py`** (24 violations)

- ğŸŸ¡ **max-nesting-depth** at `L325`
  - Function '_get_precomputed' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L325`
  - Function '_get_precomputed' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L362`
  - Function '_get_domain_context' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L404`
  - Function '_format_user_message' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (521 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L68`
  - Class 'TemplateContextBuilder' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L239`
  - Line exceeds 120 characters (131 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L116`
  - Function 'build' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L267`
  - Function '_build_state_spec' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L404`
  - Function '_format_user_message' has 31 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L325`
  - Function '_get_precomputed' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L325`
  - Function '_get_precomputed' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L362`
  - Function '_get_domain_context' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L404`
  - Function '_format_user_message' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L425`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L435`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/constants.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/constants.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/constants.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/file_handlers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/file_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/file_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/search_handlers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/search_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/search_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/terminal_handlers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/terminal_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/terminal_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/verify_handlers.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/verify_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/harness/minimal_context/tool_handlers/__pycache__/verify_handlers.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/harness/minimal_context/tool_handlers/constants.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/minimal_context/tool_handlers/file_handlers.py`** (27 violations)

- ğŸŸ¡ **max-function-length** at `L134`
  - Function 'create_edit_file_handler' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L222`
  - Function 'create_replace_lines_handler' has 60 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L308`
  - Function 'create_insert_lines_handler' has 62 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L322`
  - Function 'handler' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L134`
  - Function 'create_edit_file_handler' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L222`
  - Function 'create_replace_lines_handler' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L308`
  - Function 'create_insert_lines_handler' has complexity 20 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L149`
  - Function 'handler' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L236`
  - Function 'handler' has complexity 15 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L322`
  - Function 'handler' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L31`
  - Function 'create_read_file_handler' has 39 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L85`
  - Function 'create_write_file_handler' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L134`
  - Function 'create_edit_file_handler' has 57 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L222`
  - Function 'create_replace_lines_handler' has 60 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L308`
  - Function 'create_insert_lines_handler' has 62 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L149`
  - Function 'handler' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L236`
  - Function 'handler' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L322`
  - Function 'handler' has 51 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L134`
  - Function 'create_edit_file_handler' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L222`
  - Function 'create_replace_lines_handler' has complexity 16 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L308`
  - Function 'create_insert_lines_handler' has complexity 20 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L149`
  - Function 'handler' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L236`
  - Function 'handler' has complexity 15 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L322`
  - Function 'handler' has complexity 19 (max: 10)

**`src/agentforge/core/harness/minimal_context/tool_handlers/search_handlers.py`** (41 violations)

- ğŸŸ¡ **max-function-length** at `L50`
  - Function 'create_search_code_handler' has 104 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L188`
  - Function 'create_load_context_handler' has 68 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L281`
  - Function 'create_find_related_handler' has 71 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L202`
  - Function 'handler' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L296`
  - Function 'handler' has 59 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L50`
  - Function 'create_search_code_handler' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L188`
  - Function 'create_load_context_handler' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L281`
  - Function 'create_find_related_handler' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L84`
  - Function '_regex_search' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L202`
  - Function 'handler' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L296`
  - Function 'handler' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L50`
  - Function 'create_search_code_handler' has complexity 26 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L188`
  - Function 'create_load_context_handler' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L281`
  - Function 'create_find_related_handler' has complexity 27 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L84`
  - Function '_regex_search' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L202`
  - Function 'handler' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L296`
  - Function 'handler' has complexity 26 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L50`
  - Function 'create_search_code_handler' has 104 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L188`
  - Function 'create_load_context_handler' has 68 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L281`
  - Function 'create_find_related_handler' has 71 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L84`
  - Function '_regex_search' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L145`
  - Function '_semantic_search' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L202`
  - Function 'handler' has 57 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L296`
  - Function 'handler' has 59 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L50`
  - Function 'create_search_code_handler' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L188`
  - Function 'create_load_context_handler' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L281`
  - Function 'create_find_related_handler' has nesting depth 6 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L84`
  - Function '_regex_search' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L202`
  - Function 'handler' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L296`
  - Function 'handler' has nesting depth 6 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L50`
  - Function 'create_search_code_handler' has complexity 26 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L188`
  - Function 'create_load_context_handler' has complexity 14 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L281`
  - Function 'create_find_related_handler' has complexity 27 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L84`
  - Function '_regex_search' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L202`
  - Function 'handler' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L296`
  - Function 'handler' has complexity 26 (max: 10)
- ğŸ”µ **descriptive-naming** at `L204`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'item' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/tool_handlers/terminal_handlers.py`** (27 violations)

- ğŸŸ¡ **max-function-length** at `L88`
  - Function 'create_cannot_fix_handler' has 85 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L103`
  - Function 'handler' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L88`
  - Function 'create_cannot_fix_handler' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L103`
  - Function 'handler' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L317`
  - Line exceeds 120 characters (146 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L318`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L88`
  - Function 'create_cannot_fix_handler' has 85 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L204`
  - Function 'create_request_help_handler' has 50 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L274`
  - Function 'create_plan_fix_handler' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L103`
  - Function 'handler' has 57 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L219`
  - Function 'handler' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L289`
  - Function 'handler' has 31 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L88`
  - Function 'create_cannot_fix_handler' has complexity 16 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L103`
  - Function 'handler' has complexity 11 (max: 10)

**`src/agentforge/core/harness/minimal_context/tool_handlers/types.py`** (8 violations)

- ğŸŸ¡ **max-nesting-depth** at `L33`
  - Function 'validate_path_security' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸ”µ **single-responsibility-modules** at `L104`
  - Class 'HandlerContext' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **prefer-typing-extensions** at `L21`
  - Forbidden pattern found: 'from typing import Any, Protocol'
  - ğŸ’¡ *Import from typing_extensions for Python < 3.10 compatibility*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L33`
  - Function 'validate_path_security' has 47 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L33`
  - Function 'validate_path_security' has nesting depth 5 (max: 4)

**`src/agentforge/core/harness/minimal_context/tool_handlers/verify_handlers.py`** (56 violations)

- ğŸŸ¡ **max-function-length** at `L35`
  - Function 'create_run_check_handler' has 82 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L146`
  - Function 'create_run_check_handler_v2' has 89 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L268`
  - Function 'create_run_tests_handler' has 75 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L370`
  - Function 'create_validate_python_handler' has 70 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L385`
  - Function 'handler' has 58 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L35`
  - Function 'create_run_check_handler' has complexity 25 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L146`
  - Function 'create_run_check_handler_v2' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L268`
  - Function 'create_run_tests_handler' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L370`
  - Function 'create_validate_python_handler' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L50`
  - Function 'handler' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L385`
  - Function 'handler' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **no-print-statements** at `L421`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L423`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L426`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L429`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L136`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L320`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L35`
  - Function 'create_run_check_handler' has 82 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L146`
  - Function 'create_run_check_handler_v2' has 89 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L268`
  - Function 'create_run_tests_handler' has 75 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L370`
  - Function 'create_validate_python_handler' has 70 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L50`
  - Function 'handler' has 45 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L181`
  - Function '_check_violation_resolved' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L282`
  - Function 'handler' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L385`
  - Function 'handler' has 58 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L35`
  - Function 'create_run_check_handler' has complexity 25 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L146`
  - Function 'create_run_check_handler_v2' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L268`
  - Function 'create_run_tests_handler' has complexity 17 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L370`
  - Function 'create_validate_python_handler' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L50`
  - Function 'handler' has complexity 19 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L385`
  - Function 'handler' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L211`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L346`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L433`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L253`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L255`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L78`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L300`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L84`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L87`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/minimal_context/understanding.py`** (17 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (511 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L272`
  - Class 'UnderstandingExtractor' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L384`
  - Class 'FactStore' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L123`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L101`
  - Function '_build_conformance_rules' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L156`
  - Function '_build_test_rules' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L225`
  - Function '_build_extract_function_rules' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L62`
  - Function 'extract' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L306`
  - Function 'extract' has 39 lines (max: 30)

**`src/agentforge/core/harness/minimal_context/working_memory.py`** (19 violations)

- ğŸŸ¡ **max-parameter-count** at `L118`
  - Function 'add' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L395`
  - Function 'add_fact' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-class-size** at `L74`
  - Class 'WorkingMemoryManager' has 21 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (569 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L74`
  - Class 'WorkingMemoryManager' has 21 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L74`
  - Class 'WorkingMemoryManager' has 21 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L118`
  - Function 'add' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L395`
  - Function 'add_fact' has 7 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L118`
  - Function 'add' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L395`
  - Function 'add_fact' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L456`
  - Function 'get_facts' has 39 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L74`
  - Class 'WorkingMemoryManager' has 21 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L110`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L101`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L289`
  - Boolean function 'remove' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L355`
  - Boolean function 'pin' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L373`
  - Boolean function 'unpin' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/monitor_domain.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/orchestrator_domain.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/python_tools.py`** (17 violations)

- ğŸŸ¡ **max-function-length** at `L70`
  - Function 'analyze_function' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L70`
  - Function 'analyze_function' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'PythonTools' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L141`
  - Line exceeds 120 characters (141 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L70`
  - Function 'analyze_function' has 65 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L155`
  - Function 'get_symbols' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L205`
  - Function 'check_types' has 47 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L70`
  - Function 'analyze_function' has complexity 17 (max: 10)
- ğŸ”µ **descriptive-naming** at `L234`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/recovery_domain.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/recovery_executor.py`** (13 violations)

- ğŸŸ¡ **max-function-length** at `L133`
  - Function 'execute_action' has 60 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L133`
  - Function 'execute_action' has nesting depth 8 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'RecoveryExecutor' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L74`
  - Function 'execute_recovery' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L133`
  - Function 'execute_action' has 60 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L195`
  - Function 'checkpoint' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L227`
  - Function 'rollback' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L269`
  - Function 'summarize_context' has 48 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L133`
  - Function 'execute_action' has nesting depth 8 (max: 4)
- ğŸŸ¡ **boolean-naming** at `L412`
  - Boolean function '_check_cooldown' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/refactoring_tools.py`** (11 violations)

- ğŸŸ¡ **max-function-length** at `L50`
  - Function 'extract_function' has 63 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L130`
  - Function 'simplify_conditional' has 100 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L130`
  - Function 'simplify_conditional' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L23`
  - Class 'RefactoringTools' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L50`
  - Function 'extract_function' has 63 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L130`
  - Function 'simplify_conditional' has 100 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L130`
  - Function 'simplify_conditional' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L111`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/rollback_manager.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L49`
  - Class 'RollbackManager' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L65`
  - Function 'create_backup' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L150`
  - Function 'rollback' has 39 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L266`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L293`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L313`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/session_domain.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L30`
  - Class 'TokenBudget' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L95`
  - Class 'SessionContext' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/harness/session_manager.py`** (7 violations)

- ğŸŸ¡ **no-god-classes** at `L36`
  - Class 'SessionManager' has 17 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L36`
  - Class 'SessionManager' has 17 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L36`
  - Class 'SessionManager' has 17 methods (max: 15)
- ğŸŸ¡ **boolean-naming** at `L246`
  - Boolean function 'record_tokens' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/session_store.py`** (11 violations)

- ğŸ”µ **use-pathlib** at `L89`
  - Forbidden pattern found: 'os.path.exists'
  - ğŸ’¡ *Use pathlib.Path: path.exists(), path.is_file(), path / 'subdir'*
- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'SessionStore' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L165`
  - Function '_serialize' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L208`
  - Function '_deserialize' has 47 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L75`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L118`
  - Boolean function 'exists' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L147`
  - Boolean function 'delete' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/test_runner_tools.py`** (11 violations)

- ğŸ”µ **single-responsibility-modules** at `L15`
  - Class 'RunnerTools' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **file-structure** at `file`
  - Test file outside tests/ directory
  - ğŸ’¡ *Move test files to tests/ directory*
- ğŸŸ¡ **file-structure** at `file`
  - Test file outside tests/ directory
  - ğŸ’¡ *Move test files to tests/ directory*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L29`
  - Function 'run_tests' has 48 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L87`
  - Function 'run_single_test' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L126`
  - Function 'run_affected_tests' has 39 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L56`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L106`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/tool_domain.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L63`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/tool_executor_bridge.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'ToolExecutorBridge' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”´ **no-shell-true** at `L207`
  - Forbidden pattern found: 'subprocess.run(
                command,
                shell=True'
  - ğŸ’¡ *Pass command as list without shell=True: subprocess.run(['cmd', 'arg1', 'arg2'])*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L190`
  - Function '_execute_bash' has 35 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L172`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L207`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/tool_registry.py`** (6 violations)

- ğŸ”µ **single-responsibility-modules** at `L23`
  - Class 'ToolRegistry' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L84`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/harness/tool_selector.py`** (14 violations)

- ğŸŸ¡ **max-nesting-depth** at `L25`
  - Function 'get_tools' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L25`
  - Function 'get_tools' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L69`
  - Function 'detect_domain' has complexity 16 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'ToolSelector' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L25`
  - Function 'get_tools' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L69`
  - Function 'detect_domain' has 37 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L25`
  - Function 'get_tools' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L25`
  - Function 'get_tools' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L69`
  - Function 'detect_domain' has complexity 16 (max: 10)
- ğŸ”µ **descriptive-naming** at `L103`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L125`
  - Boolean function 'validate_tool_access' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/harness/violation_tools.py`** (14 violations)

- ğŸŸ¡ **max-function-length** at `L135`
  - Function 'list_violations' has 60 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L135`
  - Function 'list_violations' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L77`
  - Class 'ViolationTools' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L135`
  - Function 'list_violations' has 60 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L213`
  - Function 'get_violation_context' has 43 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L135`
  - Function 'list_violations' has complexity 14 (max: 10)
- ğŸ”µ **descriptive-naming** at `L230`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L240`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L123`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/init.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L40`
  - Function 'initialize_project' has 41 lines (max: 30)

**`src/agentforge/core/lineage/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/lineage/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/lineage/__pycache__/metadata.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__/metadata.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/lineage/__pycache__/metadata.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/lineage/metadata.py`** (9 violations)

- ğŸŸ¡ **max-parameter-count** at `L164`
  - Function 'generate_lineage_header' has 9 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L99`
  - Function 'parse_lineage_from_file' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L164`
  - Function 'generate_lineage_header' has 9 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L99`
  - Function 'parse_lineage_from_file' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L164`
  - Function 'generate_lineage_header' has 38 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L99`
  - Function 'parse_lineage_from_file' has complexity 11 (max: 10)

**`src/agentforge/core/llm/__init__.py`** (4 violations)

- ğŸ”µ **max-imports** at `L1`
  - File has 31 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 31 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 31 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 31 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*

**`src/agentforge/core/llm/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/client.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/client.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/client.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/factory.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/factory.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/factory.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/interface.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/interface.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/interface.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/recording.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/recording.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/recording.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/simulated.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/simulated.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/simulated.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/__pycache__/tools.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/llm/__pycache__/tools.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/llm/client.py`** (12 violations)

- ğŸŸ¡ **max-nesting-depth** at `L136`
  - Function '_build_request_params' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-parameter-count** at `L95`
  - Function 'complete' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L136`
  - Function '_build_request_params' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L46`
  - Class 'AnthropicLLMClient' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L95`
  - Function 'complete' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L136`
  - Function '_build_request_params' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L95`
  - Function 'complete' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L177`
  - Function '_parse_response' has 35 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L136`
  - Function '_build_request_params' has nesting depth 5 (max: 4)

**`src/agentforge/core/llm/factory.py`** (6 violations)

- ğŸ”µ **single-responsibility-modules** at `L59`
  - Class 'LLMClientFactory' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L81`
  - Function 'create' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L216`
  - Function 'create_for_testing' has 43 lines (max: 30)

**`src/agentforge/core/llm/interface.py`** (10 violations)

- ğŸŸ¡ **max-parameter-count** at `L188`
  - Function 'complete' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L229`
  - Function 'complete_with_tools' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L162`
  - Class 'LLMClient' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L188`
  - Function 'complete' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L229`
  - Function 'complete_with_tools' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L229`
  - Function 'complete_with_tools' has 50 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L284`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/llm/recording.py`** (10 violations)

- ğŸŸ¡ **max-parameter-count** at `L98`
  - Function 'complete' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-parameter-count** at `L141`
  - Function '_record_exchange' has 7 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L52`
  - Class 'RecordingLLMClient' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L98`
  - Function 'complete' has 6 parameters (max: 5)
- ğŸŸ¡ **parameter-count-limit** at `L141`
  - Function '_record_exchange' has 7 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L98`
  - Function 'complete' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L141`
  - Function '_record_exchange' has 32 lines (max: 30)

**`src/agentforge/core/llm/simulated.py`** (10 violations)

- ğŸŸ¡ **max-parameter-count** at `L393`
  - Function 'complete' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (503 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L128`
  - Class 'ScriptedResponseStrategy' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L216`
  - Class 'PatternMatchingStrategy' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L333`
  - Class 'SimulatedLLMClient' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L393`
  - Function 'complete' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L393`
  - Function 'complete' has 35 lines (max: 30)

**`src/agentforge/core/llm/tools.py`** (4 violations)

- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (819 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/lsp_adapter.py`** (12 violations)

- ğŸ”µ **single-responsibility-modules** at `L56`
  - Class 'LSPAdapter' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L189`
  - Function '_parse_document_symbols' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L180`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L270`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L336`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L77`
  - Boolean function 'initialize' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/lsp_adapter_cli.py`** (19 violations)

- ğŸŸ¡ **no-print-statements** at `L70`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L73`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L75`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L77`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L83`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L89`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L91`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L97`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L103`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L105`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L137`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L140`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L142`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L145`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L148`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L96`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/lsp_adapters.py`** (5 violations)

- ğŸ”µ **use-pathlib** at `L96`
  - Forbidden pattern found: 'os.path.isfile'
  - ğŸ’¡ *Use pathlib.Path: path.exists(), path.is_file(), path / 'subdir'*
- ğŸ”µ **single-responsibility-modules** at `L47`
  - Class 'OmniSharpAdapter' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/lsp_client.py`** (6 violations)

- ğŸŸ¡ **no-print-statements** at `L136`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L67`
  - Class 'LSPClient' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L182`
  - Function 'send_request' has 36 lines (max: 30)

**`src/agentforge/core/lsp_types.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/output_validator.py`** (17 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'OutputValidator' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L159`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L203`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L215`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L222`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L147`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L231`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L149`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L155`
  - Boolean function '_check_regex' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L173`
  - Boolean function '_check_field_equals' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L187`
  - Boolean function '_check_conditional' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L199`
  - Boolean function '_check_count_min' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L210`
  - Boolean function '_eval_simple_condition' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/__init__.py`** (5 violations)

- ğŸŸ¡ **no-print-statements** at `L33`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **max-imports** at `L1`
  - File has 65 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 65 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 65 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 65 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*

**`src/agentforge/core/pipeline/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/artifacts.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/artifacts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/artifacts.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/config.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/config.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/config_validator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/config_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/config_validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/controller.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/controller.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/controller.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/discovery_integration.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/discovery_integration.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/discovery_integration.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/escalation.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/escalation.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/escalation.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/llm_stage_executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/llm_stage_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/llm_stage_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/schemas.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/schemas.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/schemas.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/stage_executor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/stage_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/stage_executor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/state.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/state.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/state.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/state_store.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/state_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/state_store.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/types.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/types.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/__pycache__/validator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/__pycache__/validator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/artifacts.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/pipeline/config.py`** (13 violations)

- ğŸ”µ **single-responsibility-modules** at `L117`
  - Class 'ConfigurationLoader' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L3`
  - Line exceeds 120 characters (144 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L270`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L180`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/pipeline/config_validator.py`** (5 violations)

- ğŸŸ¡ **max-function-length** at `L45`
  - Function 'validate_template' has 56 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L45`
  - Function 'validate_template' has 56 lines (max: 30)

**`src/agentforge/core/pipeline/controller.py`** (25 violations)

- ğŸŸ¡ **max-function-length** at `L630`
  - Function '_execute_stage' has 99 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-parameter-count** at `L139`
  - Function '__init__' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L569`
  - Function '_run' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L630`
  - Function '_execute_stage' has complexity 25 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (788 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L132`
  - Class 'PipelineController' has 18 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L132`
  - Class 'PipelineController' has 18 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L139`
  - Function '__init__' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L177`
  - Function 'execute_with_discovery' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L287`
  - Function 'approve' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L513`
  - Function '_get_contract_enforcer' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L569`
  - Function '_run' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L630`
  - Function '_execute_stage' has 99 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L569`
  - Function '_run' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L630`
  - Function '_execute_stage' has complexity 25 (max: 10)
- ğŸŸ¡ **class-size-limit** at `L132`
  - Class 'PipelineController' has 18 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L595`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L683`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L287`
  - Boolean function 'approve' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L331`
  - Boolean function 'reject' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L367`
  - Boolean function 'abort' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L404`
  - Boolean function 'pause' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/discovery_integration.py`** (12 violations)

- ğŸŸ¡ **max-nesting-depth** at `L352`
  - Function 'resolve_test_path' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L112`
  - Function 'extract_context_from_profile' has complexity 19 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L352`
  - Function 'resolve_test_path' has complexity 17 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'DiscoveredContext' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L112`
  - Function 'extract_context_from_profile' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L173`
  - Function 'get_contracts_for_language' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L352`
  - Function 'resolve_test_path' has 45 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L352`
  - Function 'resolve_test_path' has nesting depth 5 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L112`
  - Function 'extract_context_from_profile' has complexity 19 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L352`
  - Function 'resolve_test_path' has complexity 17 (max: 10)

**`src/agentforge/core/pipeline/escalation.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'EscalationHandler' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L223`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L274`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L280`
  - Boolean function 'delete' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/llm_stage_executor.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L35`
  - Class 'LLMStageExecutor' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L68`
  - Function 'execute' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L170`
  - Function '_run_with_llm' has 40 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/pipeline/registry.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'StageExecutorRegistry' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L147`
  - Boolean function 'unregister' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/schemas.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L393`
  - Boolean function 'validate_transition' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/stage_executor.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L56`
  - Class 'StageResult' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L130`
  - Class 'StageExecutor' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L125`
  - Boolean function 'needs_escalation' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/stages/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/analyze.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/analyze.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/analyze.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/clarify.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/clarify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/clarify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/deliver.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/deliver.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/deliver.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/green.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/green.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/green.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/intake.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/intake.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/intake.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/red.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/red.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/red.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/refactor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/__pycache__/spec.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/pipeline/stages/__pycache__/spec.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/pipeline/stages/analyze.py`** (11 violations)

- ğŸ”µ **single-responsibility-modules** at `L29`
  - Class 'AnalyzeExecutor' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L178`
  - Line exceeds 120 characters (127 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L296`
  - Function '_parse_text_response' has 32 lines (max: 30)

**`src/agentforge/core/pipeline/stages/clarify.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L27`
  - Class 'ClarifyExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L148`
  - Function 'get_user_message' has 32 lines (max: 30)

**`src/agentforge/core/pipeline/stages/deliver.py`** (9 violations)

- ğŸ”µ **single-responsibility-modules** at `L30`
  - Class 'DeliverPhaseExecutor' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L82`
  - Function '_deliver_commit' has 42 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L320`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L370`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L389`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L332`
  - Boolean function '_create_branch' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/stages/green.py`** (25 violations)

- ğŸŸ¡ **max-function-length** at `L227`
  - Function 'execute' has 69 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L409`
  - Function '_register_implementation_tools' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L227`
  - Function 'execute' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L334`
  - Function '_build_user_message' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L409`
  - Function '_register_implementation_tools' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (620 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L34`
  - Class 'GreenPhaseExecutor' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L138`
  - Line exceeds 120 characters (139 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L227`
  - Function 'execute' has 69 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L334`
  - Function '_build_user_message' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L409`
  - Function '_register_implementation_tools' has 65 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L495`
  - Function '_run_all_tests' has 33 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L227`
  - Function 'execute' has complexity 13 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L334`
  - Function '_build_user_message' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L409`
  - Function '_register_implementation_tools' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L261`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L562`
  - Boolean function '_check_completion' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/stages/intake.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'IntakeExecutor' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L64`
  - Line exceeds 120 characters (164 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/pipeline/stages/red.py`** (15 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L160`
  - Function 'get_user_message' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'RedPhaseExecutor' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L56`
  - Line exceeds 120 characters (154 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L160`
  - Function 'get_user_message' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L279`
  - Function '_run_tests' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L350`
  - Function '_validate_red_results' has 35 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L160`
  - Function 'get_user_message' has complexity 11 (max: 10)

**`src/agentforge/core/pipeline/stages/refactor.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'RefactorPhaseExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L109`
  - Function 'execute' has 39 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L190`
  - Function '_run_conformance' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L199`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/pipeline/stages/spec.py`** (8 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L298`
  - Function 'validate_output' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'SpecExecutor' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L212`
  - Function 'get_user_message' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L298`
  - Function 'validate_output' has 31 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L298`
  - Function 'validate_output' has complexity 13 (max: 10)

**`src/agentforge/core/pipeline/state.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L49`
  - Class 'StageState' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L134`
  - Class 'PipelineState' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/pipeline/state_store.py`** (15 violations)

- ğŸŸ¡ **max-class-size** at `L175`
  - Class 'PipelineStateStore' has 26 methods (max: 20)
  - ğŸ’¡ *Consider splitting into multiple classes with single responsibilities*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (640 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸŸ¡ **no-god-classes** at `L175`
  - Class 'PipelineStateStore' has 26 methods (max: 15)
  - ğŸ’¡ *Split large classes using composition or inheritance*
- ğŸ”µ **single-responsibility-modules** at `L41`
  - Class 'DeferredWriteManager' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L175`
  - Class 'PipelineStateStore' has 26 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L175`
  - Class 'PipelineStateStore' has 26 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L306`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L349`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L428`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L396`
  - Boolean function 'deferred_mode' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L484`
  - Boolean function 'delete' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L513`
  - Boolean function 'archive' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/pipeline/types.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/pipeline/validator.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L47`
  - Class 'ArtifactValidator' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L88`
  - Function '_validate_type' has 35 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'value' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/pyright_runner.py`** (8 violations)

- ğŸŸ¡ **no-print-statements** at `L209`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L45`
  - Class 'PyrightRunner' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L113`
  - Function '_run_pyright' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L66`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/refactoring/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/refactoring/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/refactoring/__pycache__/base.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/refactoring/__pycache__/registry.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/registry.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/refactoring/__pycache__/rope_provider.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/rope_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/refactoring/__pycache__/rope_provider.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/refactoring/base.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L62`
  - Class 'RefactoringProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L136`
  - Boolean function 'supports_file' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/refactoring/registry.py`** (4 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L51`
  - Boolean function 'supports_file' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/refactoring/rope_provider.py`** (20 violations)

- ğŸŸ¡ **max-function-length** at `L89`
  - Function 'can_extract_function' has 53 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L156`
  - Function 'extract_function' has 77 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-nesting-depth** at `L89`
  - Function 'can_extract_function' has nesting depth 5 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-nesting-depth** at `L156`
  - Function 'extract_function' has nesting depth 6 (max: 4)
  - ğŸ’¡ *Use early returns, guard clauses, or extract nested logic*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L156`
  - Function 'extract_function' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'RopeRefactoringProvider' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L137`
  - Line exceeds 120 characters (138 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L89`
  - Function 'can_extract_function' has 53 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L156`
  - Function 'extract_function' has 77 lines (max: 30)
- ğŸŸ¡ **nesting-depth-limit** at `L89`
  - Function 'can_extract_function' has nesting depth 5 (max: 4)
- ğŸŸ¡ **nesting-depth-limit** at `L156`
  - Function 'extract_function' has nesting depth 6 (max: 4)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L156`
  - Function 'extract_function' has complexity 12 (max: 10)

**`src/agentforge/core/spec/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/spec/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/spec/__pycache__/placement.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__/placement.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/spec/__pycache__/placement.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/spec/placement.py`** (13 violations)

- ğŸŸ¡ **max-function-length** at `L242`
  - Function 'analyze' has 94 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L242`
  - Function 'analyze' has complexity 13 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **no-print-statements** at `L21`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L24`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L27`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'SpecPlacementAnalyzer' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L242`
  - Function 'analyze' has 94 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L242`
  - Function 'analyze' has complexity 13 (max: 10)
- ğŸ”µ **descriptive-naming** at `L145`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L382`
  - Boolean function 'validate_unique_component_id' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/tdflow/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/__pycache__/domain.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/domain.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/__pycache__/orchestrator.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/orchestrator.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/__pycache__/session.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/session.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/__pycache__/session.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/domain.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L161`
  - Class 'TDFlowSession' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L99`
  - Boolean function 'all_passed' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L104`
  - Boolean function 'all_failed' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L206`
  - Boolean function 'all_verified' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/tdflow/orchestrator.py`** (14 violations)

- ğŸŸ¡ **max-function-length** at `L257`
  - Function 'verify' has 69 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L257`
  - Function 'verify' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L38`
  - Class 'TDFlowOrchestrator' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L122`
  - Function 'run_red' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L167`
  - Function 'run_green' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L212`
  - Function 'run_refactor' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L257`
  - Function 'verify' has 69 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L257`
  - Function 'verify' has complexity 14 (max: 10)
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L242`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L292`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/tdflow/phases/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/__pycache__/green.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/green.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/green.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/__pycache__/red.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/red.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/red.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/__pycache__/refactor.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/refactor.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/__pycache__/verify.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/verify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/phases/__pycache__/verify.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/phases/green.py`** (24 violations)

- ğŸŸ¡ **max-function-length** at `L78`
  - Function 'execute' has 66 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L272`
  - Function '_generate_csharp_impl' has 69 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L357`
  - Function '_generate_python_impl' has 64 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L43`
  - Class 'GreenPhaseExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L331`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L412`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L78`
  - Function 'execute' has 66 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L224`
  - Function '_generate_impl_with_llm' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L272`
  - Function '_generate_csharp_impl' has 69 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L357`
  - Function '_generate_python_impl' has 64 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L138`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L260`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/tdflow/phases/red.py`** (48 violations)

- ğŸŸ¡ **max-function-length** at `L67`
  - Function 'execute' has 79 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L259`
  - Function '_generate_csharp_tests' has 89 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L375`
  - Function '_generate_python_tests' has 74 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-file-lines** at `file`
  - File exceeds line limit (547 lines > 500)
  - ğŸ’¡ *Consider splitting into smaller files*
- ğŸ”µ **single-responsibility-modules** at `L36`
  - Class 'RedPhaseExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L323`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L343`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L368`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L444`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L462`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L488`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L67`
  - Function 'execute' has 79 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L259`
  - Function '_generate_csharp_tests' has 89 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L375`
  - Function '_generate_python_tests' has 74 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L119`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L247`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/tdflow/phases/refactor.py`** (19 violations)

- ğŸŸ¡ **max-function-length** at `L46`
  - Function 'execute' has 98 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'RefactorPhaseExecutor' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L216`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L217`
  - FIXME comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L46`
  - Function 'execute' has 98 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L131`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/tdflow/phases/verify.py`** (8 violations)

- ğŸŸ¡ **max-function-length** at `L49`
  - Function 'execute' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'VerifyPhaseExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L49`
  - Function 'execute' has 65 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L145`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L276`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/tdflow/runners/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/runners/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/runners/__pycache__/base.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/base.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/runners/__pycache__/dotnet.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/dotnet.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/dotnet.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/runners/__pycache__/pytest_runner.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/pytest_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'src/agentforge/core/tdflow/runners/__pycache__/pytest_runner.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`src/agentforge/core/tdflow/runners/base.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'TestRunner' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L71`
  - Boolean function 'build' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/tdflow/runners/dotnet.py`** (11 violations)

- ğŸŸ¡ **no-http-without-https** at `L83`
  - Forbidden pattern found: 'http://'
  - ğŸ’¡ *Use HTTPS for all external connections*
- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'DotNetTestRunner' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L68`
  - Function '_parse_trx' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L117`
  - Function '_parse_output' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L52`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L201`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L226`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L219`
  - Boolean function 'build' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/tdflow/runners/pytest_runner.py`** (12 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'PytestRunner' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L22`
  - Function 'run_tests' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L97`
  - Function '_parse_output' has 44 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L194`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L56`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L221`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L181`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L210`
  - Boolean function 'build' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/tdflow/session.py`** (7 violations)

- ğŸ”µ **single-responsibility-modules** at `L31`
  - Class 'SessionManager' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L52`
  - Function 'create' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L133`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L176`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/validate_schema.py`** (19 violations)

- ğŸŸ¡ **no-print-statements** at `L70`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L71`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L72`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L73`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L74`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L81`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L85`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L88`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L89`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L90`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L95`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L98`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L99`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L100`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L102`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L52`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/vector_search.py`** (27 violations)

- ğŸŸ¡ **no-print-statements** at `L225`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L267`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L304`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L306`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L307`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L308`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L309`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L310`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L312`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L318`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L321`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L324`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L326`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L328`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L331`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L333`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L380`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L383`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'VectorSearch' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L336`
  - Function 'main' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L193`
  - Function 'index' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L116`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L136`
  - Boolean function '_try_load_cache' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L240`
  - Boolean function '_load_index' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/vector_types.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L15`
  - Class 'Chunk' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/verification_ast.py`** (4 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'ASTChecker' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L189`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/verification_checks.py`** (50 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L48`
  - Function '_run_command_check' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L35`
  - Class 'CheckRunner' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L67`
  - Line exceeds 120 characters (124 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L73`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L131`
  - Line exceeds 120 characters (128 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L229`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L350`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L354`
  - Line exceeds 120 characters (132 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L358`
  - Line exceeds 120 characters (130 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L48`
  - Function '_run_command_check' has complexity 14 (max: 10)
- ğŸ”µ **descriptive-naming** at `L289`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L343`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/verification_contracts_check.py`** (3 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*

**`src/agentforge/core/verification_reports.py`** (18 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'ReportGenerator' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L51`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L53`
  - Line exceeds 120 characters (129 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L95`
  - Function '_build_report_data' has 36 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L139`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/verification_runner.py`** (13 violations)

- ğŸŸ¡ **no-print-statements** at `L301`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L303`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **single-responsibility-modules** at `L58`
  - Class 'VerificationRunner' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L109`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L113`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L243`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L166`
  - Boolean function '_check_deps_met' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/verification_types.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L61`
  - Class 'VerificationReport' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **boolean-naming** at `L52`
  - Boolean function 'passed' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/workspace.py`** (9 violations)

- ğŸŸ¡ **no-print-statements** at `L483`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸŸ¡ **no-print-statements** at `L486`
  - Forbidden pattern found: 'print('
  - ğŸ’¡ *Use logging module instead: import logging; logger = logging.getLogger(__name__)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L50`
  - Function 'discover_workspace' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L200`
  - Function 'add_repo_to_workspace' has 34 lines (max: 30)
- ğŸŸ¡ **boolean-naming** at `L244`
  - Boolean function 'remove_repo_from_workspace' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*
- ğŸŸ¡ **boolean-naming** at `L442`
  - Boolean function 'unlink_repo' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`src/agentforge/core/workspace_config.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L137`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L164`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`src/agentforge/core/workspace_types.py`** (5 violations)

- ğŸ”µ **single-responsibility-modules** at `L92`
  - Class 'WorkspaceContext' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @test_path: tests/path/to/test.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L74`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`test.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tests/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/__pycache__/test_python_checks.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/test_python_checks.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/__pycache__/test_python_checks.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/conftest.py`** (24 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-global-fixtures** at `L46`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L72`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L87`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L99`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L115`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L157`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L180`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L229`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L239`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L251`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L263`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L272`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L280`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L293`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L310`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L321`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L332`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L365`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L384`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L401`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **function-size-limit** at `L116`
  - Function 'sample_clean_architecture' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L181`
  - Function 'correctness_config' has 46 lines (max: 30)

**`tests/integration/cli/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/cli/__pycache__/test_pipeline_cli_integration.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__/test_pipeline_cli_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/cli/__pycache__/test_pipeline_cli_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/cli/conftest.py`** (12 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-global-fixtures** at `L13`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L38`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L69`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L97`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L149`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸŸ¡ **function-size-limit** at `L98`
  - Function 'temp_project_with_artifacts' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L150`
  - Function 'mock_pipeline_controller' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L156`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/cli/test_pipeline_cli_integration.py`** (75 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L27`
  - Function 'test_cli_has_all_pipeline_commands' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'TestCLICommandIntegration' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L448`
  - Class 'TestCLIErrorHandling' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L32`
  - Forbidden pattern found: '
        assert result.exit_code == 0

        # Primary commands
        assert "start" in result.output
        assert "design" in result.output
        assert "implement" in result.output

        # Control commands
        assert "status" in result.output
        assert "resume" in result.output
        assert "approve" in result.output
        assert "reject" in result.output
        assert "abort" in result.output

        # List commands
        assert "pipelines" in result.output
        assert "artifacts" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "REQUEST" in result.output or "request" in result.output.lower()
        assert "--supervised" in result.output or "-s" in result.output
        assert "--exit-after" in result.output
        assert "--delivery-mode" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "REQUEST" in result.output or "request" in result.output.lower()
        assert "--iterate" in result.output or "-i" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "--from-spec" in result.output
        assert "--skip-to" in result.output
        assert "--delivery-mode" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "PIPELINE_ID" in result.output or "pipeline" in result.output.lower()
        assert "--verbose" in result.output or "-v" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "--status" in result.output or "-s" in result.output
        assert "--limit" in result.output or "-n" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "PIPELINE_ID" in result.output
        assert "--stage" in result.output or "-s" in result.output
        assert "--output" in result.output or "-o" in result.output


# =============================================================================
# Pipeline Execution Integration Tests
# =============================================================================


class TestStartIntegration:
    """Integration tests for start command execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "Starting pipeline" in result.output or "pipeline" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
            assert result.exit_code == 0


class TestDesignIntegration:
    """Integration tests for design command execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show spec info
            assert "SPEC" in result.output or "Design" in result.output


class TestImplementIntegration:
    """Integration tests for implement command execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '                assert result.exit_code == 0 or "not found" in result.output.lower()


# =============================================================================
# Control Command Integration Tests
# =============================================================================


class TestStatusIntegration:
    """Integration tests for status command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L234`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show pipeline details
            assert "PL-" in result.output or "Pipeline" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_pipeline_controller.list_pipelines.assert_called()


class TestResumeIntegration:
    """Integration tests for resume command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L266`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_pipeline_controller.provide_feedback.assert_called()
            mock_pipeline_controller.execute.assert_called()


class TestApproveRejectIntegration:
    """Integration tests for approve and reject commands."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_pipeline_controller.approve.assert_called_with("PL-test")
            assert "Approved" in result.output or "approved" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L299`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_pipeline_controller.provide_feedback.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_pipeline_controller.abort.assert_called()


class TestAbortIntegration:
    """Integration tests for abort command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '
            assert result.exit_code == 0'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L365`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should list all pipelines
            assert "PL-" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L378`
  - Forbidden pattern found: '
            assert result.exit_code == 0


class TestArtifactsIntegration:
    """Integration tests for artifacts command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should list artifact files
            assert "yaml" in result.output.lower() or "intake" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L419`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show spec content
            assert "spec" in result.output.lower() or "SPEC" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L438`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert Path("exported.yaml").exists()


# =============================================================================
# Error Handling Integration Tests
# =============================================================================


class TestCLIErrorHandling:
    """Integration tests for CLI error handling."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L456`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "Usage" in result.output or "Error" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L465`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "Missing" in result.output or "required" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L474`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "Invalid" in result.output or "invalid" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L491`
  - Forbidden pattern found: '            assert "error" in result.output.lower() or result.exit_code != 0


# =============================================================================
# Output Formatting Integration Tests
# =============================================================================


class TestOutputFormatting:
    """Integration tests for CLI output formatting."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L510`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should have formatted output
            assert len(result.output) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L536`
  - Forbidden pattern found: '            assert "failed" in result.output.lower() or "error" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L560`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should have consistent formatting
            lines = result.output.strip().split("\n")
            assert len(lines) >= 3  # At least header + separator + data
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **max-imports** at `L1`
  - File has 36 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L27`
  - Function 'test_cli_has_all_pipeline_commands' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L31`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L55`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L67`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L77`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L88`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L108`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L455`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L464`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L473`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L131`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L174`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L233`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L246`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L262`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L282`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L326`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L364`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L377`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L398`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L418`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L433`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L487`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L509`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L533`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L559`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L212`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/context/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/context/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/context/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/context/__pycache__/test_context_v2_integration.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__/test_context_v2_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/context/__pycache__/test_context_v2_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/context/test_context_v2_integration.py`** (29 violations)

- ğŸŸ¡ **max-function-length** at `L44`
  - Function 'realistic_project' has 67 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L197`
  - Function 'test_audit_captures_full_workflow' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L40`
  - Class 'TestFullContextStack' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L307`
  - Class 'TestContextReproducibility' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-assert-true-false** at `L73`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L73`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '    assert True
'''
            )

            # Create pyproject.toml
            (project / "pyproject.toml").write_text(
                '''[project]
name = "my-project"
version = "0.1.0"
requires-python = ">=3.11"
dependencies = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '        assert config.defaults.max_steps == 30  # Task-specific override
        assert "Verify fix with check command" in config.constraints
        assert fingerprint.technical.language == "python"
        assert "pydantic" in fingerprint.technical.frameworks
        assert template.task_type == "fix_violation"

        # Verify fingerprint YAML includes constraints
        yaml_output = fingerprint.to_context_yaml()
        assert "correctness_first" in yaml_output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert manager.needs_compaction(large_context)

        # Compact'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '        assert result["fingerprint"] == large_context["fingerprint"]
        assert result["task"] == large_context["task"]
        assert result["phase"] == large_context["phase"]

        # Verify compaction occurred
        assert audit.original_tokens > audit.final_tokens
        assert len(audit.rules_applied) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '        assert thinking is not None
        assert "step 2" in thinking

        # Verify summary
        summary = logger.get_summary()
        assert summary["total_steps"] == 3
        assert summary["final_status"] == "completed"
        assert summary["effective_tokens"] == 3000 - int(1000 * 0.9)

        # Verify audit directory structure
        audit_dir = realistic_project / ".agentforge" / "context_audit" / task_id
        assert (audit_dir / "summary.yaml").exists()
        assert (audit_dir / "step_1.yaml").exists()
        assert (audit_dir / "step_1_context.yaml").exists()
        assert (audit_dir / "step_2_thinking.md").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '                assert tier2.max_tokens > 0
                assert tier2.max_tokens <= 2500

            # Check system prompt is cacheable
            prompt = template.get_system_prompt()
            prompt_tokens = len(prompt) // 4'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L278`
  - Forbidden pattern found: '        assert fp1 is fp2

        # Force refresh creates new object
        fp3 = gen.generate(force_refresh=True)
        assert fp3 is not fp1

        # Clear cache
        FingerprintGenerator.clear_cache()
        fp4 = gen.generate()
        assert fp4 is not fp3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L295`
  - Forbidden pattern found: '        assert base_config.defaults.max_steps == 25  # From project AGENT.md

        # Load with task type
        loader.invalidate_cache()
        task_config = loader.load(task_type="fix_violation")
        assert task_config.defaults.max_steps == 30  # Overridden by task

        # Constraints accumulate
        assert "Always run tests after changes" in task_config.constraints
        assert "Verify fix with check command" in task_config.constraints


class TestContextReproducibility:
    """Tests for context reproducibility via hashing."""

    @pytest.fixture
    def temp_project(self):
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test"
            project.mkdir()
            (project / ".agentforge").mkdir()
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L326`
  - Forbidden pattern found: '
        assert hash1 == hash2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '
        assert hash1 != hash2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L350`
  - Forbidden pattern found: '
        assert hash1 == hash2


@pytest.mark.real_api
class TestRealAPIIntegration:
    """
    Tests that require real API access.

    Run with: pytest tests/integration/context/ --run-real-api
    Requires: ANTHROPIC_API_KEY environment variable
    """

    @pytest.fixture
    def temp_project(self):
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / "pyproject.toml").write_text(
                "[project]\nname = 'test'\n"
            )
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L389`
  - Forbidden pattern found: '
        assert response.content is not None
        assert "hello" in response.content.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L407`
  - Forbidden pattern found: '        assert executor.config is not None
        assert executor.template is not None
        assert executor.fingerprint_generator is not None

        # Get fingerprint
        fp = executor.get_fingerprint()
        assert fp.technical.language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L43`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L310`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L363`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L44`
  - Function 'realistic_project' has 67 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L197`
  - Function 'test_audit_captures_full_workflow' has 38 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L197`
  - Function 'test_audit_captures_full_workflow' has complexity 14 (max: 10)

**`tests/integration/harness/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/harness/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/harness/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/harness/__pycache__/test_harness_workflow.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__/test_harness_workflow.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/harness/__pycache__/test_harness_workflow.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/harness/test_harness_workflow.py`** (47 violations)

- ğŸ”µ **single-responsibility-modules** at `L55`
  - Class 'TestSessionLifecycle' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L130`
  - Class 'TestMemoryIntegration' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L244`
  - Class 'TestMonitorAndRecovery' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L310`
  - Class 'TestOrchestratorIntegration' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L419`
  - Class 'TestExecutionContextPersistence' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 34 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 34 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 34 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '        assert session is not None
        assert session.state == SessionState.ACTIVE
        assert session.current_phase == "analyze"

        # Record some token usage
        session_manager.record_tokens(1000)
        assert session_manager.current_session.token_budget.tokens_used == 1000

        # Pause session - returns SessionContext
        paused = session_manager.pause()
        assert paused.state == SessionState.PAUSED

        # Resume session
        resumed = session_manager.resume()
        assert resumed.state == SessionState.ACTIVE

        # Advance phase
        advanced = session_manager.advance_phase("execute")
        assert advanced.current_phase == "execute"

        # Complete session
        completed = session_manager.complete()
        assert completed.state == SessionState.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '        assert loaded is not None
        assert loaded.session_id == session_id
        assert loaded.workflow_type == "tdflow"
        assert loaded.current_phase == "red"
        assert loaded.token_budget.tokens_used == 5000
        assert loaded.state == SessionState.PAUSED


class TestMemoryIntegration:
    """Test memory system integration."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L184`
  - Forbidden pattern found: '        assert "Fix bug" in context or "task" in context.lower()


class TestToolSelection:
    """Test tool selection and composition."""

    @pytest.fixture
    def tool_registry(self):
        registry = ToolRegistry()
        # Register some test tools with required parameters
        registry.register_tool(ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert "read_file" in tool_names
        assert "write_file" in tool_names
        assert "run_tests" in tool_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '        assert health.loop_detection is not None
        assert health.loop_detection.detected'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '        assert checkpoint is not None
        assert checkpoint.session_id == "test-session"
        assert checkpoint.phase == "execute"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L298`
  - Forbidden pattern found: '        assert checkpoint2 is not None

        # List checkpoints for session
        checkpoints = checkpoint_manager.list_checkpoints(session_id="test-session")
        assert len(checkpoints) == 2

        # Get specific checkpoint
        retrieved = checkpoint_manager.get_checkpoint(checkpoint.id)
        assert retrieved is not None
        assert retrieved.id == checkpoint.id


class TestOrchestratorIntegration:
    """Test orchestrator with mocked LLM."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture
    def mock_llm_executor(self):
        """Create a mock LLM executor that returns predictable responses."""
        executor = Mock(spec=LLMExecutor)

        # First call: tool action
        step1 = StepResult.success_step(
            action=AgentAction.tool_action('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L395`
  - Forbidden pattern found: '        assert session_id is not None

        # Run until complete'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '
        assert result is not None
        assert mock_llm_executor.execute_step.call_count == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L412`
  - Forbidden pattern found: '
        assert status is not None
        assert "state" in status
        assert "iteration_count" in status
        assert "health_status" in status  # Uses health_status not health


class TestExecutionContextPersistence:
    """Test execution context persistence across steps."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L453`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.session_id == "persist-test"
        assert loaded.task_description == "Test persistence"
        assert loaded.iteration == 5
        assert loaded.tokens_used == 10000
        assert len(loaded.conversation_history) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L477`
  - Forbidden pattern found: '
        assert len(history) == 5
        assert history[0].tokens_used == 100
        assert history[4].tokens_used == 500


class TestEscalationFlow:
    """Test escalation creation and resolution."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L504`
  - Forbidden pattern found: '        assert escalation is not None
        assert escalation.priority == EscalationPriority.HIGH

        # Check pending
        pending = escalation_manager.get_pending_escalations("test-session")
        assert len(pending) == 1

        # Resolve - uses ResolutionType enum and 'decision' parameter
        resolution = escalation_manager.resolve_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L518`
  - Forbidden pattern found: '        assert resolution is not None

        # No more pending
        pending = escalation_manager.get_pending_escalations("test-session")
        assert len(pending) == 0


class TestEndToEndWorkflow:
    """Test complete end-to-end workflow scenarios."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L546`
  - Forbidden pattern found: '        assert session.current_phase == "red"

        # Advance through phases
        manager.advance_phase("green")
        assert manager.current_session.current_phase == "green"

        manager.advance_phase("refactor")
        assert manager.current_session.current_phase == "refactor"

        # Complete
        manager.complete()
        assert manager.current_session.state == SessionState.COMPLETED

        # Verify history has phase transitions
        history = manager.current_session.history
        assert len(history) >= 2  # At least green and refactor transitions

        # Check that phases are recorded in history
        history_phases = [h.phase for h in history if h.phase]
        assert "green" in history_phases
        assert "refactor" in history_phases
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L58`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L64`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L133`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L138`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L190`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L247`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L252`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L256`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L313`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L318`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L349`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L422`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L427`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L486`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L491`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L528`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 34 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L191`
  - Function 'tool_registry' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L350`
  - Function 'orchestrator' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L398`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/pipeline/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/pipeline/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/__pycache__/test_config_integration.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/test_config_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/test_config_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/__pycache__/test_pipeline_execution.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/test_pipeline_execution.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/__pycache__/test_pipeline_execution.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/conftest.py`** (5 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-global-fixtures** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L51`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/pipeline/stages/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/pipeline/stages/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/__pycache__/test_design_pipeline.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_design_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_design_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/__pycache__/test_refactor_deliver_pipeline.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_refactor_deliver_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_refactor_deliver_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/__pycache__/test_tdd_pipeline.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_tdd_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/pipeline/stages/__pycache__/test_tdd_pipeline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/pipeline/stages/conftest.py`** (19 violations)

- ğŸŸ¡ **max-function-length** at `L113`
  - Function 'sample_spec_for_tdd' has 60 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L196`
  - Forbidden pattern found: '        assert result == 5

    def test_subtract_numbers(self):
        """TC002: Test subtraction."""
        calc = Calculator()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '        assert result == 2'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-global-fixtures** at `L22`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L68`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L91`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L112`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L175`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L223`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L248`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L298`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L333`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **function-size-limit** at `L113`
  - Function 'sample_spec_for_tdd' has 60 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L176`
  - Function 'sample_red_artifact_for_green' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L249`
  - Function 'sample_green_artifact_for_refactor' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L299`
  - Function 'sample_refactor_artifact_for_deliver' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L334`
  - Function 'temp_project_for_refactor' has 49 lines (max: 30)

**`tests/integration/pipeline/stages/test_design_pipeline.py`** (26 violations)

- ğŸŸ¡ **max-function-length** at `L214`
  - Function 'test_spec_generates_test_cases' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L280`
  - Function 'test_full_design_pipeline_with_mocked_llm' has 100 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L280`
  - Function 'test_full_design_pipeline_with_mocked_llm' has complexity 14 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'TestDesignPipelineFlow' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert registry.has_stage("intake")
        assert registry.has_stage("clarify")
        assert registry.has_stage("analyze")
        assert registry.has_stage("spec")

        # Create executors
        intake = registry.get("intake")
        clarify = registry.get("clarify")
        analyze = registry.get("analyze")
        spec = registry.get("spec")

        # Verify executor types'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
        assert intake_result.status == StageStatus.COMPLETED
        assert intake_result.artifacts["request_id"] == "REQ-20260101120000-0001"
        assert intake_result.artifacts["detected_scope"] == "feature_addition"

        # Now pass to clarify
        clarify = ClarifyExecutor()
        clarify_context = StageContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '
        assert clarify_result.status == StageStatus.COMPLETED
        assert clarify_result.artifacts["request_id"] == "REQ-20260101120000-0001"
        assert clarify_result.artifacts["ready_for_analysis"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '        assert clarify_result.needs_escalation()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert len(result.artifacts["affected_files"]) > 0
        assert len(result.artifacts["components"]) > 0
        assert result.artifacts["affected_files"][0]["path"] == "src/auth.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L274`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["spec_id"].startswith("SPEC-")
        assert len(result.artifacts["components"]) > 0
        assert len(result.artifacts["test_cases"]) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '
        assert intake_result.status == StageStatus.COMPLETED

        # Stage 2: Clarify (passthrough - no blocking questions)
        clarify = ClarifyExecutor()
        clarify_ctx = StageContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L323`
  - Forbidden pattern found: '        assert clarify_result.status == StageStatus.COMPLETED
        assert clarify_result.artifacts["ready_for_analysis"]

        # Stage 3: Analyze
        analyze = AnalyzeExecutor()
        analyze_ctx = StageContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '
        assert analyze_result.status == StageStatus.COMPLETED

        # Stage 4: Spec
        spec = SpecExecutor()
        spec_ctx = StageContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L390`
  - Forbidden pattern found: '
        assert spec_result.status == StageStatus.COMPLETED
        assert spec_result.artifacts["spec_id"] == "SPEC-FULL-001"

        # Verify pipeline completed all stages
        assert intake_result.is_success()
        assert clarify_result.is_success()
        assert analyze_result.is_success()
        assert spec_result.is_success()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L52`
  - Function 'test_intake_artifact_flows_to_clarify' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L110`
  - Function 'test_design_pipeline_with_clarification' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L157`
  - Function 'test_analyze_produces_component_list' has 50 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L214`
  - Function 'test_spec_generates_test_cases' has 57 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L280`
  - Function 'test_full_design_pipeline_with_mocked_llm' has 100 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L280`
  - Function 'test_full_design_pipeline_with_mocked_llm' has complexity 14 (max: 10)
- ğŸ”µ **descriptive-naming** at `L207`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L273`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/pipeline/stages/test_refactor_deliver_pipeline.py`** (26 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestRefactorIntegration' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert context.input_artifacts["spec_id"] == "SPEC-20260102-0001"
        assert len(context.input_artifacts["implementation_files"]) == 1
        assert context.input_artifacts["all_tests_pass"] is True

    def test_refactor_maintains_passing_tests('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        # Final tests should still pass
        assert result.artifacts["test_results"]["failed"] == 0

    def test_refactor_applies_improvements('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED

    def test_refactor_skips_when_clean('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        # No refactoring was needed'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '        assert context.input_artifacts["spec_id"] == "SPEC-20260102-0001"
        assert len(context.input_artifacts["final_files"]) == 2
        assert context.input_artifacts["conformance_passed"] is True

    def test_deliver_stages_files('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L213`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert "summary" in result.artifacts
        assert len(result.artifacts["summary"]) > 0


class TestFullPipelineIntegration:
    """End-to-end REFACTOR â†’ DELIVER pipeline tests."""

    def test_green_to_refactor_to_deliver_flow('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '
        assert refactor_result.status == StageStatus.COMPLETED

        # DELIVER Phase (using REFACTOR artifact)
        deliver_executor = DeliverPhaseExecutor({"delivery_mode": DeliveryMode.FILES})

        deliver_context = StageContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '
        assert deliver_result.status == StageStatus.COMPLETED
        assert deliver_result.artifacts["spec_id"] == sample_green_artifact_for_refactor["spec_id"]

    def test_full_pipeline_completes('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L316`
  - Forbidden pattern found: '        assert refactor_result.status == StageStatus.COMPLETED
        assert deliver_result.status == StageStatus.COMPLETED
        assert deliver_result.artifacts["deliverable_type"] == "commit"

    def test_full_pipeline_handles_errors('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L352`
  - Forbidden pattern found: '        assert refactor_result.status == StageStatus.FAILED


class TestStageRegistration:
    """Tests for Phase 4 stage registration."""

    def test_refactor_executor_registers(self):
        """REFACTOR executor can be registered in registry."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages.refactor import create_refactor_executor

        registry = StageExecutorRegistry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '        assert executor is not None
        assert executor.stage_name == "refactor"

    def test_deliver_executor_registers(self):
        """DELIVER executor can be registered in registry."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages.deliver import create_deliver_executor

        registry = StageExecutorRegistry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L379`
  - Forbidden pattern found: '        assert executor is not None
        assert executor.stage_name == "deliver"

    def test_register_delivery_stages(self):
        """register_delivery_stages registers both stages."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages import register_delivery_stages

        registry = StageExecutorRegistry()
        register_delivery_stages(registry)

        refactor = registry.get("refactor")
        deliver = registry.get("deliver")

        assert refactor is not None
        assert deliver is not None
        assert refactor.stage_name == "refactor"
        assert deliver.stage_name == "deliver"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L71`
  - Function 'test_refactor_applies_improvements' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L222`
  - Function 'test_green_to_refactor_to_deliver_flow' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L268`
  - Function 'test_full_pipeline_completes' has 38 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L212`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L189`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L65`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L135`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/pipeline/stages/test_tdd_pipeline.py`** (25 violations)

- ğŸŸ¡ **max-function-length** at `L208`
  - Function 'test_green_produces_implementation' has 66 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '        assert result.status == StageStatus.COMPLETED
        assert result.artifacts is not None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '        assert result.artifacts["test_results"]["failed"] > 0
        assert result.artifacts["test_results"]["passed"] == 0

    def test_generated_tests_are_written('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '    assert 1 + 1 == 2
```'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '        assert test_file.exists()
        assert "def test_add" in test_file.read_text()


class TestGreenPhaseIntegration:
    """Integration tests for GREEN phase."""

    def test_red_to_green_artifact_flow('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L204`
  - Forbidden pattern found: '        assert context.input_artifacts["spec_id"] == "SPEC-20260102-0001"
        assert len(context.input_artifacts["failing_tests"]) == 2
        assert len(context.input_artifacts["test_files"]) == 1

    def test_green_produces_implementation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '        assert result.artifacts is not None
        assert "implementation_files" in result.artifacts


class TestTDDPipelineIntegration:
    """End-to-end TDD pipeline tests."""

    def test_spec_to_red_to_green_flow('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '        assert red_result.status == StageStatus.COMPLETED'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '        assert green_context.input_artifacts["spec_id"] == sample_spec_for_tdd["spec_id"]

    def test_tdd_pipeline_creates_test_then_implementation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L400`
  - Forbidden pattern found: '        assert (temp_project_for_tdd / "tests" / "test_calculator.py").exists()
        assert not (temp_project_for_tdd / "src" / "calculator.py").exists()


class TestTDDStageRegistration:
    """Tests for TDD stage registration."""

    def test_red_executor_registers(self):
        """RED executor can be registered in registry."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages.red import create_red_executor

        registry = StageExecutorRegistry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L416`
  - Forbidden pattern found: '        assert executor is not None
        assert executor.stage_name == "red"

    def test_green_executor_registers(self):
        """GREEN executor can be registered in registry."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages.green import create_green_executor

        registry = StageExecutorRegistry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L428`
  - Forbidden pattern found: '        assert executor is not None
        assert executor.stage_name == "green"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L18`
  - Function 'test_full_spec_to_tests_flow' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L81`
  - Function 'test_tests_fail_without_implementation' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L135`
  - Function 'test_generated_tests_are_written' has 36 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L208`
  - Function 'test_green_produces_implementation' has 66 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L293`
  - Function 'test_spec_to_red_to_green_flow' has 49 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L358`
  - Function 'test_tdd_pipeline_creates_test_then_implementation' has 37 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L73`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L129`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L283`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/pipeline/test_config_integration.py`** (23 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L16`
  - Function 'test_full_config_hierarchy' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **prefer-pytest-raises** at `L361`
  - Forbidden pattern found: 'try:
            settings = loader.load_settings()
            # If it doesn't raise, should have loaded defaults
            assert settings.project_name == ""
        except Exception as e:
            # If it raises, should be a clear error
            assert "yaml" in str(e).lower() or "parse" in str(e).lower()

    def test_missing_directory_handled(self, tmp_path):
        """Missing config directory is handled gracefully."""
        from agentforge.core.pipeline.config import ConfigurationLoader

        # Don't create any directories
        loader = ConfigurationLoader(tmp_path)

        # Should fall back to defaults
        settings = loader.load_settings()
        assert settings.project_name == ""
        assert settings.language == "python"

        # Listing pipelines should still work
        pipelines = loader.list_available_pipelines()
        assert'
  - ğŸ’¡ *Use: with pytest.raises(ExceptionType):*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '        assert loaded_settings.project_name == "IntegrationTest"
        assert loaded_settings.llm_model == "claude-opus-4-20250514"
        assert loaded_settings.max_cost_per_pipeline == 25.0

        # Check stage config
        analyze = loader.load_stage_config("analyze")
        assert analyze.timeout_seconds == 1200
        assert analyze.max_iterations == 10
        assert analyze.tools == {"search_code": {"max_results": 100}}

        # Check custom pipeline
        review = loader.load_pipeline_template("review")
        assert review.name == "review"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L75`
  - Forbidden pattern found: '        assert review.defaults["exit_after"] == "spec"

        # Check list includes both built-in and custom
        available = loader.list_available_pipelines()
        assert "implement" in available  # Built-in
        assert "review" in available      # Custom
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '        assert config_dir.exists()
        assert (config_dir / "settings.yaml").exists()
        assert (config_dir / "stages").exists()

        # Create fresh loader to ensure no caching issues
        fresh_loader = ConfigurationLoader(tmp_path)

        # Load settings from created files
        settings = fresh_loader.load_settings()
        assert settings.language == "python"  # Default value
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '            assert expanded == "MyTestProject"


class TestPipelineTemplateLoaderIntegration:
    """Integration tests for PipelineTemplateLoader."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert config.pipeline_type == "implement"
        assert len(config.stages) == 8'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L172`
  - Forbidden pattern found: '
        assert config.pipeline_type == "hotfix"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '        assert config.supervised is False
        assert config.max_iterations_per_stage == 5
        assert config.timeout_seconds == 600


class TestConfigValidatorIntegration:
    """Integration tests for ConfigValidator with real configs."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L224`
  - Forbidden pattern found: '        assert any("fake_stage" in m for m in messages)
        assert any("nonexistent" in m or "exit_after" in str(errors) for m in messages)


class TestConfigWithPipelineController:
    """Integration tests for configuration with PipelineController."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L262`
  - Forbidden pattern found: '        assert config.supervised is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '
        assert config.timeout_seconds == 120
        assert config.max_iterations == 1
        assert config.tools["read_file"]["max_lines"] == 100


class TestConfigFilePersistence:
    """Tests for configuration file persistence and reload."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert settings1.project_name == "PersistTest"

        # Load with fresh instance
        loader2 = ConfigurationLoader(tmp_path)
        settings2 = loader2.load_settings()
        assert settings2.project_name == "PersistTest"
        assert settings2.max_cost_per_pipeline == 42.0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L334`
  - Forbidden pattern found: '        assert loader1.load_settings().project_name == "Original"

        # Modify file
        settings = {"project": {"name": "Modified"}}
        settings_file.write_text(yaml.dump(settings))

        # Fresh loader picks up change
        loader2 = ConfigurationLoader(tmp_path)
        assert loader2.load_settings().project_name == "Modified"


class TestConfigErrorHandling:
    """Tests for configuration error handling."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L364`
  - Forbidden pattern found: '            assert settings.project_name == ""
        except Exception as e:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '            assert "yaml" in str(e).lower() or "parse" in str(e).lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L378`
  - Forbidden pattern found: '        assert settings.project_name == ""
        assert settings.language == "python"

        # Listing pipelines should still work
        pipelines = loader.list_available_pipelines()
        assert "implement" in pipelines
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L16`
  - Function 'test_full_config_hierarchy' has 46 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L16`
  - Function 'test_full_config_hierarchy' has complexity 12 (max: 10)

**`tests/integration/pipeline/test_pipeline_execution.py`** (30 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L27`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.pipeline_id.startswith("PL-")

        state = pipeline_controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '            assert state.stages[stage_name].status == StageStatus.COMPLETED
            assert state.stages[stage_name].completed_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert result.success is True
        state = pipeline_controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED

        expected_stages = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '            assert state.stages[stage_name].status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert "parsed_request" in all_artifacts
        assert "assumptions" in all_artifacts
        assert "affected_files" in all_artifacts
        assert "spec" in all_artifacts


class TestPipelineWithEscalation:
    """Tests for pipelines that require human intervention."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert state.status == PipelineStatus.WAITING_APPROVAL
        assert state.current_stage == "clarify"

        pending = controller.escalation_handler.get_pending(state.pipeline_id)
        assert len(pending) == 1
        assert "Approve clarifications" in pending[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '        assert state.status == PipelineStatus.WAITING_APPROVAL

        success = controller.approve(state.pipeline_id)
        assert success is True

        state = controller.get_status(state.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '        assert success is True

        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.ABORTED


class TestPipelineResumeAfterRestart:
    """Tests for pipeline state persistence and resume."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '        assert loaded.pipeline_id == pipeline_id
        assert loaded.request == "Persistence test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED


class TestPipelineAbort:
    """Tests for pipeline abort scenarios."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '        assert success is True

        state = controller.get_status(state.pipeline_id)
        assert state.status == PipelineStatus.ABORTED
        assert state.stages["analyze"].error == "User cancelled"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '        assert success is False


class TestConcurrentPipelines:
    """Tests for running multiple pipelines concurrently."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert result1.success is True
        assert result2.success is True
        assert result3.success is True

        state1 = controller.get_status(result1.pipeline_id)
        state2 = controller.get_status(result2.pipeline_id)
        state3 = controller.get_status(result3.pipeline_id)

        assert state1.collect_artifacts()["parsed_request"] == "Pipeline 1"
        assert state2.collect_artifacts()["parsed_request"] == "Pipeline 2"
        assert state3.collect_artifacts()["parsed_request"] == "Pipeline 3"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '
        assert p1.pipeline_id in active_ids
        assert p2.pipeline_id in active_ids


class TestPipelineFailures:
    """Tests for pipeline failure scenarios."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '
        assert result.success is False
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.FAILED
        assert state.stages["clarify"].status == StageStatus.FAILED
        assert "Clarify failed" in state.stages["clarify"].error

        assert state.stages["analyze"].status == StageStatus.PENDING
        assert state.stages["spec"].status == StageStatus.PENDING
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L274`
  - Forbidden pattern found: '
        assert result.success is False
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.FAILED
        assert state.stages["intake"].status == StageStatus.COMPLETED
        assert state.stages["clarify"].status == StageStatus.FAILED
        assert "not registered" in state.stages["clarify"].error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L23`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L40`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L58`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L164`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L195`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L255`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L273`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/tool_handlers/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/tool_handlers/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/tool_handlers/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/tool_handlers/__pycache__/test_context_injection.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__/test_context_injection.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/tool_handlers/__pycache__/test_context_injection.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/tool_handlers/test_context_injection.py`** (30 violations)

- ğŸ”µ **single-responsibility-modules** at `L27`
  - Class 'TestContextInjection' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L143`
  - Class 'TestExecutorWithHandlers' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L53`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "COMPLETE" in result.content
        # Should include files from context
        assert "src/fixed.py" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '
        assert not result.is_error
        # Should have files from both context and params
        assert "src/fixed.py" in result.content or "src/another.py" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "ESCALATE" in result.content
        assert "high" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "CANNOT_FIX" in result.content
        assert "V-TEST-123" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '        assert not result1.is_error

        # Second call should still have context
        call2 = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '        assert not result2.is_error
        assert "src/fixed.py" in result2.content


class TestExecutorWithHandlers:
    """Integration tests for executor with standard handlers."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert not read_result.is_error
        assert "hello" in read_result.content

        # Write a new file
        write_call = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '        assert not write_result.is_error
        assert "SUCCESS" in write_result.content

        # Edit the original file
        edit_call = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '        assert not edit_result.is_error

        # Verify edit
        verify_read = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L206`
  - Forbidden pattern found: '        assert "modified" in verify_result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "module.py" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '
        assert len(log) == 2
        assert log[0]["tool_name"] == "read_file"
        assert log[0]["success"] is True
        assert log[1]["tool_name"] == "complete"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L251`
  - Forbidden pattern found: '
        assert result.is_error
        assert "Unknown tool" in result.content


class TestContextFromParams:
    """Tests for context passed directly in params."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '
        assert received_context.get("key") == "value"
        assert received_context.get("task_id") == "T-1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L30`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L146`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L154`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L160`
  - Function 'test_read_write_edit_workflow' has 40 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L52`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L87`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L216`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L250`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/integration/workflows/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/integration/workflows/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/workflows/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/workflows/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/workflows/__pycache__/test_fix_violation_workflow.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/test_fix_violation_workflow.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/integration/workflows/__pycache__/test_fix_violation_workflow.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/integration/workflows/conftest.py`** (30 violations)

- ğŸŸ¡ **max-function-length** at `L25`
  - Function 'project_with_violation' has 128 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L189`
  - Function 'project_with_generated_file' has 79 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-function-length** at `L288`
  - Function 'simulated_fix_workflow_responses' has 82 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '    assert result["parsed"] == "hello"


def test_validate_strict():
    """Test validate mode with strict flag."""
    result = process_data('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '    assert result["valid"] is True


def test_transform_uppercase():
    """Test transform mode with uppercase flag."""
    result = process_data('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '    assert result["transformed"]["key"] == "VALUE"


def test_simple_helper():
    """Test the simple helper function."""
    assert simple_helper("  HELLO  ") == "hello"
''')

    # Create violation YAML
    violation_data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-global-fixtures** at `L24`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L188`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L287`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L380`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L417`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L436`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L372`
  - Line exceeds 120 characters (122 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L409`
  - Line exceeds 120 characters (202 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **function-size-limit** at `L25`
  - Function 'project_with_violation' has 128 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L189`
  - Function 'project_with_generated_file' has 79 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L288`
  - Function 'simulated_fix_workflow_responses' has 82 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L381`
  - Function 'simulated_cannot_fix_responses' has 31 lines (max: 30)

**`tests/integration/workflows/test_fix_violation_workflow.py`** (56 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L262`
  - Function 'test_read_search_edit_sequence' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'TestToolHandlerIntegration' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L393`
  - Class 'TestEdgeCases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '        assert "SUCCESS" in result.content
        assert "process_data" in result.content  # Function name should appear
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '        assert "SUCCESS" in result.content

        # Verify the edit was applied
        new_content = source_file.read_text()
        assert "better docstring" in new_content
        assert "cleaned = value.strip()" in new_content

        # Verify process_data function is unchanged (first part of file)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '        assert 'if mode == "parse":' in new_content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '        assert not read_result.is_error

        # Replace the docstring (lines 5-8 approximately)
        replace_call = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert "SUCCESS" in result.content

        # Verify the change
        new_content = source_file.read_text()
        assert "refactored for clarity" in new_content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '        assert "SUCCESS" in result.content

        # Verify insertion
        new_content = source_file.read_text()
        lines = new_content.split("\n")

        # The new function should appear before process_data
        validate_idx = None
        process_idx = None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '        assert "complex_module.py" in result.content or "process_data" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "COMPLETE" in result.content
        assert "Fixed complexity" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L250`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "ESCALATE" in result.content or "cannot_fix" in result.content.lower()


class TestWorkflowSequence:
    """
    Tests for complete workflow sequences using tool handlers.

    These test realistic sequences of tool calls as an agent would make them.
    """
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L289`
  - Forbidden pattern found: '        assert not read_result.is_error
        assert "process_data" in read_result.content

        # Step 2: Search for related code (uses 'pattern' parameter)
        search_result = executor.execute(ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L298`
  - Forbidden pattern found: '        assert not search_result.is_error

        # Step 3: Edit to add a comment to the module docstring (line 1)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert not edit_result.is_error

        # Verify the edit persisted
        new_content = source_file.read_text()
        assert "Refactored to reduce cyclomatic complexity" in new_content

        # Verify execution log
        log = executor.get_execution_log()
        assert len(log) == 3
        assert log[0]["tool_name"] == "read_file"
        assert log[1]["tool_name"] == "search_code"
        assert log[2]["tool_name"] == "edit_file"
        assert all(entry["success"] for entry in log)

    def test_handler_returns_success_on_valid_replacement('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '        assert not edit_result.is_error
        assert "SUCCESS" in edit_result.content

        # Verify the file is still valid Python
        final_content = source_file.read_text()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L387`
  - Forbidden pattern found: '
        assert not result.is_error
        # The handler received context (verified by not crashing)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L410`
  - Forbidden pattern found: '        assert "ERROR" in result.content or "not found" in result.content.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L428`
  - Forbidden pattern found: '
        assert "ERROR" in result.content or "not found" in result.content.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L443`
  - Forbidden pattern found: '
        assert result.is_error
        assert "Unknown tool" in result.content
        # Should list available tools
        assert "read_file" in result.content or "Available" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L466`
  - Forbidden pattern found: '
        assert "ERROR" in result.content or "invalid" in result.content.lower()


class TestHandlerRegistry:
    """Tests for handler registration and lookup."""

    def test_create_standard_handlers_returns_all_handlers('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L506`
  - Forbidden pattern found: '        assert "edit_file" in handlers
        assert "run_check" in handlers
        assert "cannot_fix" in handlers

    def test_executor_register_action_dynamically('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L530`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "Custom result: test123" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L96`
  - Line exceeds 120 characters (186 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L309`
  - Line exceeds 120 characters (142 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L59`
  - Function 'test_edit_file_preserves_formatting' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L150`
  - Function 'test_insert_lines_handler' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L262`
  - Function 'test_read_search_edit_sequence' has 50 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L262`
  - Function 'test_read_search_edit_sequence' has complexity 12 (max: 10)
- ğŸ”µ **descriptive-naming** at `L53`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L99`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L141`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L249`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L382`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L403`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L419`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L438`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L456`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L525`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/test_python_checks.py`** (20 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '        assert runner is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert result.success
        assert result.error_count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '        assert not result.success
        assert result.error_count > 0
        # Pyright should report a return type mismatch
        assert len(result.diagnostics) > 0


class TestCommandRunner:
    """Test external command execution."""

    def test_run_command(self):
        """Test basic command execution."""
        runner = CommandRunner()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L60`
  - Forbidden pattern found: '
        assert result.success
        assert result.return_code == 0
        assert "hello" in result.stdout

    def test_run_missing_command(self):
        """Test handling of missing command."""
        runner = CommandRunner()
        result = runner.run(["nonexistent_command_12345"])

        assert not result.success
        assert "not found" in result.stderr.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '        assert result.return_code == 0
        assert result.parsed_output is not None


class TestVerificationRunner:
    """Test the verification runner integration."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '        assert result.status.value == 'failed'
        assert len(result.errors) > 0
        assert result.errors[0]['function'] == 'long_function'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '        assert result.status.value == 'failed''
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '        assert result.status.value == 'passed'


if __name__ == "__main__":'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L34`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L46`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L68`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L160`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/audit/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_audit_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_audit_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_audit_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_context_frame.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_context_frame.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_context_frame.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_conversation_archive.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_conversation_archive.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_conversation_archive.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_frame_logger.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_frame_logger.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_frame_logger.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_integrity_chain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_integrity_chain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_integrity_chain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_thread_correlator.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_thread_correlator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_thread_correlator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/__pycache__/test_transaction_logger.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_transaction_logger.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/audit/__pycache__/test_transaction_logger.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/audit/test_audit_manager.py`** (29 violations)

- ğŸŸ¡ **max-function-length** at `L320`
  - Function 'test_full_workflow' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestAuditManagerThreads' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L224`
  - Class 'TestAuditManagerQueries' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L25`
  - Forbidden pattern found: '
        assert thread_id is not None
        assert "pipeline" in thread_id

        info = audit.get_thread_info(thread_id)
        assert info is not None
        assert info.name == "Test Pipeline"
        assert info.status == ThreadStatus.RUNNING  # Auto-started
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert child_id is not None

        child_info = audit.get_thread_info(child_id)
        assert child_info.parent_thread_id == parent_id
        assert child_info.name == "Security Review"

        # Parent should have spawn transaction
        parent_txs = audit.get_transactions(parent_id)
        assert len(parent_txs) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert len(child_ids) == 3

        # All children should reference same parallel group
        for child_id in child_ids:
            info = audit.get_thread_info(child_id)
            assert info.parallel_group_id == "quality-checks"
            assert info.parent_thread_id == parent_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '        assert info.status == ThreadStatus.COMPLETED
        assert info.outcome == "success"


class TestAuditManagerLogging:
    """Tests for logging operations."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert tx_id is not None
        assert tx_id.startswith("TX-")

        # Verify transaction exists'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L134`
  - Forbidden pattern found: '        assert tx is not None

        # Verify conversation archived
        turns = audit.get_conversation_turns(thread_id)
        assert len(turns) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '        assert "binary search" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '        assert len(tx.tool_calls) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L188`
  - Forbidden pattern found: '
        assert tx_id is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '        assert tx.human_prompt == "Should we use OAuth or JWT for authentication?"
        assert tx.human_response == "Use JWT - we need stateless auth."


class TestAuditManagerIntegrity:
    """Tests for integrity verification."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L219`
  - Forbidden pattern found: '
        assert result.valid is True
        assert result.total_blocks >= 2


class TestAuditManagerQueries:
    """Tests for query operations."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '
        assert tree["thread_id"] == root_id
        assert len(tree["children"]) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L270`
  - Forbidden pattern found: '
        assert len(ancestry) == 3
        assert ancestry[0].thread_id == grandchild_id
        assert ancestry[1].thread_id == child_id
        assert ancestry[2].thread_id == root_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L284`
  - Forbidden pattern found: '
        assert id1 in roots
        assert id2 in roots
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '
        assert summary["name"] == "Test Pipeline"
        assert summary["transaction_count"] >= 1
        assert "token_summary" in summary'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L377`
  - Forbidden pattern found: '        assert result.valid is True

        # 8. Check summary
        summary = audit.get_summary(pipeline_id)
        assert summary["status"] == "completed"
        assert len(summary["children_summary"]) == 2
        assert all(c["outcome"] == "success" for c in summary["children_summary"])

        # 9. Check ancestry
        ancestry = audit.get_ancestry(child_ids[0])
        assert len(ancestry) == 2
        assert ancestry[1].thread_id == pipeline_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L320`
  - Function 'test_full_workflow' has 51 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L29`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L101`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L218`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L376`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L79`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/audit/test_context_frame.py`** (28 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '
        assert data["schema_id"] == "INTAKE_OUTPUT_SCHEMA"
        assert data["schema_type"] == "json_schema"
        assert data["schema_location"] == "schemas.py"


class TestValidationResult:
    """Tests for ValidationResult."""

    def test_passed_validation(self):
        """Create passed validation result."""
        result = ValidationResult(status=ValidationStatus.PASSED)

        assert result.status == ValidationStatus.PASSED
        assert result.errors == []

    def test_failed_validation_with_errors(self):
        """Create failed validation with errors."""
        result = ValidationResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '
        assert result.status == ValidationStatus.FAILED
        assert len(result.errors) == 1

    def test_to_dict(self):
        """Serialize validation result."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L70`
  - Forbidden pattern found: '
        assert data["status"] == "passed"
        assert "schema" in data
        assert data["schema"]["schema_id"] == "test"


class TestValidatedContext:
    """Tests for ValidatedContext."""

    def test_valid_context(self):
        """Create valid context."""
        context = ValidatedContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert context.is_valid
        assert context.data["request_id"] == "REQ-001"

    def test_invalid_context(self):
        """Create invalid context."""
        context = ValidatedContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert not context.is_valid
        assert len(context.validation.errors) == 1


class TestLLMInteractionEnvelope:
    """Tests for LLMInteractionEnvelope."""

    def test_envelope_creation(self):
        """Create LLM interaction envelope."""
        envelope = LLMInteractionEnvelope('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '
        assert envelope.model == "claude-sonnet-4-20250514"
        assert envelope.tokens_input == 100
        assert len(envelope.system_prompt) > 0

    def test_to_dict_stores_lengths(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert "content_lengths" in data
        assert data["content_lengths"]["system_prompt"] == len("System prompt text")
        assert data["content_lengths"]["user_message"] == len("User message text")

    def test_to_markdown(self):
        """Format envelope as markdown."""
        envelope = LLMInteractionEnvelope('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '
        assert "# LLM Interaction" in md
        assert "You are an expert." in md
        assert "Analyze this." in md
        assert "Analysis complete." in md


class TestParsedArtifact:
    """Tests for ParsedArtifact."""

    def test_valid_parsed_artifact(self):
        """Create valid parsed artifact."""
        artifact = ParsedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert artifact.is_valid
        assert artifact.artifact_data["request_id"] == "REQ-001"

    def test_failed_parsing(self):
        """Handle failed parsing."""
        artifact = ParsedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert not artifact.is_valid
        assert artifact.artifact_data is None


class TestContextFrameBuilder:
    """Tests for ContextFrameBuilder."""

    def test_build_stage_frame(self):
        """Build a complete stage execution frame."""
        frame = ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '
        assert frame.frame_id == "FRAME-0001"
        assert frame.frame_type == FrameType.STAGE_EXECUTION
        assert frame.stage_name == "intake"
        assert frame.input_context is not None
        assert frame.input_context.is_valid
        assert frame.llm_interaction is not None
        assert frame.parsed_artifact is not None
        assert frame.parsed_artifact.is_valid

    def test_build_with_validation_failure(self):
        """Build frame with validation failure."""
        frame = ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L239`
  - Forbidden pattern found: '
        assert frame.input_context is not None
        assert not frame.input_context.is_valid
        assert "Missing required field: request" in frame.input_context.validation.errors

    def test_build_with_type_mismatch(self):
        """Build frame with type validation failure."""
        frame = ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '
        assert not frame.input_context.is_valid
        assert any("expected string" in e for e in frame.input_context.validation.errors)


class TestContextFrame:
    """Tests for ContextFrame."""

    def test_frame_to_dict(self):
        """Serialize frame to dictionary."""
        frame = ContextFrame('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '
        assert data["frame_id"] == "FRAME-0001"
        assert data["frame_type"] == "stage_execution"
        assert data["stage_name"] == "intake"

    def test_frame_is_valid(self):
        """Check frame validity based on component validations."""
        frame = ContextFrame('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '
        assert frame.is_valid

    def test_frame_invalid_with_failed_validation(self):
        """Frame is invalid if any validation failed."""
        frame = ContextFrame('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L317`
  - Forbidden pattern found: '
        assert not frame.is_valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L191`
  - Function 'test_build_stage_frame' has 35 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L34`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L46`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L53`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L64`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L69`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L135`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L278`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/audit/test_conversation_archive.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L51`
  - Class 'TestConversationTurn' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L136`
  - Class 'TestConversationArchive' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '
        assert data["tool_name"] == "read_file"
        assert data["success"] is True
        assert data["duration_ms"] == 100

    def test_tool_call_truncates_large_output(self):
        """Large outputs are truncated in to_dict."""
        large_output = "x" * 1000
        tc = ToolCallDetail('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert len(data["output"]) == 500
        assert data["output_length"] == 1000


class TestConversationTurn:
    """Tests for ConversationTurn."""

    def test_turn_creation(self):
        """Create a conversation turn."""
        turn = ConversationTurn('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert turn.turn_id == "TURN-0001"
        assert turn.model == "claude-sonnet-4-20250514"

    def test_turn_to_dict(self):
        """Serialize turn to dictionary."""
        turn = ConversationTurn('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert data["turn_id"] == "TURN-0001"
        assert data["tokens"]["input"] == 100
        assert data["content_lengths"]["system_prompt"] == 6

    def test_turn_to_markdown(self):
        """Format turn as markdown."""
        turn = ConversationTurn('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert "# Conversation Turn TURN-0001" in md
        assert "You are helpful." in md
        assert "Help me." in md
        assert "Sure!" in md

    def test_turn_with_tool_calls(self):
        """Turn with tool calls."""
        turn = ConversationTurn('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '
        assert data["tool_call_count"] == 1
        assert data["tool_calls"][0]["tool_name"] == "read_file"


class TestConversationArchive:
    """Tests for ConversationArchive."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '
        assert turn.turn_id == "TURN-0001"
        assert turn.thread_id == "thread-001"

        # Verify files created
        assert (tmp_path / "conversations" / "TURN-0001.md").exists()
        assert (tmp_path / "conversations" / "TURN-0001.yaml").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L168`
  - Forbidden pattern found: '
        assert t1.turn_id == "TURN-0001"
        assert t2.turn_id == "TURN-0002"
        assert t3.turn_id == "TURN-0003"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '
        assert content is not None
        assert "System prompt here" in content
        assert "User message here" in content
        assert "Response here" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L211`
  - Forbidden pattern found: '
        assert summary["total_turns"] == 2
        assert len(summary["turns"]) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '
        assert totals["input"] == 300
        assert totals["output"] == 150
        assert totals["total"] == 450
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '
        assert t2.turn_id == "TURN-0002"
        assert len(archive2.list_turns()) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L267`
  - Forbidden pattern found: '
        assert len(turn.tool_calls) == 1

        # Verify in markdown
        content = archive.get_turn_content("TURN-0001")
        assert "read_file" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '
        assert turn.stage_name == "intake"
        assert turn.pipeline_id == "pipeline-001"

        summary = archive.get_summary()
        assert summary["turns"][0]["stage_name"] == "intake"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L29`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L45`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L130`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/audit/test_frame_logger.py`** (21 violations)

- ğŸŸ¡ **max-function-length** at `L268`
  - Function 'test_complete_pipeline_flow' has 51 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestFrameLogger' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '
        assert frame.frame_id == "FRAME-0001"
        assert frame.frame_type == FrameType.STAGE_EXECUTION
        assert frame.stage_name == "intake"
        assert frame.input_context is not None
        assert frame.input_context.is_valid
        assert frame.parsed_artifact is not None
        assert frame.parsed_artifact.is_valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert not frame.input_context.is_valid
        assert "Missing required field: request" in frame.input_context.validation.errors
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert frame.frame_type == FrameType.AGENT_STEP
        assert frame.llm_interaction is not None
        assert frame.parsed_artifact is not None
        assert frame.parsed_artifact.artifact_data["action"] == "read_file"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert frame.frame_type == FrameType.HUMAN_INTERACTION
        assert frame.input_context.data["current_auth"] == "none"
        assert frame.parsed_artifact.artifact_data["response"] == "Use JWT for stateless auth."
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert frame.frame_type == FrameType.SPAWN
        assert frame.input_context.data["task"] == "security audit"
        assert frame.parsed_artifact.artifact_data["spawned_thread_id"] == "child-thread-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert f1.frame_id == "FRAME-0001"
        assert f2.frame_id == "FRAME-0002"
        assert f3.frame_id == "FRAME-0003"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '
        assert frame is not None
        assert frame.frame_id == "FRAME-0001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L173`
  - Forbidden pattern found: '
        assert content is not None
        assert "You are helpful." in content
        assert "Do the task." in content
        assert "Task completed." in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '
        assert f1.content_hash is not None
        assert f2.previous_frame_hash == f1.content_hash
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '
        assert summary["total_frames"] == 2
        assert summary["input_validation"]["passed"] == 1
        assert summary["input_validation"]["failed"] == 1
        assert not summary["all_valid"]
        assert len(summary["failures"]) == 2  # Input and output failures
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '
        assert f2.frame_id == "FRAME-0002"
        frames = logger2.list_frames()
        assert len(frames) == 2


class TestFrameLoggerWithPipelineSchemas:
    """Tests for FrameLogger integration with pipeline schemas."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '        assert frame is not None
        assert frame.stage_name == "intake"


class TestFrameLoggerEndToEnd:
    """End-to-end tests for frame-based audit trail."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L303`
  - Forbidden pattern found: '
        assert intake_frame.is_valid

        # Clarify stage
        clarify_frame = logger.log_stage_frame('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '
        assert clarify_frame.is_valid

        # Verify chain
        assert clarify_frame.previous_frame_hash == intake_frame.content_hash

        # Get validation summary
        summary = logger.get_validation_summary()
        assert summary["all_valid"]
        assert summary["total_frames"] == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L268`
  - Function 'test_complete_pipeline_flow' has 51 lines (max: 30)

**`tests/unit/audit/test_integrity_chain.py`** (32 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestComputeHash' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L66`
  - Class 'TestIntegrityChain' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L27`
  - Forbidden pattern found: '
        assert hash1 == hash2

    def test_different_data_different_hash(self):
        """Different data should produce different hashes."""
        data1 = {"key": "value1"}
        data2 = {"key": "value2"}

        hash1 = compute_hash(data1)
        hash2 = compute_hash(data2)

        assert hash1 != hash2

    def test_key_order_independent(self):
        """Hash should be independent of key order."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert compute_hash(data1) == compute_hash(data2)

    def test_excludes_hash_fields(self):
        """Hash fields should not affect computed hash."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '
        assert hash_with == hash_without

    def test_hash_length(self):
        """Hash should be 64 hex characters (SHA-256)."""
        data = {"test": "data"}
        h = compute_hash(data)

        assert len(h) == 64
        assert all(c in "0123456789abcdef" for c in h)


class TestIntegrityChain:
    """Tests for IntegrityChain."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert block.block_id == "TX-0001"
        assert block.previous_hash is None
        assert block.content_hash is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L85`
  - Forbidden pattern found: '
        assert b2.previous_hash == b1.content_hash
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '
        assert len(blocks) == 3
        assert blocks[0].block_id == "TX-0001"
        assert blocks[1].block_id == "TX-0002"
        assert blocks[2].block_id == "TX-0003"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert result.valid is True
        assert result.total_blocks == 2
        assert result.verified_blocks == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert result.valid is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert result.valid is False
        assert "Content hash mismatch" in result.error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '
        assert result.valid is False
        assert "Chain broken" in result.error
        assert result.first_invalid_block == "TX-0002"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert block is not None
        assert block.block_id == "TX-0002"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '
        assert block is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '
        assert proof is not None
        assert proof["block_id"] == "TX-0002"
        assert len(proof["proof_blocks"]) == 2  # TX-0002 and TX-0003
        assert proof["final_hash"] is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '
        assert result.valid is True
        assert result.total_blocks == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '        assert b2.previous_hash is not None

        # Full chain should have both
        blocks = chain2.get_chain()
        assert len(blocks) == 2


class TestVerifyThreadIntegrity:
    """Tests for verify_thread_integrity helper."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '
        assert result.valid is True
        assert result.total_blocks == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L23`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L49`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L110`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L129`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L162`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L207`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L242`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/audit/test_thread_correlator.py`** (17 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestThreadCorrelator' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '
        assert info.thread_id == "root-001"
        assert info.parent_thread_id is None
        assert info.root_thread_id is None  # Root has no root reference
        assert info.thread_type == "pipeline"
        assert info.name == "Test Pipeline"
        assert info.status == ThreadStatus.PENDING
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '
        assert child.parent_thread_id == "parent-001"
        assert child.root_thread_id == "parent-001"
        assert child.spawn_type == SpawnType.DELEGATION
        assert child.spawn_reason == "Delegating security review"

        # Parent should have child in list
        parent_updated = correlator.get_thread("parent-001")
        assert "child-001" in parent_updated.child_thread_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert grandchild.parent_thread_id == "child"
        assert grandchild.root_thread_id == "root"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert len(children) == 2
        child_ids = [c.thread_id for c in children]
        assert "child1" in child_ids
        assert "child2" in child_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '
        assert len(ancestry) == 3
        assert ancestry[0].thread_id == "grandchild"
        assert ancestry[1].thread_id == "child"
        assert ancestry[2].thread_id == "root"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '
        assert tree["thread_id"] == "root"
        assert len(tree["children"]) == 2

        child1 = next(c for c in tree["children"] if c["thread_id"] == "child1")
        assert len(child1["children"]) == 1
        assert child1["children"][0]["thread_id"] == "grandchild"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L171`
  - Forbidden pattern found: '
        assert len(threads) == 3

        # All should have same parallel_group_id'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '            assert thread.parallel_group_id == "parallel-test"
            assert thread.parallel_index == i
            assert thread.parent_thread_id == "parent"

        # Get parallel group
        group = correlator.get_parallel_group("parallel-test")
        assert len(group) == 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '        assert thread.status == ThreadStatus.COMPLETED
        assert thread.outcome == "success"
        assert thread.transaction_count == 10
        assert thread.total_tokens == 5000
        assert thread.completed_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '        assert thread.status == ThreadStatus.FAILED
        assert thread.error == "Test error message"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '
        assert thread is not None
        assert thread.thread_id == "persist-test"
        assert thread.name == "Persistent Thread"


class TestSpawnType:
    """Tests for SpawnType enum."""

    def test_spawn_types(self):
        """All spawn types should be valid."""
        assert SpawnType.DELEGATION.value == "delegation"
        assert SpawnType.PARALLEL.value == "parallel"
        assert SpawnType.RETRY.value == "retry"
        assert SpawnType.ESCALATION.value == "escalation"
        assert SpawnType.PIPELINE_STAGE.value == "pipeline_stage"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L24`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/audit/test_transaction_logger.py`** (22 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestTransactionLogger' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '
        assert record.transaction_id == "TX-0001"
        assert record.thread_id == "test-thread"
        assert record.transaction_type == TransactionType.LLM_CALL
        assert record.tokens_input == 100
        assert record.stage_name == "clarify"

        # Verify file was created
        tx_path = tmp_path / ".agentforge" / "audit" / "threads" / "test-thread" / "transactions" / "TX-0001.yaml"
        assert tx_path.exists()

        # Verify content
        data = yaml.safe_load(tx_path.read_text())
        assert data["transaction_type"] == "llm_call"
        assert data["stage_name"] == "clarify"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert llm_path.exists()

        content = llm_path.read_text()
        assert "You are an expert" in content
        assert "Analyze this code" in content
        assert "I'll analyze the code structure" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
        assert r1.transaction_id == "TX-0001"
        assert r2.transaction_id == "TX-0002"
        assert r3.transaction_id == "TX-0003"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
        assert r1.previous_hash is None  # First in chain
        assert r2.previous_hash == r1.content_hash
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L101`
  - Forbidden pattern found: '
        assert record.transaction_type == TransactionType.SPAWN
        assert record.spawned_thread_id == "child-thread"
        assert record.spawn_reason == "Delegating security analysis"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert record.transaction_type == TransactionType.HUMAN_INTERACTION
        assert record.human_prompt == "Should we proceed with OAuth or JWT?"
        assert record.human_response == "Use JWT for this application"
        assert record.duration_ms == 45000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '
        assert len(record.tool_calls) == 2
        assert record.tool_calls[0].tool_name == "read_file"
        assert record.tool_calls[1].tool_name == "write_file"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert record is not None
        assert record.transaction_id == "TX-0001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert content is not None
        assert "Test system prompt" in content
        assert "Test response content" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '        assert chain_path.exists()

        data = yaml.safe_load(chain_path.read_text())
        assert len(data["blocks"]) == 2
        assert data["blocks"][0]["block_id"] == "TX-0001"
        assert data["blocks"][1]["block_id"] == "TX-0002"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
        assert r3.transaction_id == "TX-0003"
        assert r3.previous_hash is not None  # Should link to TX-0002


class TestTransactionRecord:
    """Tests for TransactionRecord dataclass."""

    def test_to_dict(self):
        """Serialize transaction to dictionary."""
        record = TransactionRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '
        assert data["transaction_id"] == "TX-0001"
        assert data["transaction_type"] == "llm_call"
        assert data["stage_name"] == "analyze"
        assert data["tokens"]["input"] == 100
        assert data["action"]["name"] == "analyze_code"


class TestToolCallRecord:
    """Tests for ToolCallRecord dataclass."""

    def test_tool_call_success(self):
        """Record successful tool call."""
        tc = ToolCallRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '
        assert tc.tool_name == "read_file"
        assert tc.success is True
        assert tc.error is None

    def test_tool_call_failure(self):
        """Record failed tool call."""
        tc = ToolCallRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '
        assert tc.success is False
        assert tc.error == "Permission denied"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L49`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L207`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L244`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/cli/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/cli/__pycache__/test_pipeline_commands.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/test_pipeline_commands.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/test_pipeline_commands.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/cli/__pycache__/test_spec_adapt.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/test_spec_adapt.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/cli/__pycache__/test_spec_adapt.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/cli/conftest.py`** (17 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-global-fixtures** at `L13`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L61`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L85`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L110`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L144`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L170`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L207`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L225`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L239`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **descriptive-naming** at `L25`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/cli/test_pipeline_commands.py`** (164 violations)

- ğŸ”µ **single-responsibility-modules** at `L38`
  - Class 'TestStartCommand' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L170`
  - Class 'TestDesignCommand' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L233`
  - Class 'TestImplementCommand' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L329`
  - Class 'TestStatusCommand' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L424`
  - Class 'TestResumeCommand' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L470`
  - Class 'TestApproveCommand' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L517`
  - Class 'TestRejectCommand' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L565`
  - Class 'TestAbortCommand' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L643`
  - Class 'TestPipelinesCommand' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L750`
  - Class 'TestArtifactsCommand' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L892`
  - Class 'TestPipelineProgressDisplay' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.execute.assert_called_once()
            assert "Pipeline completed" in result.output or "Starting pipeline" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Verify _get_controller was called (config_override is passed there)
            mock_get.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_get.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "Missing argument" in result.output or "Usage" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show pipeline ID and success indicators
            assert "PL-" in result.output or "pipeline" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '            assert "failed" in result.output.lower() or "error" in result.output.lower()


# =============================================================================
# DESIGN COMMAND TESTS
# =============================================================================


class TestDesignCommand:
    """Tests for the 'design' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L181`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.execute.assert_called_once()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_get.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show spec ID in output
            assert "SPEC" in result.output or "spec" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L224`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# IMPLEMENT COMMAND TESTS
# =============================================================================


class TestImplementCommand:
    """Tests for the 'implement' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.execute.assert_called_once()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '            assert result.exit_code == 0 or "not found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L282`
  - Forbidden pattern found: '            assert result.exit_code == 0 or "not found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '
            assert result.exit_code == 0 or "not found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L305`
  - Forbidden pattern found: '        assert result.exit_code != 0 or "required" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert result.exit_code != 0 or "not found" in result.output.lower()


# =============================================================================
# STATUS COMMAND TESTS
# =============================================================================


class TestStatusCommand:
    """Tests for the 'status' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.get_status.assert_called()
            # Should display pipeline info
            assert "PL-" in result.output or "Pipeline" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L350`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should call list_pipelines to get most recent
            mock_controller.list_pipelines.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L361`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Verbose should show more details like tokens/cost
            # (exact output depends on implementation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L372`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show error info
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L391`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should suggest resume/abort actions
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L401`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should suggest approve/reject actions
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L414`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "No pipeline" in result.output or "not found" in result.output.lower()


# =============================================================================
# RESUME COMMAND TESTS
# =============================================================================


class TestResumeCommand:
    """Tests for the 'resume' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L433`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.execute.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L445`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.provide_feedback.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L455`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L461`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# APPROVE COMMAND TESTS
# =============================================================================


class TestApproveCommand:
    """Tests for the 'approve' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L479`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.approve.assert_called_with("PL-20260102-abc123")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L489`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "Approved" in result.output or "approved" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L503`
  - Forbidden pattern found: '            assert "Could not" in result.output or "failed" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L508`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# REJECT COMMAND TESTS
# =============================================================================


class TestRejectCommand:
    """Tests for the 'reject' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L528`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.provide_feedback.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L538`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.abort.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L548`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should prompt for feedback or abort
            assert "feedback" in result.output.lower() or "abort" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L556`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# ABORT COMMAND TESTS
# =============================================================================


class TestAbortCommand:
    """Tests for the 'abort' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L574`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.abort.assert_called()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L586`
  - Forbidden pattern found: '
            assert result.exit_code == 0'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L596`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L605`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should use default "User requested" reason
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L615`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "aborted" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L629`
  - Forbidden pattern found: '            assert "Could not" in result.output or "not" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L634`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# PIPELINES COMMAND TESTS
# =============================================================================


class TestPipelinesCommand:
    """Tests for the 'pipelines' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L654`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            mock_controller.list_pipelines.assert_called()
            # Should list multiple pipelines
            assert "PL-" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L670`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L682`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L694`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L705`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L716`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L727`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "No pipelines" in result.output or "found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L739`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should have table-like output
            assert "ID" in result.output or "-" in result.output


# =============================================================================
# ARTIFACTS COMMAND TESTS
# =============================================================================


class TestArtifactsCommand:
    """Tests for the 'artifacts' command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L763`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should list artifacts
            assert "intake" in result.output.lower() or "yaml" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L776`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show spec content
            assert "spec" in result.output.lower() or "SPEC" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L789`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L802`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Check output file was created
            assert Path("spec_out.yaml").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L817`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L823`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "No artifacts" in result.output or "not found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L835`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            assert "not found" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L842`
  - Forbidden pattern found: '
        assert result.exit_code != 0


# =============================================================================
# DISPLAY RESULT HELPER TESTS
# =============================================================================


class TestDisplayResult:
    """Tests for the display_result helper function."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L861`
  - Forbidden pattern found: '
            assert result.exit_code == 0
            # Should show commit info
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L873`
  - Forbidden pattern found: '
            assert result.exit_code == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L884`
  - Forbidden pattern found: '            assert "failed" in result.output.lower() or "error" in result.output.lower()


# =============================================================================
# PROGRESS DISPLAY TESTS
# =============================================================================


class TestPipelineProgressDisplay:
    """Tests for PipelineProgressDisplay class."""

    def test_stage_icons_defined(self):
        """STAGE_ICONS has correct icons for all stages."""
        from agentforge.cli.click_commands.pipeline import PipelineProgressDisplay

        display = PipelineProgressDisplay()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L903`
  - Forbidden pattern found: '            assert stage in display.STAGE_ICONS
            assert len(display.STAGE_ICONS[stage]) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L914`
  - Forbidden pattern found: '        assert "INTAKE" in captured.out.upper() or "intake" in captured.out.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L924`
  - Forbidden pattern found: '        assert "complete" in captured.out.lower() or "5.5" in captured.out
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L934`
  - Forbidden pattern found: '        assert "failed" in captured.out.lower() or "Could not" in captured.out
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L944`
  - Forbidden pattern found: '        assert "Escalation" in captured.out or "Ambiguous" in captured.out
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L26`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L138`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L223`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L302`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L318`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L460`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L507`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L555`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L633`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L822`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L841`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L46`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L57`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L68`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L77`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L87`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L96`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L114`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L123`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L132`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L148`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L159`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L180`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L192`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L204`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L215`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L241`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L312`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L337`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L349`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L360`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L371`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L380`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L390`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L400`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L413`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L432`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L442`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L454`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L478`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L488`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L500`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L525`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L537`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L547`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L573`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L583`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L595`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L604`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L614`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L626`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L653`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L669`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L681`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L693`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L704`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L715`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L726`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L738`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L762`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L775`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L788`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L799`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L814`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L834`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L860`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L872`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L881`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L262`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L277`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L294`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/cli/test_spec_adapt.py`** (17 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '        assert run_adapt is not None

    def test_adapt_click_command_import(self):
        """Verify adapt click command can be imported."""
        from agentforge.cli.click_commands.spec import adapt
        assert adapt is not None


class TestLoadExternalSpec:
    """Tests for external spec loading."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '        assert "# Test Spec" in content
        assert "Some content" in content

    def test_load_external_spec_not_found(self):
        """Should raise FileNotFoundError for missing file."""
        from agentforge.cli.commands.spec_adapt import _load_external_spec

        with pytest.raises(FileNotFoundError):
            _load_external_spec("/nonexistent/path/spec.md")


class TestLoadCodebaseProfile:
    """Tests for codebase profile loading."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '        assert profile["language"] == "python"
        assert "mvc" in profile["patterns"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '        assert profile == {}


class TestGetExistingSpecIds:
    """Tests for existing spec ID retrieval."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L85`
  - Forbidden pattern found: '        assert spec_ids == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L103`
  - Forbidden pattern found: '        assert "core-feature-v1" in spec_ids
        assert "cli-v1" in spec_ids


class TestBuildAdaptInputs:
    """Tests for adapt input building."""

    def test_build_adapt_inputs(self):
        """Should build correct input structure."""
        from agentforge.cli.commands.spec_adapt import _build_adapt_inputs

        inputs = _build_adapt_inputs('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert inputs["external_spec_content"] == "# Test Spec"
        assert "python" in inputs["codebase_profile"]
        assert "spec-1" in inputs["existing_spec_ids"]
        assert inputs["original_file_path"] == "test.md"

    def test_build_adapt_inputs_empty_profile(self):
        """Should handle empty profile gracefully."""
        from agentforge.cli.commands.spec_adapt import _build_adapt_inputs

        inputs = _build_adapt_inputs('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert "No codebase profile" in inputs["codebase_profile"]
        assert "No existing specs" in inputs["existing_spec_ids"]


class TestSaveAdaptedSpec:
    """Tests for saving adapted specifications."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '
        assert success is True
        assert output_path.exists()
        saved = yaml.safe_load(output_path.read_text())
        assert saved["spec_id"] == "test-v1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '
        assert success is False
        raw_path = output_path.with_suffix(".raw.txt")
        assert raw_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **cli-proper-exit-codes** at `file`
  - Required pattern not found: 'sys\.exit\s*\(\s*[012]\s*\)|raise\s+(SystemExit|click\.Abort|typer\.Abort)'
  - ğŸ’¡ *Use sys.exit(0) for success, sys.exit(1) for errors*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L149`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L163`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/context/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/context/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/test_agent_config.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_agent_config.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_agent_config.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/test_audit.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_audit.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_audit.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/test_compaction.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_compaction.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_compaction.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/test_fingerprint.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_fingerprint.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_fingerprint.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/__pycache__/test_templates.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_templates.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/context/__pycache__/test_templates.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/context/test_agent_config.py`** (28 violations)

- ğŸ”µ **single-responsibility-modules** at `L23`
  - Class 'TestAgentPreferences' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L120`
  - Class 'TestAgentConfig' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L178`
  - Class 'TestAgentConfigLoader' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L29`
  - Forbidden pattern found: '
        assert prefs.communication_style == "technical"
        assert prefs.risk_tolerance == "conservative"
        assert prefs.verbosity == "normal"

    def test_valid_values(self):
        """AgentPreferences should accept valid enum values."""
        prefs = AgentPreferences('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '
        assert prefs.communication_style == "concise"
        assert prefs.risk_tolerance == "aggressive"
        assert prefs.verbosity == "minimal"

    def test_invalid_style_raises(self):
        """AgentPreferences should reject invalid communication_style."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert defaults.max_steps == 20
        assert defaults.require_tests is True
        assert defaults.auto_commit is False
        assert defaults.thinking_enabled is True
        assert defaults.thinking_budget == 8000

    def test_custom_values(self):
        """TaskDefaults should accept custom values."""
        defaults = TaskDefaults('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L82`
  - Forbidden pattern found: '
        assert defaults.max_steps == 50
        assert defaults.require_tests is False
        assert defaults.thinking_budget == 15000

    def test_max_steps_bounds(self):
        """TaskDefaults should enforce max_steps bounds."""
        with pytest.raises(ValueError):
            TaskDefaults(max_steps=0)

        with pytest.raises(ValueError):
            TaskDefaults(max_steps=200)


class TestProjectConfig:
    """Tests for ProjectConfig model."""

    def test_required_fields(self):
        """ProjectConfig requires name and language."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert config.name == "test-project"
        assert config.language == "python"
        assert config.test_command == "pytest"

    def test_optional_fields(self):
        """ProjectConfig has optional fields."""
        config = ProjectConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '
        assert config.build_command == "python -m build"
        assert config.lint_command == "ruff check"


class TestAgentConfig:
    """Tests for AgentConfig model."""

    def test_default_config(self):
        """AgentConfig should have sensible defaults."""
        config = AgentConfig()

        assert config.preferences.communication_style == "technical"
        assert config.defaults.max_steps == 20
        assert config.constraints == []
        assert config.project is None

    def test_with_constraints(self):
        """AgentConfig should store constraints."""
        config = AgentConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '
        assert len(config.constraints) == 2
        assert "Always run tests" in config.constraints

    def test_get_constraint_text(self):
        """get_constraint_text should format constraints."""
        config = AgentConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '        assert "- Rule 1" in text
        assert "- Rule 2" in text

    def test_to_context_dict(self):
        """to_context_dict should produce structured output."""
        config = AgentConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '
        assert "preferences" in ctx
        assert "defaults" in ctx
        assert "constraints" in ctx
        assert len(ctx["constraints"]) == 2
        assert "patterns" in ctx

    def test_to_context_dict_with_project(self):
        """to_context_dict should include project if set."""
        config = AgentConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L173`
  - Forbidden pattern found: '
        assert "project" in ctx
        assert ctx["project"]["name"] == "my-project"


class TestAgentConfigLoader:
    """Tests for AgentConfigLoader."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project_path = Path(tmpdir) / "test_project"
            project_path.mkdir()
            (project_path / ".agentforge").mkdir()
            (project_path / ".agentforge" / "tasks").mkdir()
            yield project_path

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert config.preferences.communication_style == "technical"
        assert config.sources == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L230`
  - Forbidden pattern found: '
        assert config.preferences.communication_style == "concise"
        assert "Global constraint" in config.constraints
        assert "Global instructions" in config.instructions
        assert str(temp_global) in config.sources
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '        assert config.preferences.communication_style == "concise"
        # Preserved from global
        assert config.preferences.risk_tolerance == "aggressive"
        # New from project
        assert config.project.name == "test-project"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '
        assert len(config.constraints) == 2
        assert "Global: always test" in config.constraints
        assert "Project: no vendor changes" in config.constraints
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert config_default.defaults.max_steps == 20

        # With task type
        loader.invalidate_cache()
        config_fix = loader.load(task_type="fix_violation")
        assert config_fix.defaults.max_steps == 30
        assert "Fix violations carefully" in config_fix.constraints
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L345`
  - Forbidden pattern found: '        assert config1 is config2

        # Modify file
        project_config.write_text(
            """---
defaults:
  max_steps: 50
---
"""
        )

        # Still cached
        config3 = loader.load()
        assert config3.defaults.max_steps == 25

        # Invalidate and reload
        loader.invalidate_cache()
        config4 = loader.load()
        assert config4.defaults.max_steps == 50
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L379`
  - Forbidden pattern found: '
        assert config.preferences.communication_style == "concise"
        assert config.defaults.max_steps == 15
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L397`
  - Forbidden pattern found: '
        assert "database operations" in config.instructions
        assert "null values" in config.instructions
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L408`
  - Forbidden pattern found: '        assert len(cached) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L181`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L191`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/context/test_audit.py`** (38 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestContextAuditLogger' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L204`
  - Class 'TestRetrieval' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L281`
  - Class 'TestClassMethods' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L344`
  - Class 'TestEdgeCases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L55`
  - Forbidden pattern found: '        assert expected.exists()
        assert expected.is_dir()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert audit_file.exists()

        audit = yaml.safe_load(audit_file.read_text())
        assert audit["task_id"] == "test-task-001"
        assert audit["step"] == 1
        assert "timestamp" in audit
        assert audit["total_tokens"] == 180
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '        assert context_file.exists()

        saved_context = yaml.safe_load(context_file.read_text())
        assert saved_context == sample_context
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '        assert thinking_file.exists()
        assert thinking in thinking_file.read_text()

        # Check audit references thinking
        audit = logger.get_step_audit(2)
        assert audit["thinking_file"] == "step_2_thinking.md"
        assert "thinking_tokens" in audit
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '        assert audit["compaction"] == compaction
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '
        assert hash1 == hash2
        assert len(hash1) == 16
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert hash1 != hash2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '        assert summary_file.exists()

        summary = yaml.safe_load(summary_file.read_text())
        assert summary["task_id"] == "test-task-001"
        assert summary["total_steps"] == 5
        assert summary["final_status"] == "completed"
        assert summary["total_input_tokens"] == 10000
        assert summary["cached_tokens"] == 4000
        # effective = 10000 - (4000 * 0.9) = 6400
        assert summary["effective_tokens"] == 6400
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert summary["compaction_events"] == 3
        assert summary["total_tokens_saved"] == 2000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L200`
  - Forbidden pattern found: '        assert summary["thinking_enabled"] is True
        assert summary["total_thinking_tokens"] > 0


class TestRetrieval:
    """Tests for audit retrieval methods."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            yield project

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '
        assert audit is not None
        assert audit["step"] == 2
        assert "timestamp" in audit
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '        assert audit is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L254`
  - Forbidden pattern found: '
        assert context is not None
        assert context["step"] == 2
        assert context["data"] == "step2"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L262`
  - Forbidden pattern found: '
        assert thinking is not None
        assert "step 2" in thinking
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert summary is not None
        assert summary["total_steps"] == 3
        assert summary["final_status"] == "completed"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.get_step_audit(1) is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L317`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L332`
  - Forbidden pattern found: '
        assert len(task_ids) == 3
        assert "task-a" in task_ids
        assert "task-b" in task_ids
        assert "task-c" in task_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '        assert task_ids == []


class TestEdgeCases:
    """Tests for edge cases."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '        assert context["data"] == "æ—¥æœ¬èªãƒ†ã‚¹ãƒˆ ğŸ‰"

        thinking = logger.get_thinking(1)
        assert "è€ƒãˆä¸­" in thinking
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L383`
  - Forbidden pattern found: '        assert audit["total_tokens"] == 0
        assert audit["sections_present"] == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L403`
  - Forbidden pattern found: '        assert retrieved["data"] == large_context["data"]
        assert len(retrieved["list"]) == 1000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L21`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L34`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L43`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L207`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L215`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L284`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L347`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/context/test_compaction.py`** (43 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'TestCompactionManager' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L118`
  - Class 'TestCompactionStrategies' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L343`
  - Class 'TestSummarizeStrategy' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '        assert tokens > 0
        assert tokens < 200
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '        assert not manager.needs_compaction(context)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '        assert manager.needs_compaction(context)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '        assert result["fingerprint"] == sample_context["fingerprint"]
        assert result["task"] == sample_context["task"]
        assert result["phase"] == sample_context["phase"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L81`
  - Forbidden pattern found: '        assert result["understanding"] == sample_context["understanding"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '                    assert rule_i.priority <= rule_j.priority
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '        assert manager_tight.estimate_tokens(result) <= manager_tight.max_budget


class TestCompactionStrategies:
    """Tests for individual compaction strategies."""

    @pytest.fixture
    def manager(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
        assert len(result) < len(long_string)
        assert result.endswith("... (truncated)")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '
        assert result == short_string
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert "START" in result[:50]
        assert "END" in result[-50:]
        assert "(middle truncated)" in result

    def test_keep_first_strategy(self):
        """KEEP_FIRST keeps first N items."""
        # Use very low budget to ensure compaction triggers
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '        assert len(result["items"]) == 3
        assert result["items"][0]["data"].startswith("item0")

    def test_keep_last_strategy(self):
        """KEEP_LAST keeps last N items."""
        # Use very low budget to ensure compaction triggers
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L184`
  - Forbidden pattern found: '        assert len(result["items"]) == 3
        assert result["items"][-1]["data"].startswith("item19")

    def test_remove_strategy(self):
        """REMOVE deletes the section entirely."""
        # Use very low budget to ensure compaction triggers
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '
        assert "required" in result
        assert "optional" not in result


class TestCompactionAudit:
    """Tests for CompactionAudit."""

    def test_audit_to_dict(self):
        """Audit converts to dictionary correctly."""
        audit = CompactionAudit('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert result["applied"] is True
        assert result["original_tokens"] == 5000
        assert result["final_tokens"] == 3000
        assert result["tokens_saved"] == 2000

    def test_audit_no_rules_applied(self):
        """Audit shows not applied when no rules used."""
        audit = CompactionAudit('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '
        assert result["applied"] is False
        assert result["tokens_saved"] == 0


class TestCompactionRule:
    """Tests for CompactionRule."""

    def test_rule_ordering(self):
        """Rules sort by priority."""
        rules = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '        assert len(DEFAULT_RULES) > 0

        # Check rules have required fields
        for rule in DEFAULT_RULES:
            assert rule.section
            assert rule.strategy
            assert rule.priority >= 0


class TestPreservedSections:
    """Tests for preserved section handling."""

    def test_preserved_sections_defined(self):
        """Preserved sections are defined."""
        assert "fingerprint" in PRESERVED_SECTIONS
        assert "task" in PRESERVED_SECTIONS
        assert "phase" in PRESERVED_SECTIONS

    def test_nested_section_preserved(self):
        """Nested sections under preserved are protected."""
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '        assert "identity" in result["fingerprint"]


class TestDotNotation:
    """Tests for dot notation in section paths."""

    def test_nested_section_compaction(self):
        """Nested sections can be compacted."""
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L320`
  - Forbidden pattern found: '        assert len(result["precomputed"]["analysis"]) < 1000
        # other should be unchanged
        assert result["precomputed"]["other"] == "keep"

    def test_missing_nested_section_skipped(self):
        """Missing nested sections are skipped gracefully."""
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L340`
  - Forbidden pattern found: '        assert result["precomputed"]["existing"] == "data"


class TestSummarizeStrategy:
    """Tests for SUMMARIZE compaction strategy."""

    def test_summarize_without_summarizer_skipped(self):
        """SUMMARIZE is skipped when no summarizer is set."""
        manager = CompactionManager('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L361`
  - Forbidden pattern found: '        assert result["content"] == context["content"]
        assert len(audit.rules_applied) == 0

    def test_summarize_with_mock_summarizer(self):
        """SUMMARIZE calls summarizer and uses result."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L382`
  - Forbidden pattern found: '
        assert "[Summarized]" in result["content"]
        assert "5000 chars" in result["content"]
        assert manager._summarization_calls == 1

    def test_summarize_list_content(self):
        """SUMMARIZE handles list content."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L405`
  - Forbidden pattern found: '
        assert "[Summarized from 20 items]" in result["items"]
        assert "Summarized list items" in result["items"]

    def test_summarize_fallback_on_error(self):
        """SUMMARIZE falls back to truncation on error."""

        class FailingSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L429`
  - Forbidden pattern found: '        assert "... (truncated)" in result["content"]
        assert len(result["content"]) < 5000

    def test_set_summarizer_method(self):
        """set_summarizer method works correctly."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L440`
  - Forbidden pattern found: '        assert manager.summarizer is None

        manager.set_summarizer(MockSummarizer())
        assert manager.summarizer is not None

    def test_get_summarization_stats(self):
        """get_summarization_stats returns correct values."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L463`
  - Forbidden pattern found: '        assert stats["summarization_calls"] == 0

        # After compaction
        context = {"content": "x" * 5000}
        manager.compact(context)

        stats = manager.get_summarization_stats()
        assert stats["summarization_calls"] == 1

    def test_reset_stats(self):
        """reset_stats clears summarization counter."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L490`
  - Forbidden pattern found: '        assert manager._summarization_calls == 1

        manager.reset_stats()
        assert manager._summarization_calls == 0

    def test_summarize_short_content_not_changed(self):
        """SUMMARIZE doesn't change content under threshold."""

        class MockSummarizer:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L516`
  - Forbidden pattern found: '        assert result["content"] == "x" * 100
        assert manager._summarization_calls == 0


class TestSummarizeRules:
    """Tests for SUMMARIZE_RULES constant."""

    def test_summarize_rules_includes_defaults(self):
        """SUMMARIZE_RULES includes all default rules."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L531`
  - Forbidden pattern found: '        assert default_sections.issubset(summarize_sections)

    def test_summarize_rules_has_summarize_strategies(self):
        """SUMMARIZE_RULES includes SUMMARIZE strategy rules."""
        from agentforge.core.context.compaction import SUMMARIZE_RULES

        summarize_rules = [r for r in SUMMARIZE_RULES if r.strategy == CompactionStrategy.SUMMARIZE]

        assert len(summarize_rules) > 0
        # Summarize rules should have lower priority (run later)
        for rule in summarize_rules:
            assert rule.priority > 10  # After default rules
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L24`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L121`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L128`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L220`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/context/test_fingerprint.py`** (32 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'TestProjectFingerprint' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L150`
  - Class 'TestFingerprintGenerator' has 18 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '        assert "name: test" in yaml_output
        assert "language: python" in yaml_output

    def test_to_context_yaml_with_frameworks(self):
        """Test YAML output includes frameworks."""
        fp = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '        assert "fastapi" in yaml_output
        assert "pydantic" in yaml_output

    def test_to_context_yaml_with_patterns(self):
        """Test YAML output includes detected patterns."""
        fp = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '        assert "clean_architecture" in yaml_output
        assert "snake_case" in yaml_output
        assert "google" in yaml_output

    def test_to_context_yaml_excludes_unknown(self):
        """Test YAML output excludes 'unknown' pattern values."""
        fp = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '        assert "unknown" not in yaml_output

    def test_estimate_tokens(self):
        """Test token estimation."""
        fp = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L101`
  - Forbidden pattern found: '        assert tokens > 0
        assert tokens < 200  # Minimal fingerprint should be small

    def test_with_task_context(self):
        """Test adding task context creates new instance."""
        base = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '        assert with_task is not base

        # Task context added
        assert with_task.task_type == "fix_violation"
        assert with_task.task_constraints["correctness_first"] is True
        assert "Tests pass" in with_task.success_criteria

        # Original unchanged
        assert base.task_type is None

    def test_with_task_context_in_yaml(self):
        """Test task context appears in YAML output."""
        base = ProjectFingerprint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '        assert "correctness_first" in yaml_output
        assert "Tests pass" in yaml_output


class TestFingerprintGenerator:
    """Tests for FingerprintGenerator."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            yield project

    @pytest.fixture(autouse=True)
    def clear_cache(self):
        """Clear cache before each test."""
        FingerprintGenerator.clear_cache()
        yield
        FingerprintGenerator.clear_cache()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '
        assert fp.technical.language == "python"
        assert "pydantic" in fp.technical.frameworks
        assert "pytest" in fp.technical.frameworks
        assert fp.technical.version == "3.11"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L203`
  - Forbidden pattern found: '
        assert fp.technical.language == "python"
        assert "fastapi" in fp.technical.frameworks
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L227`
  - Forbidden pattern found: '
        assert fp.technical.language == "javascript"
        assert "react" in fp.technical.frameworks
        assert "express" in fp.technical.frameworks
        assert fp.technical.test_framework == "jest"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
        assert fp.technical.language == "typescript"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '
        assert fp.technical.language == "rust"
        assert fp.technical.build_system == "cargo"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
        assert fp.technical.language == "go"
        assert fp.technical.build_system == "go"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '
        assert fp.patterns.architecture == "clean_architecture"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '
        assert fp.patterns.architecture == "mvc"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '
        assert fp.structure.source_root == "src"
        assert fp.structure.test_root == "tests"
        assert "pyproject.toml" in fp.structure.config_files
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert fp1 is fp2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '        assert fp1 is not fp2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '        assert fp1 is not fp2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '
        assert fp.task_type == "fix_violation"
        assert fp.task_constraints["correctness_first"] is True
        assert "Check passes" in fp.success_criteria

        # Base fingerprint is cached without task context
        base = generator.generate()
        assert base.task_type is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L368`
  - Forbidden pattern found: '
        assert fp.technical.language == "unknown"
        assert fp.identity.name == "test_project"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L379`
  - Forbidden pattern found: '
        assert len(fp.structure.entry_points) > 0
        assert "main.py" in fp.structure.entry_points
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L389`
  - Forbidden pattern found: '
        assert fp.identity.content_hash
        assert len(fp.identity.content_hash) == 16
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L153`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L161`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L150`
  - Class 'TestFingerprintGenerator' has 18 methods (max: 15)

**`tests/unit/context/test_templates.py`** (83 violations)

- ğŸ”µ **single-responsibility-modules** at `L30`
  - Class 'TestTemplateRegistry' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L95`
  - Class 'TestFixViolationTemplate' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L199`
  - Class 'TestImplementFeatureTemplate' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L270`
  - Class 'TestBaseContextTemplate' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L454`
  - Class 'TestWriteTestsTemplate' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L525`
  - Class 'TestDiscoveryTemplate' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L582`
  - Class 'TestBridgeTemplate' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L641`
  - Class 'TestCodeReviewTemplate' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L711`
  - Class 'TestRefactorTemplate' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L792`
  - Class 'TestAllTemplatesRegistered' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L835`
  - Class 'TestPhaseMappings' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert template.task_type == "fix_violation"

    def test_get_implement_feature_template(self):
        """Get implement_feature template returns correct type."""
        template = get_template_for_task("implement_feature")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L43`
  - Forbidden pattern found: '        assert template.task_type == "implement_feature"

    def test_unknown_task_type_raises(self):
        """Unknown task type raises ValueError."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L53`
  - Forbidden pattern found: '        assert "fix_violation" in types
        assert "implement_feature" in types

    def test_list_task_types_sorted(self):
        """list_task_types returns sorted list."""
        types = list_task_types()
        assert types == sorted(types)

    def test_get_template_class(self):
        """get_template_class returns class not instance."""
        cls = get_template_class("fix_violation")
        assert cls is FixViolationTemplate'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '            assert template.task_type == "test_task"
            assert "test_task" in list_task_types()
        finally:
            # Clean up
            from agentforge.core.context.templates import _TEMPLATE_REGISTRY

            del _TEMPLATE_REGISTRY["test_task"]


class TestFixViolationTemplate:
    """Tests for FixViolationTemplate."""

    @pytest.fixture
    def template(self):
        return FixViolationTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '        assert template.task_type == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert tier2.name == "init"
        assert tier2.max_tokens == 1000

        section_names = [s.name for s in tier2.sections]
        assert "violation" in section_names
        assert "overview" in section_names

        # Violation is required
        violation = tier2.get_section("violation")
        assert violation.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert tier2.name == "analyze"
        assert tier2.max_tokens == 1500

        section_names = [s.name for s in tier2.sections]
        assert "violation" in section_names
        assert "check_definition" in section_names
        assert "file_overview" in section_names
        assert "related_patterns" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '
        assert tier2.name == "implement"
        assert tier2.max_tokens == 2000

        section_names = [s.name for s in tier2.sections]
        assert "target_source" in section_names
        assert "extraction_suggestions" in section_names
        assert "action_hints" in section_names
        assert "similar_fixes" in section_names

        # Check compaction level for target_source
        target_source = tier2.get_section("target_source")
        assert target_source.compaction == CompactionLevel.TRUNCATE_MIDDLE
        assert target_source.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '
        assert tier2.name == "verify"
        assert tier2.max_tokens == 800

        section_names = [s.name for s in tier2.sections]
        assert "verification_command" in section_names
        assert "check_results" in section_names
        assert "remaining_issues" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L171`
  - Forbidden pattern found: '        assert tier2.name == "init"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L179`
  - Forbidden pattern found: '
        assert "target_source" in required_names
        assert "extraction_suggestions" in required_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L187`
  - Forbidden pattern found: '
        assert tokens < 200
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '
        assert "RULES" in prompt
        assert "action" in prompt.lower()
        assert "yaml" in prompt.lower()


class TestImplementFeatureTemplate:
    """Tests for ImplementFeatureTemplate."""

    @pytest.fixture
    def template(self):
        return ImplementFeatureTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '        assert template.task_type == "implement_feature"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '
        assert tier2.name == "init"

        section_names = [s.name for s in tier2.sections]
        assert "spec" in section_names
        assert "failing_tests" in section_names

        # Both are required
        spec = tier2.get_section("spec")
        assert spec.required is True

        failing_tests = tier2.get_section("failing_tests")
        assert failing_tests.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '        assert "spec_requirements" in section_names
        assert "acceptance_criteria" in section_names
        assert "test_expectations" in section_names
        assert "related_code" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000

        section_names = [s.name for s in tier2.sections]
        assert "failing_tests" in section_names
        assert "target_location" in section_names
        assert "interface_definition" in section_names
        assert "similar_implementations" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '        assert "test_results" in section_names
        assert "coverage_delta" in section_names
        assert "remaining_failures" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '
        assert "TDD" in prompt
        assert "test" in prompt.lower()


class TestBaseContextTemplate:
    """Tests for BaseContextTemplate base class."""

    def test_tier1_always_present(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L276`
  - Forbidden pattern found: '
        assert tier1.name == "always"
        assert tier1.max_tokens == 800

        section_names = [s.name for s in tier1.sections]
        assert "fingerprint" in section_names
        assert "task" in section_names
        assert "phase" in section_names

    def test_tier1_sections_never_compact(self):
        """All tier1 sections have NEVER compaction."""
        tier1 = BaseContextTemplate.TIER1_ALWAYS

        for section in tier1.sections:
            assert section.compaction == CompactionLevel.NEVER

    def test_tier1_sections_required(self):
        """All tier1 sections are required."""
        tier1 = BaseContextTemplate.TIER1_ALWAYS

        for section in tier1.sections:
            assert section.required is True

    def test_tier3_on_demand(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '
        assert tier3.name == "on_demand"
        assert tier3.max_tokens == 1000

        section_names = [s.name for s in tier3.sections]
        assert "understanding" in section_names
        assert "recent" in section_names
        assert "additional" in section_names

    def test_tier3_sections_aggressive_compaction(self):
        """All tier3 sections have AGGRESSIVE compaction."""
        tier3 = BaseContextTemplate.TIER3_ON_DEMAND

        for section in tier3.sections:
            assert section.compaction == CompactionLevel.AGGRESSIVE

    def test_total_budget(self):
        """Total budget is reasonable."""
        template = FixViolationTemplate()
        budget = template.get_total_budget()

        # Tier1 (800) + max Tier2 (2000 for implement) + Tier3 (1000) = 3800
        assert 2000 < budget < 5000

    def test_get_all_tiers(self):
        """get_all_tiers returns all three tiers."""
        template = FixViolationTemplate()
        tiers = template.get_all_tiers("analyze")

        assert len(tiers) == 3
        assert tiers[0].name == "always"
        assert tiers[1].name == "analyze"
        assert tiers[2].name == "on_demand"

    def test_base_system_prompt(self):
        """Base system prompt is present and small."""
        prompt = BaseContextTemplate.BASE_SYSTEM_PROMPT

        assert "RULES" in prompt
        assert len(prompt) // 4 < 200  # Cacheable


class TestContextSection:
    """Tests for ContextSection model."""

    def test_default_compaction(self):
        """Default compaction is NORMAL."""
        section = ContextSection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L354`
  - Forbidden pattern found: '        assert section.compaction == CompactionLevel.NORMAL

    def test_default_not_required(self):
        """Default required is False."""
        section = ContextSection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L363`
  - Forbidden pattern found: '        assert section.required is False

    def test_hashable(self):
        """ContextSection is hashable."""
        section = ContextSection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '        assert hash(section) == hash(section2)


class TestTierDefinition:
    """Tests for TierDefinition model."""

    def test_get_section(self):
        """get_section returns section by name."""
        tier = TierDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '        assert section.name == "a"

        missing = tier.get_section("missing")
        assert missing is None

    def test_get_required_sections(self):
        """get_required_sections returns only required ones."""
        tier = TierDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L418`
  - Forbidden pattern found: '
        assert "a" in names
        assert "c" in names
        assert "b" not in names

    def test_get_section_names(self):
        """get_section_names returns all names."""
        tier = TierDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L443`
  - Forbidden pattern found: '        assert CompactionLevel.NEVER.value == "never"
        assert CompactionLevel.NORMAL.value == "normal"
        assert CompactionLevel.AGGRESSIVE.value == "aggressive"
        assert CompactionLevel.TRUNCATE_MIDDLE.value == "truncate_middle"

    def test_string_enum(self):
        """CompactionLevel is a string enum."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L451`
  - Forbidden pattern found: '        assert CompactionLevel.NEVER == "never"


class TestWriteTestsTemplate:
    """Tests for WriteTestsTemplate."""

    @pytest.fixture
    def template(self):
        return WriteTestsTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L463`
  - Forbidden pattern found: '        assert template.task_type == "write_tests"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L472`
  - Forbidden pattern found: '
        assert tier2.name == "init"
        section_names = [s.name for s in tier2.sections]
        assert "spec_requirements" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L480`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 1500
        section_names = [s.name for s in tier2.sections]
        assert "acceptance_criteria" in section_names
        assert "testable_interface" in section_names
        assert "existing_test_patterns" in section_names
        assert "coverage_gaps" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L491`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000
        section_names = [s.name for s in tier2.sections]
        assert "test_template" in section_names
        assert "assertion_hints" in section_names
        assert "fixture_examples" in section_names
        assert "edge_cases" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L504`
  - Forbidden pattern found: '        assert "tests_must_fail" in section_names
        assert "failure_reasons" in section_names

        # tests_must_fail is required (TDD red phase)
        tests_must_fail = tier2.get_section("tests_must_fail")
        assert tests_must_fail.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L514`
  - Forbidden pattern found: '
        assert "TDD" in prompt
        assert "fail" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L522`
  - Forbidden pattern found: '        assert tokens < 200


class TestDiscoveryTemplate:
    """Tests for DiscoveryTemplate."""

    @pytest.fixture
    def template(self):
        return DiscoveryTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L534`
  - Forbidden pattern found: '        assert template.task_type == "discovery"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L543`
  - Forbidden pattern found: '
        assert tier2.name == "scan"
        assert tier2.max_tokens == 1500
        section_names = [s.name for s in tier2.sections]
        assert "file_structure" in section_names
        assert "entry_points" in section_names
        assert "config_files" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L554`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000
        section_names = [s.name for s in tier2.sections]
        assert "dependency_graph" in section_names
        assert "pattern_candidates" in section_names
        assert "architecture_hints" in section_names
        assert "zone_detection" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L567`
  - Forbidden pattern found: '        assert "discovered_patterns" in section_names
        assert "zone_boundaries" in section_names
        assert "recommendations" in section_names

        # discovered_patterns is required
        discovered = tier2.get_section("discovered_patterns")
        assert discovered.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L579`
  - Forbidden pattern found: '        assert tokens < 200


class TestBridgeTemplate:
    """Tests for BridgeTemplate."""

    @pytest.fixture
    def template(self):
        return BridgeTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L591`
  - Forbidden pattern found: '        assert template.task_type == "bridge"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L600`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 1500
        section_names = [s.name for s in tier2.sections]
        assert "existing_code_structure" in section_names
        assert "target_contracts" in section_names
        assert "mapping_rules" in section_names

        # target_contracts is required
        contracts = tier2.get_section("target_contracts")
        assert contracts.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L614`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000
        section_names = [s.name for s in tier2.sections]
        assert "candidate_mappings" in section_names
        assert "conflict_analysis" in section_names
        assert "transformation_hints" in section_names

        # candidate_mappings is required
        mappings = tier2.get_section("candidate_mappings")
        assert mappings.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L630`
  - Forbidden pattern found: '        assert "mapping_coverage" in section_names
        assert "unmapped_elements" in section_names
        assert "validation_results" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L638`
  - Forbidden pattern found: '        assert tokens < 200


class TestCodeReviewTemplate:
    """Tests for CodeReviewTemplate."""

    @pytest.fixture
    def template(self):
        return CodeReviewTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L650`
  - Forbidden pattern found: '        assert template.task_type == "code_review"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L661`
  - Forbidden pattern found: '        assert "diff_summary" in section_names
        assert "changed_files" in section_names
        assert "pr_context" in section_names

        # diff_summary is required
        diff = tier2.get_section("diff_summary")
        assert diff.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L672`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000
        section_names = [s.name for s in tier2.sections]
        assert "full_diff" in section_names
        assert "affected_functions" in section_names
        assert "test_coverage" in section_names
        assert "related_code" in section_names

        # full_diff uses truncate_middle
        full_diff = tier2.get_section("full_diff")
        assert full_diff.compaction == CompactionLevel.TRUNCATE_MIDDLE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L689`
  - Forbidden pattern found: '        assert "findings" in section_names
        assert "suggestions" in section_names
        assert "security_concerns" in section_names

        # findings is required
        findings = tier2.get_section("findings")
        assert findings.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L700`
  - Forbidden pattern found: '
        assert "review" in prompt.lower()
        assert "security" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L708`
  - Forbidden pattern found: '        assert tokens < 200


class TestRefactorTemplate:
    """Tests for RefactorTemplate."""

    @pytest.fixture
    def template(self):
        return RefactorTemplate()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L720`
  - Forbidden pattern found: '        assert template.task_type == "refactor"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L731`
  - Forbidden pattern found: '        assert "refactor_goal" in section_names
        assert "scope" in section_names
        assert "constraints" in section_names

        # refactor_goal is required
        goal = tier2.get_section("refactor_goal")
        assert goal.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L742`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 1500
        section_names = [s.name for s in tier2.sections]
        assert "target_code" in section_names
        assert "dependencies" in section_names
        assert "callers" in section_names
        assert "test_coverage" in section_names

        # target_code uses truncate_middle
        target = tier2.get_section("target_code")
        assert target.compaction == CompactionLevel.TRUNCATE_MIDDLE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L757`
  - Forbidden pattern found: '
        assert tier2.max_tokens == 2000
        section_names = [s.name for s in tier2.sections]
        assert "source_code" in section_names
        assert "refactoring_patterns" in section_names
        assert "similar_refactors" in section_names
        assert "action_hints" in section_names

        # source_code is required
        source = tier2.get_section("source_code")
        assert source.required is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L774`
  - Forbidden pattern found: '        assert "test_command" in section_names
        assert "test_results" in section_names
        assert "behavior_diff" in section_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L781`
  - Forbidden pattern found: '
        assert "behavior" in prompt.lower()
        assert "refactor" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L789`
  - Forbidden pattern found: '        assert tokens < 200


class TestAllTemplatesRegistered:
    """Tests that all expected templates are registered."""

    def test_all_task_types_registered(self):
        """All 7 task types are registered."""
        types = list_task_types()

        assert "fix_violation" in types
        assert "implement_feature" in types
        assert "write_tests" in types
        assert "discovery" in types
        assert "bridge" in types
        assert "code_review" in types
        assert "refactor" in types

        assert len(types) == 7

    def test_all_templates_instantiable(self):
        """All registered templates can be instantiated."""
        for task_type in list_task_types():
            template = get_template_for_task(task_type)
            assert template.task_type == task_type
            assert len(template.phases) > 0

    def test_all_templates_have_valid_budgets(self):
        """All templates have reasonable token budgets."""
        for task_type in list_task_types():
            template = get_template_for_task(task_type)
            budget = template.get_total_budget()

            # Should be between 2000 and 5000 tokens'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L846`
  - Forbidden pattern found: '            assert "init" in mapping
            assert "analyze" in mapping
            assert "implement" in mapping
            assert "verify" in mapping

    def test_phase_mapping_returns_valid_phases(self):
        """Phase mapping returns phases that exist in template."""
        for task_type in list_task_types():
            template = get_template_for_task(task_type)
            mapping = template.get_phase_mapping()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L867`
  - Forbidden pattern found: '
        assert mapping["init"] == "scan"
        assert mapping["analyze"] == "analyze"
        assert mapping["implement"] == "synthesize"
        assert mapping["verify"] == "synthesize"

    def test_bridge_phase_mapping(self):
        """Bridge template maps to analyze/map/validate."""
        template = BridgeTemplate()
        mapping = template.get_phase_mapping()

        assert mapping["init"] == "analyze"
        assert mapping["analyze"] == "analyze"
        assert mapping["implement"] == "map"
        assert mapping["verify"] == "validate"

    def test_code_review_phase_mapping(self):
        """Code review template maps to init/analyze/report."""
        template = CodeReviewTemplate()
        mapping = template.get_phase_mapping()

        assert mapping["init"] == "init"
        assert mapping["analyze"] == "analyze"
        assert mapping["implement"] == "report"
        assert mapping["verify"] == "report"

    def test_translate_phase_method(self):
        """translate_phase uses mapping correctly."""
        template = DiscoveryTemplate()

        # Test translation of all standard phases
        assert template.translate_phase("init") == "scan"
        assert template.translate_phase("analyze") == "analyze"
        assert template.translate_phase("implement") == "synthesize"
        assert template.translate_phase("verify") == "synthesize"

        # Test case insensitivity
        assert template.translate_phase("INIT") == "scan"
        assert template.translate_phase("Analyze") == "analyze"

    def test_translate_phase_unknown_returns_first(self):
        """translate_phase returns first phase for unknown standard phase."""
        template = DiscoveryTemplate()

        # Unknown phase falls back to first phase
        assert template.translate_phase("unknown") == "scan"

    def test_fix_violation_default_mapping(self):
        """fix_violation uses standard phases so mapping is identity."""
        template = FixViolationTemplate()
        mapping = template.get_phase_mapping()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L920`
  - Forbidden pattern found: '        assert mapping["init"] == "init"
        assert mapping["analyze"] == "analyze"
        assert mapping["implement"] == "implement"
        assert mapping["verify"] == "verify"

    def test_all_templates_translate_all_standard_phases(self):
        """All templates can translate all standard phases."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L98`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L202`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L457`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L528`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L585`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L644`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L714`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/contracts/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/contracts/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_cli.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_cli.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_cli.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_draft.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_draft.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_draft.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_drafter.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_drafter.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_drafter.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_enforcer.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_enforcer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_enforcer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_evolution.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_evolution.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_evolution.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_operations.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_operations.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_operations.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/__pycache__/test_reviewer.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_reviewer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/contracts/__pycache__/test_reviewer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/contracts/test_cli.py`** (40 violations)

- ğŸ”µ **single-responsibility-modules** at `L64`
  - Class 'TestListCommand' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'TestShowCommand' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "PENDING DRAFTS" in result.output
        assert "DRAFT-TEST-001" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "APPROVED CONTRACTS" in result.output
        assert "CONTRACT-TEST-001" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L95`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "PENDING DRAFTS" in result.output
        assert "APPROVED CONTRACTS" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "(none)" in result.output


class TestShowCommand:
    """Tests for show command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "CONTRACT REVIEW" in result.output or "Test authentication" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "draft_id:" in result.output
        assert "DRAFT-TEST-001" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "CONTRACT-TEST-001" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "contract_set_id:" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "not found" in result.output


class TestApproveCommand:
    """Tests for approve command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "Approved" in result.output
        assert "REQ-NEW" in result.output

        # Verify draft is deleted and approved exists
        registry = ContractRegistry(temp_project)
        assert registry.get_draft("DRAFT-TEST-001") is None
        approved = registry.get_for_request("REQ-NEW")
        assert approved is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "not found" in result.output


class TestDeleteCommand:
    """Tests for delete command."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L206`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "Deleted" in result.output

        # Verify draft is gone
        registry = ContractRegistry(temp_project)
        assert registry.get_draft("DRAFT-TEST-001") is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '
        assert result.exit_code != 0
        assert "not found" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert "Cancelled" in result.output

        # Verify draft still exists
        registry = ContractRegistry(temp_project)
        assert registry.get_draft("DRAFT-TEST-001") is not None


class TestContractGroup:
    """Tests for contract command group."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '
        assert result.exit_code == 0
        assert "Task contract management" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L252`
  - Forbidden pattern found: '
        assert "draft" in result.output
        assert "review" in result.output
        assert "list" in result.output
        assert "show" in result.output
        assert "approve" in result.output
        assert "delete" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L26`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L32`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L69`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L80`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L102`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L116`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L137`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L147`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L188`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L202`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L216`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L226`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L244`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L251`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_draft.py`** (33 violations)

- ğŸ”µ **single-responsibility-modules** at `L210`
  - Class 'TestContractDraft' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L342`
  - Class 'TestApprovedContracts' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L36`
  - Forbidden pattern found: '
        assert rule.rule_id == "R-001"
        assert rule.check_type == "enum_constraint"
        assert rule.severity == "error"

    def test_validation_rule_to_dict(self):
        """Serialize validation rule."""
        rule = ValidationRule('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '
        assert data["rule_id"] == "R-001"
        assert data["check_type"] == "required_field"

    def test_validation_rule_from_dict(self):
        """Deserialize validation rule."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert rule.rule_id == "R-001"
        assert rule.severity == "warning"


class TestEscalationTrigger:
    """Tests for EscalationTrigger."""

    def test_trigger_creation(self):
        """Create an escalation trigger."""
        trigger = EscalationTrigger('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert trigger.trigger_id == "T-001"
        assert trigger.stage == "clarify"
        assert trigger.severity == "blocking"

    def test_trigger_to_dict(self):
        """Serialize trigger."""
        trigger = EscalationTrigger('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert data["trigger_id"] == "T-001"
        assert data["condition"] == "Test condition"

    def test_trigger_from_dict(self):
        """Deserialize trigger."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L112`
  - Forbidden pattern found: '
        assert trigger.trigger_id == "T-001"
        assert trigger.severity == "advisory"


class TestQualityGate:
    """Tests for QualityGate."""

    def test_gate_creation(self):
        """Create a quality gate."""
        gate = QualityGate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert gate.gate_id == "G-001"
        assert len(gate.checks) == 2

    def test_gate_to_dict(self):
        """Serialize gate."""
        gate = QualityGate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '
        assert data["stage"] == "analyze"


class TestStageContract:
    """Tests for StageContract."""

    def test_stage_contract_creation(self):
        """Create a stage contract."""
        contract = StageContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '
        assert contract.stage_name == "intake"
        assert len(contract.validation_rules) == 1
        assert "request_id" in contract.output_requirements

    def test_stage_contract_to_dict(self):
        """Serialize stage contract."""
        contract = StageContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert data["stage_name"] == "clarify"
        assert "clarified_requirements" in data["output_requirements"]

    def test_stage_contract_from_dict(self):
        """Deserialize stage contract."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '
        assert contract.stage_name == "analyze"
        assert len(contract.validation_rules) == 1


class TestContractDraft:
    """Tests for ContractDraft."""

    def test_draft_creation(self):
        """Create a contract draft."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert draft.draft_id == "DRAFT-20240103-120000"
        assert len(draft.stage_contracts) == 2
        assert draft.confidence == 0.85

    def test_draft_to_yaml(self):
        """Serialize draft to YAML."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L246`
  - Forbidden pattern found: '
        assert "draft_id: DRAFT-001" in yaml_str
        assert "detected_scope: bugfix" in yaml_str

    def test_draft_from_yaml(self):
        """Deserialize draft from YAML."""
        yaml_str = """
draft_id: DRAFT-001
request_summary: Test request
detected_scope: feature
stage_contracts:
  - stage_name: intake
    output_requirements:
      - request_id
confidence: 0.9
open_questions: []
assumptions: []
revision_history: []
created_at: "2024-01-03T12:00:00Z"
updated_at: "2024-01-03T12:00:00Z"
escalation_triggers: []
quality_gates: []
"""

        draft = ContractDraft.from_yaml(yaml_str)

        assert draft.draft_id == "DRAFT-001"
        assert draft.confidence == 0.9
        assert len(draft.stage_contracts) == 1

    def test_draft_get_stage_contract(self):
        """Get stage contract by name."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L291`
  - Forbidden pattern found: '
        assert intake is not None
        assert intake.stage_name == "intake"
        assert clarify is not None
        assert nonexistent is None

    def test_draft_add_revision(self):
        """Add revision to draft."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '
        assert len(draft.revision_history) == 1
        assert draft.revision_history[0].revision_id == "REV-001"
        assert "auth_method" in draft.revision_history[0].changes[0]

    def test_draft_with_questions_and_assumptions(self):
        """Draft with open questions and assumptions."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '
        assert len(draft.open_questions) == 1
        assert len(draft.assumptions) == 1
        assert draft.assumptions[0].confidence == 0.7


class TestApprovedContracts:
    """Tests for ApprovedContracts."""

    def test_approved_creation(self):
        """Create approved contracts."""
        approved = ApprovedContracts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '
        assert approved.contract_set_id == "CONTRACT-20240103-120000"
        assert approved.approved_by == "human"
        assert approved.version == "1.0"

    def test_approved_from_draft(self):
        """Create approved from draft."""
        draft = ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L383`
  - Forbidden pattern found: '
        assert approved.draft_id == "DRAFT-001"
        assert len(approved.stage_contracts) == 2
        assert len(approved.escalation_triggers) == 1

    def test_approved_to_yaml(self):
        """Serialize approved contracts to YAML."""
        approved = ApprovedContracts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L397`
  - Forbidden pattern found: '
        assert "contract_set_id: CONTRACT-001" in yaml_str

    def test_approved_from_yaml(self):
        """Deserialize approved contracts from YAML."""
        yaml_str = """
contract_set_id: CONTRACT-001
draft_id: DRAFT-001
request_id: REQ-001
stage_contracts:
  - stage_name: intake
    input_schema: {}
    input_requirements: []
    output_schema: {}
    output_requirements:
      - request_id
    validation_rules: []
    escalation_conditions: []
    rationale: ""
escalation_triggers: []
quality_gates: []
approved_at: "2024-01-03T12:00:00Z"
approved_by: human
version: "1.0"
"""

        approved = ApprovedContracts.from_yaml(yaml_str)

        assert approved.contract_set_id == "CONTRACT-001"
        assert len(approved.stage_contracts) == 1

    def test_approved_get_stage_contract(self):
        """Get stage contract from approved."""
        approved = ApprovedContracts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L442`
  - Forbidden pattern found: '
        assert intake is not None
        assert spec is not None
        assert intake.stage_name == "intake"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L51`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L58`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L140`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L182`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L189`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_drafter.py`** (27 violations)

- ğŸŸ¡ **max-function-length** at `L76`
  - Function 'mock_llm_response_yaml' has 57 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L72`
  - Class 'TestContractDrafter' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L25`
  - Forbidden pattern found: '
        assert result == "No codebase context provided."

    def test_full_context(self):
        """Full context formats properly."""
        ctx = CodebaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '
        assert "Project: MyProject" in result
        assert "Language: Python" in result
        assert "Framework: FastAPI" in result
        assert "Repository" in result
        assert "Use type hints" in result


class TestDrafterConfig:
    """Tests for DrafterConfig."""

    def test_default_config(self):
        """Default config has reasonable values."""
        config = DrafterConfig()

        assert config.use_thinking is True
        assert config.thinking_budget > 0
        assert config.max_tokens > 0
        assert len(config.default_stages) > 0

    def test_custom_config(self):
        """Custom config overrides defaults."""
        config = DrafterConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert config.use_thinking is False
        assert config.max_tokens == 4096
        assert len(config.default_stages) == 2


class TestContractDrafter:
    """Tests for ContractDrafter."""

    @pytest.fixture
    def mock_llm_response_yaml(self):
        """YAML response for successful drafting."""
        return """```yaml
draft_id: DRAFT-20240103-120000
request_summary: Add user authentication with JWT
detected_scope: feature
confidence: 0.85

stage_contracts:
  - stage_name: intake
    output_requirements:
      - request_id
      - detected_scope
      - auth_type
    validation_rules:
      - rule_id: R-001
        description: Auth type must be valid
        check_type: enum_constraint
        field_path: output.auth_type
        constraint:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
        assert drafter.llm_client is mock_llm_client
        assert drafter.config is not None
        assert len(drafter.system_prompt) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '
        assert drafter.config.use_thinking is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert draft.draft_id == "DRAFT-20240103-120000"
        assert draft.detected_scope == "feature"
        assert draft.confidence == 0.85
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert len(draft.stage_contracts) >= 2
        assert draft.get_stage_contract("intake") is not None
        assert draft.get_stage_contract("clarify") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '
        assert intake is not None
        assert len(intake.validation_rules) > 0
        assert intake.validation_rules[0].rule_id == "R-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '
        assert len(draft.escalation_triggers) > 0
        assert draft.escalation_triggers[0].trigger_id == "T-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '
        assert len(draft.quality_gates) > 0
        assert draft.quality_gates[0].gate_id == "G-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '
        assert len(draft.open_questions) > 0
        assert "refresh tokens" in draft.open_questions[0].question
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert len(draft.assumptions) > 0
        assert draft.assumptions[0].confidence == 0.7
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
        assert draft is not None

    def test_draft_handles_yaml_without_codeblock(self):
        """Parser handles YAML without code block."""
        yaml_response = """draft_id: DRAFT-001
request_summary: Test request
detected_scope: bugfix
confidence: 0.9
stage_contracts: []
escalation_triggers: []
quality_gates: []
open_questions: []
assumptions: []
"""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": yaml_response}]
        )
        drafter = ContractDrafter(client)

        draft = drafter.draft("Fix bug")

        assert draft.draft_id == "DRAFT-001"
        assert draft.detected_scope == "bugfix"

    def test_draft_handles_invalid_yaml(self):
        """Parser handles invalid YAML gracefully."""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": "not: valid: yaml: [["}]
        )
        drafter = ContractDrafter(client)

        draft = drafter.draft("Some request")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '        assert draft is not None
        assert draft.confidence == 0.0
        assert len(draft.open_questions) > 0
        assert "failed" in draft.open_questions[0].question.lower()

    def test_draft_handles_empty_response(self):
        """Parser handles empty response."""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": ""}]
        )
        drafter = ContractDrafter(client)

        draft = drafter.draft("Some request")

        # Should return error draft
        assert draft is not None
        assert draft.confidence == 0.0


class TestContractDrafterRefine:
    """Tests for refinement functionality."""

    @pytest.fixture
    def initial_draft(self):
        """Create an initial draft for refinement."""
        from agentforge.core.contracts.draft import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '
        assert len(refined.revision_history) == 1
        assert "auth_method" in refined.revision_history[0].reason.lower()
        assert "Refined based on human feedback" in refined.revision_history[0].changes[0]


class TestDrafterSystemPrompt:
    """Tests for system prompt loading."""

    def test_default_prompt_exists(self):
        """Default system prompt is loaded."""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": "draft_id: X\ndetected_scope: feature"}]
        )
        drafter = ContractDrafter(client)

        assert len(drafter.system_prompt) > 100
        assert "Contract" in drafter.system_prompt

    def test_prompt_includes_role(self):
        """System prompt includes role definition."""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": "draft_id: X\ndetected_scope: feature"}]
        )
        drafter = ContractDrafter(client)

        assert "Role" in drafter.system_prompt or "role" in drafter.system_prompt.lower()

    def test_prompt_includes_output_format(self):
        """System prompt includes output format."""
        client = LLMClientFactory.create_for_testing(
            responses=[{"content": "draft_id: X\ndetected_scope: feature"}]
        )
        drafter = ContractDrafter(client)

        assert "yaml" in drafter.system_prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L75`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L140`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L297`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L76`
  - Function 'mock_llm_response_yaml' has 57 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L24`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L38`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_enforcer.py`** (45 violations)

- ğŸŸ¡ **max-function-length** at `L28`
  - Function 'sample_contracts' has 52 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L115`
  - Class 'TestValidationResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L171`
  - Class 'TestContractEnforcer' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '
        assert violation.violation_id == "V-001"
        assert violation.severity == ViolationSeverity.ERROR

    def test_violation_to_dict(self):
        """Serialize violation."""
        violation = Violation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L110`
  - Forbidden pattern found: '
        assert data["violation_type"] == "enum_violation"
        assert data["severity"] == "error"


class TestValidationResult:
    """Tests for ValidationResult."""

    def test_empty_result_is_valid(self):
        """Empty result is valid."""
        result = ValidationResult(valid=True)

        assert result.valid
        assert result.error_count == 0
        assert result.warning_count == 0

    def test_add_error_violation(self):
        """Adding error makes result invalid."""
        result = ValidationResult(valid=True)
        result.add_violation(Violation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert not result.valid
        assert result.error_count == 1

    def test_add_warning_keeps_valid(self):
        """Adding warning keeps result valid."""
        result = ValidationResult(valid=True)
        result.add_violation(Violation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '
        assert result.valid
        assert result.warning_count == 1

    def test_merge_results(self):
        """Merge multiple results."""
        result1 = ValidationResult(valid=True)
        result1.add_violation(Violation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '
        assert not merged.valid
        assert merged.error_count == 1
        assert merged.warning_count == 1


class TestContractEnforcer:
    """Tests for ContractEnforcer."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '
        assert enforcer.contracts is sample_contracts
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L191`
  - Forbidden pattern found: '
        assert result.valid
        assert result.error_count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '
        assert not result.valid
        assert result.error_count == 1
        assert "request_id" in result.violations[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert result.valid
        assert result.error_count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
        assert not result.valid
        assert any("auth_type" in v.message for v in result.violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert not result.valid
        assert any(v.violation_type == ViolationType.ENUM_VIOLATION for v in result.violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '
        assert not result.valid
        assert any(v.violation_type == ViolationType.TYPE_MISMATCH for v in result.violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L252`
  - Forbidden pattern found: '
        assert result.valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '        assert len(triggered) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '        assert len(triggered) == 1
        assert triggered[0].trigger.trigger_id == "T-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
        assert result.passed
        assert len(result.failed_checks) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L294`
  - Forbidden pattern found: '
        assert not result.passed
        assert len(result.failed_checks) > 0
        assert result.action == "escalate"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L305`
  - Forbidden pattern found: '
        assert result.passed
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L320`
  - Forbidden pattern found: '
        assert not summary["valid"]
        assert summary["total_errors"] >= 1
        assert summary["stages_checked"] == 2


class TestEnforcerWithEmptyContracts:
    """Tests with minimal contracts."""

    def test_empty_stage_contracts(self):
        """Enforcer handles empty stage contracts."""
        contracts = ApprovedContracts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L339`
  - Forbidden pattern found: '
        assert result.valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L27`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L174`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L28`
  - Function 'sample_contracts' has 52 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L109`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L120`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L128`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L141`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L187`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L208`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L218`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L248`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L278`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L289`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L301`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L338`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_evolution.py`** (22 violations)

- ğŸ”µ **single-responsibility-modules** at `L115`
  - Class 'TestContractEvolutionHandler' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L262`
  - Class 'TestEvolutionViolationTypes' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '
        assert violation.violation_id == "AV-001"
        assert violation.violation_type == EvolutionViolationType.ASSUMPTION_WRONG

    def test_violation_to_dict(self):
        """Serialize violation to dictionary."""
        violation = AssumptionViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L70`
  - Forbidden pattern found: '
        assert data["violation_id"] == "AV-001"
        assert data["violation_type"] == "scope_change"


class TestContractChange:
    """Tests for ContractChange."""

    def test_create_change(self):
        """Create a contract change."""
        change = ContractChange('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '
        assert change.change_id == "CHG-001"
        assert change.change_type == "add_rule"


class TestContractEscalation:
    """Tests for ContractEscalation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
        assert escalation.escalation_id == "ESC-001"
        assert len(escalation.violations) == 1
        assert not escalation.resolved


class TestContractEvolutionHandler:
    """Tests for ContractEvolutionHandler."""

    @pytest.fixture
    def handler(self):
        """Create a handler."""
        return ContractEvolutionHandler()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert violation is not None
        assert violation.violation_type == EvolutionViolationType.ASSUMPTION_WRONG
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '
        assert violation is not None
        assert violation.violation_type == EvolutionViolationType.SCOPE_CHANGE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '
        assert violation is not None
        assert violation.violation_type == EvolutionViolationType.CONTRACT_INCOMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '
        assert violation is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '
        assert escalation is not None
        assert len(escalation.violations) == 1
        assert len(escalation.proposed_changes) >= 1
        assert "CONTRACT EVOLUTION REQUIRED" in escalation.prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert "scope_change" in escalation.prompt.lower()
        assert "Options:" in escalation.prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L227`
  - Forbidden pattern found: '
        assert evolved.version == "1.1"
        assert evolved.contract_set_id != sample_contracts.contract_set_id
        intake = evolved.get_stage_contract("intake")
        assert "new_field" in intake.output_requirements
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '
        assert len(evolved.escalation_triggers) == 1
        assert "T-EVOLVED" in evolved.escalation_triggers[0].trigger_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '
        assert evolved.draft_id == sample_contracts.draft_id
        assert evolved.request_id == sample_contracts.request_id
        assert len(evolved.stage_contracts) == len(sample_contracts.stage_contracts)


class TestEvolutionViolationTypes:
    """Tests for violation types."""

    def test_assumption_wrong(self):
        """ASSUMPTION_WRONG type."""
        vtype = EvolutionViolationType.ASSUMPTION_WRONG
        assert vtype.value == "assumption_wrong"

    def test_scope_change(self):
        """SCOPE_CHANGE type."""
        vtype = EvolutionViolationType.SCOPE_CHANGE
        assert vtype.value == "scope_change"

    def test_new_constraint(self):
        """NEW_CONSTRAINT type."""
        vtype = EvolutionViolationType.NEW_CONSTRAINT
        assert vtype.value == "new_constraint"

    def test_contract_incomplete(self):
        """CONTRACT_INCOMPLETE type."""
        vtype = EvolutionViolationType.CONTRACT_INCOMPLETE
        assert vtype.value == "contract_incomplete"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L23`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L118`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L69`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_operations.py`** (67 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L357`
  - Function 'test_load_builtin_contracts' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L511`
  - Function 'test_code_generation_contract' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸŸ¡ **max-cyclomatic-complexity** at `L608`
  - Function 'test_design_patterns_contract' has complexity 32 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L146`
  - Class 'TestOperationContract' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L260`
  - Class 'TestLoadOperationContract' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L327`
  - Class 'TestLoadAllOperationContracts' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L394`
  - Class 'TestOperationContractManager' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L476`
  - Class 'TestBuiltinContracts' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L34`
  - Forbidden pattern found: '
        assert rule.rule_id == "read-before-edit"
        assert rule.check_type == "sequence_constraint"
        assert rule.severity == "error"

    def test_rule_to_dict(self):
        """Serialize rule to dictionary."""
        rule = OperationRule('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert data["id"] == "test-rule"
        assert data["check_type"] == "tool_preference"

    def test_rule_from_dict(self):
        """Deserialize rule from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert rule.rule_id == "test-rule"
        assert rule.severity == "warning"


class TestOperationTrigger:
    """Tests for OperationTrigger."""

    def test_trigger_creation(self):
        """Create an operation trigger."""
        trigger = OperationTrigger('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
        assert trigger.trigger_id == "force-push-requested"
        assert trigger.severity == "blocking"

    def test_trigger_to_dict(self):
        """Serialize trigger to dictionary."""
        trigger = OperationTrigger('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L90`
  - Forbidden pattern found: '
        assert data["trigger_id"] == "test-trigger"

    def test_trigger_from_dict(self):
        """Deserialize trigger from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert trigger.trigger_id == "test-trigger"
        assert trigger.severity == "advisory"


class TestOperationGate:
    """Tests for OperationGate."""

    def test_gate_creation(self):
        """Create an operation gate."""
        gate = OperationGate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert gate.gate_id == "pre-commit-check"
        assert len(gate.checks) == 2

    def test_gate_to_dict(self):
        """Serialize gate to dictionary."""
        gate = OperationGate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
        assert data["gate_id"] == "test-gate"

    def test_gate_from_dict(self):
        """Deserialize gate from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '
        assert gate.gate_id == "test-gate"
        assert gate.failure_action == "abort"


class TestOperationContract:
    """Tests for OperationContract."""

    def test_contract_creation(self):
        """Create an operation contract."""
        contract = OperationContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '
        assert contract.contract_id == "operation.test.v1"
        assert len(contract.rules) == 1

    def test_contract_to_dict(self):
        """Serialize contract to dictionary."""
        contract = OperationContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert data["id"] == "operation.test.v1"
        assert data["version"] == "1.0"

    def test_contract_from_dict(self):
        """Deserialize contract from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L196`
  - Forbidden pattern found: '
        assert contract.contract_id == "operation.test.v1"
        assert contract.version == "2.0"
        assert len(contract.rules) == 1

    def test_get_rule(self):
        """Get a specific rule by ID."""
        contract = OperationContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L214`
  - Forbidden pattern found: '
        assert rule is not None
        assert rule.rule_id == "rule-2"

    def test_get_rule_nonexistent(self):
        """Get rule returns None for nonexistent ID."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert contract.get_rule("nonexistent") is None

    def test_get_rules_by_type(self):
        """Get rules filtered by check type."""
        contract = OperationContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '
        assert len(cmd_rules) == 2
        assert all(r.check_type == "command_constraint" for r in cmd_rules)

    def test_get_rules_by_severity(self):
        """Get rules filtered by severity."""
        contract = OperationContract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '
        assert len(errors) == 2


class TestLoadOperationContract:
    """Tests for loading operation contracts from files."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '
        assert contract.contract_id == "operation.test.v1"
        assert len(contract.rules) == 1
        assert len(contract.escalation_triggers) == 1
        assert len(contract.quality_gates) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '
        assert contract.source_path == temp_contract
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L352`
  - Forbidden pattern found: '
        assert len(contracts) == 2
        assert "operation.one.v1" in contracts
        assert "operation.two.v1" in contracts

    def test_load_builtin_contracts(self):
        """Load built-in operation contracts."""
        contracts = load_all_operation_contracts()

        # We now have 10 operation contracts
        assert len(contracts) >= 10
        # Original 3
        assert "operation.tool-usage.v1" in contracts
        assert "operation.git.v1" in contracts
        assert "operation.safety.v1" in contracts
        # New 7 design/architecture contracts
        assert "operation.code-generation.v1" in contracts
        assert "operation.testing-patterns.v1" in contracts
        assert "operation.error-handling.v1" in contracts
        assert "operation.api-design.v1" in contracts
        assert "operation.async-patterns.v1" in contracts
        assert "operation.observability.v1" in contracts
        assert "operation.design-patterns.v1" in contracts
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L389`
  - Forbidden pattern found: '
        assert len(contracts) == 1
        assert "operation.valid.v1" in contracts


class TestOperationContractManager:
    """Tests for OperationContractManager."""

    @pytest.fixture
    def manager(self):
        """Create manager with built-in contracts."""
        return OperationContractManager()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L404`
  - Forbidden pattern found: '        assert len(manager.contracts) >= 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L409`
  - Forbidden pattern found: '
        assert len(rules) > 0
        # Each contract has multiple rules
        assert len(rules) > 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L417`
  - Forbidden pattern found: '
        assert len(triggers) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L423`
  - Forbidden pattern found: '
        assert len(gates) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L429`
  - Forbidden pattern found: '
        assert len(cmd_rules) > 0
        assert all(r.check_type == "command_constraint" for r in cmd_rules)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L436`
  - Forbidden pattern found: '
        assert len(errors) > 0
        assert all(r.severity == "error" for r in errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L443`
  - Forbidden pattern found: '
        assert len(blocking) > 0
        assert all(t.severity == "blocking" for t in blocking)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L452`
  - Forbidden pattern found: '        assert len(issues) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L472`
  - Forbidden pattern found: '
        assert any("Duplicate rule ID: same-id" in issue for issue in issues)


class TestBuiltinContracts:
    """Tests for built-in operation contracts."""

    @pytest.fixture
    def manager(self):
        """Load built-in contracts."""
        return OperationContractManager()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L487`
  - Forbidden pattern found: '
        assert contract is not None
        assert contract.get_rule("read-before-edit") is not None
        assert contract.get_rule("glob-for-discovery") is not None
        assert contract.get_rule("read-not-cat") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L496`
  - Forbidden pattern found: '
        assert contract is not None
        assert contract.get_rule("no-force-push") is not None
        assert contract.get_rule("no-main-direct") is not None
        assert contract.get_rule("commit-message-format") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L505`
  - Forbidden pattern found: '
        assert contract is not None
        assert contract.get_rule("no-secrets-in-code") is not None
        assert contract.get_rule("no-destructive-system") is not None
        assert contract.get_rule("no-sudo-without-approval") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L514`
  - Forbidden pattern found: '
        assert contract is not None
        # SOLID principles
        assert contract.get_rule("single-responsibility") is not None
        assert contract.get_rule("open-closed") is not None
        assert contract.get_rule("liskov-substitution") is not None
        assert contract.get_rule("interface-segregation") is not None
        assert contract.get_rule("dependency-inversion") is not None
        # Code structure rules
        assert contract.get_rule("function-size-limit") is not None
        assert contract.get_rule("cyclomatic-complexity-limit") is not None
        # Naming conventions
        assert contract.get_rule("descriptive-naming") is not None
        assert contract.get_rule("boolean-naming") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L532`
  - Forbidden pattern found: '
        assert contract is not None
        # Test structure
        assert contract.get_rule("arrange-act-assert") is not None
        assert contract.get_rule("one-assertion-concept") is not None
        # Test isolation
        assert contract.get_rule("test-isolation") is not None
        assert contract.get_rule("no-flaky-tests") is not None
        assert contract.get_rule("mock-at-boundaries") is not None
        # Test coverage
        assert contract.get_rule("test-pyramid") is not None
        assert contract.get_rule("coverage-requirements") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L548`
  - Forbidden pattern found: '
        assert contract is not None
        # Exception design
        assert contract.get_rule("custom-exception-hierarchy") is not None
        assert contract.get_rule("exception-information") is not None
        # Exception handling
        assert contract.get_rule("catch-specific-exceptions") is not None
        assert contract.get_rule("no-swallowed-exceptions") is not None
        # Result pattern
        assert contract.get_rule("result-pattern") is not None
        # Validation
        assert contract.get_rule("fail-fast-validation") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L564`
  - Forbidden pattern found: '
        assert contract is not None
        # Resource design
        assert contract.get_rule("resource-naming") is not None
        assert contract.get_rule("http-method-semantics") is not None
        assert contract.get_rule("status-code-usage") is not None
        # Request/response
        assert contract.get_rule("request-validation") is not None
        assert contract.get_rule("error-response-format") is not None
        # Versioning
        assert contract.get_rule("api-versioning") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L579`
  - Forbidden pattern found: '
        assert contract is not None
        # Async basics
        assert contract.get_rule("async-all-the-way") is not None
        assert contract.get_rule("no-fire-and-forget") is not None
        assert contract.get_rule("structured-concurrency") is not None
        # Cancellation and timeouts
        assert contract.get_rule("cancellation-support") is not None
        assert contract.get_rule("timeout-all-io") is not None
        # Concurrency control
        assert contract.get_rule("limit-concurrency") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L594`
  - Forbidden pattern found: '
        assert contract is not None
        # Logging
        assert contract.get_rule("structured-logging") is not None
        assert contract.get_rule("log-levels") is not None
        assert contract.get_rule("sensitive-data-logging") is not None
        # Metrics
        assert contract.get_rule("metrics-naming") is not None
        assert contract.get_rule("four-golden-signals") is not None
        assert contract.get_rule("histogram-over-average") is not None
        # Tracing
        assert contract.get_rule("trace-all-requests") is not None
        assert contract.get_rule("span-naming") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L611`
  - Forbidden pattern found: '
        assert contract is not None
        # Creational patterns
        assert contract.get_rule("factory-method") is not None
        assert contract.get_rule("abstract-factory") is not None
        assert contract.get_rule("builder-pattern") is not None
        assert contract.get_rule("singleton-pattern") is not None
        assert contract.get_rule("prototype-pattern") is not None
        # Structural patterns
        assert contract.get_rule("adapter-pattern") is not None
        assert contract.get_rule("decorator-pattern") is not None
        assert contract.get_rule("facade-pattern") is not None
        assert contract.get_rule("proxy-pattern") is not None
        assert contract.get_rule("composite-pattern") is not None
        assert contract.get_rule("bridge-pattern") is not None
        assert contract.get_rule("flyweight-pattern") is not None
        # Behavioral patterns
        assert contract.get_rule("strategy-pattern") is not None
        assert contract.get_rule("observer-pattern") is not None
        assert contract.get_rule("command-pattern") is not None
        assert contract.get_rule("template-method-pattern") is not None
        assert contract.get_rule("state-pattern") is not None
        assert contract.get_rule("chain-of-responsibility") is not None
        assert contract.get_rule("mediator-pattern") is not None
        assert contract.get_rule("iterator-pattern") is not None
        assert contract.get_rule("visitor-pattern") is not None
        assert contract.get_rule("memento-pattern") is not None
        # Architectural patterns
        assert contract.get_rule("repository-pattern") is not None
        assert contract.get_rule("unit-of-work-pattern") is not None
        assert contract.get_rule("cqrs-pattern") is not None
        assert contract.get_rule("event-sourcing-pattern") is not None
        # Modern patterns
        assert contract.get_rule("dependency-injection-container") is not None
        assert contract.get_rule("circuit-breaker-pattern") is not None
        assert contract.get_rule("saga-pattern") is not None
        assert contract.get_rule("specification-pattern") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L263`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L330`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L397`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L479`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L608`
  - Function 'test_design_patterns_contract' has 34 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L357`
  - Function 'test_load_builtin_contracts' has complexity 12 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L511`
  - Function 'test_code_generation_contract' has complexity 11 (max: 10)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L608`
  - Function 'test_design_patterns_contract' has complexity 32 (max: 10)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L54`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L89`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L95`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L128`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L175`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L182`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_registry.py`** (29 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'TestContractRegistry' has 19 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert (temp_project / ".agentforge" / "contracts" / "approved").exists()
        assert (temp_project / ".agentforge" / "contracts" / "drafts").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '
        assert result_id == "CONTRACT-20240103-120000"

        # Verify file created
        contracts_file = (
            registry.approved_dir / "CONTRACT-20240103-120000.yaml"
        )
        assert contracts_file.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L82`
  - Forbidden pattern found: '
        assert retrieved is not None
        assert retrieved.contract_set_id == "CONTRACT-20240103-120000"
        assert len(retrieved.stage_contracts) == 1
        assert "request_id" in retrieved.stage_contracts[0].output_requirements
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L91`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert retrieved is not None
        assert retrieved.request_id == "REQ-AUTH-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert len(summaries) == 3
        assert all("contract_set_id" in s for s in summaries)
        assert all("stage_count" in s for s in summaries)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert result_id == "DRAFT-20240103-120000"
        draft_file = registry.drafts_dir / "DRAFT-20240103-120000.yaml"
        assert draft_file.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '
        assert retrieved is not None
        assert retrieved.draft_id == "DRAFT-20240103-120000"
        assert retrieved.confidence == 0.85
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L168`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert len(summaries) == 2
        assert all("draft_id" in s for s in summaries)
        assert all("confidence" in s for s in summaries)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L198`
  - Forbidden pattern found: '
        assert result is True
        assert registry.get_draft("DRAFT-TO-DELETE") is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '
        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '        assert evolved is not None
        assert evolved.version == "1.1"
        assert "auth_method" in evolved.stage_contracts[0].output_requirements
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L262`
  - Forbidden pattern found: '        assert len(evolved.escalation_triggers) == 1
        assert evolved.escalation_triggers[0].trigger_id == "T-NEW"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L282`
  - Forbidden pattern found: '
        assert retrieved is not None
        assert retrieved.contract_set_id == "CONTRACT-001"


class TestIdGenerators:
    """Tests for ID generation functions."""

    def test_generate_contract_set_id(self):
        """Generate unique contract set ID."""
        id1 = generate_contract_set_id()
        id2 = generate_contract_set_id()

        assert id1.startswith("CONTRACT-")
        assert id2.startswith("CONTRACT-")
        # IDs should be unique (timestamp-based)
        # Note: could be same if generated in same second

    def test_generate_draft_id(self):
        """Generate unique draft ID."""
        id1 = generate_draft_id()
        id2 = generate_draft_id()

        assert id1.startswith("DRAFT-")
        assert id2.startswith("DRAFT-")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L27`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L32`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L24`
  - Class 'TestContractRegistry' has 19 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L90`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L110`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L167`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L204`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/contracts/test_reviewer.py`** (32 violations)

- ğŸŸ¡ **max-function-length** at `L29`
  - Function 'sample_draft' has 65 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L122`
  - Class 'TestReviewFeedback' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L202`
  - Class 'TestContractReviewer' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '
        assert decision.stage_name == "intake"
        assert decision.decision == ReviewDecision.APPROVE

    def test_create_modification(self):
        """Create a modification decision."""
        decision = StageDecision('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert decision.decision == ReviewDecision.MODIFY
        assert "password policy" in decision.notes


class TestReviewFeedback:
    """Tests for ReviewFeedback."""

    def test_empty_feedback(self):
        """Empty feedback has sensible defaults."""
        feedback = ReviewFeedback()

        assert len(feedback.stage_decisions) == 0
        assert feedback.overall_decision == OverallDecision.APPROVE

    def test_get_stage_decision(self):
        """Get decision for specific stage."""
        feedback = ReviewFeedback(
            stage_decisions=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert intake is not None
        assert intake.decision == ReviewDecision.APPROVE
        assert clarify.decision == ReviewDecision.MODIFY
        assert missing is None

    def test_all_stages_approved_true(self):
        """All stages approved returns True."""
        feedback = ReviewFeedback(
            stage_decisions=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L158`
  - Forbidden pattern found: '
        assert feedback.all_stages_approved() is True

    def test_all_stages_approved_false(self):
        """Not all stages approved returns False."""
        feedback = ReviewFeedback(
            stage_decisions=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert feedback.all_stages_approved() is False


class TestReviewSession:
    """Tests for ReviewSession."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '
        assert session.session_id == "REVIEW-001"
        assert session.status == "pending"
        assert session.draft is sample_draft
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L195`
  - Forbidden pattern found: '
        assert session.status == "approved"
        assert approved is not None
        assert approved.draft_id == sample_draft.draft_id
        assert approved.request_id == "REQ-001"


class TestContractReviewer:
    """Tests for ContractReviewer."""

    @pytest.fixture
    def reviewer(self):
        """Create a reviewer."""
        return ContractReviewer()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L213`
  - Forbidden pattern found: '
        assert session.session_id.startswith("REVIEW-")
        assert session.draft is sample_draft
        assert session.status == "pending"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert "CONTRACT REVIEW" in output
        assert "Add user authentication" in output
        assert "STAGE: intake" in output
        assert "STAGE: clarify" in output
        assert "ESCALATION TRIGGERS" in output
        assert "OPEN QUESTIONS" in output
        assert "ASSUMPTIONS" in output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '
        assert "85%" in output or "0.85" in output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L239`
  - Forbidden pattern found: '
        assert "Validation" in output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L246`
  - Forbidden pattern found: '
        assert "STAGE: intake" in output
        assert "Output Requirements" in output
        assert "request_id" in output
        assert "Validation Rules" in output
        assert "R-001" in output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L266`
  - Forbidden pattern found: '
        assert updated.status == "approved"
        assert updated.feedback is feedback
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '
        assert updated.status == "refined"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L296`
  - Forbidden pattern found: '        assert updated.status == "pending"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L304`
  - Forbidden pattern found: '
        assert approved is not None
        assert approved.request_id == "REQ-001"
        assert len(approved.stage_contracts) == len(sample_draft.stage_contracts)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L315`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L331`
  - Forbidden pattern found: '
        assert session.session_id in summary
        assert "Status: pending" in summary
        assert "Approved stages: 2/2" in summary


class TestReviewerWithEmptyDraft:
    """Tests with minimal/empty drafts."""

    @pytest.fixture
    def empty_draft(self):
        """Create an empty draft."""
        return ContractDraft('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L353`
  - Forbidden pattern found: '
        assert "CONTRACT REVIEW" in output
        assert "Simple request" in output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L361`
  - Forbidden pattern found: '
        assert session is not None
        assert len(session.draft.stage_contracts) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L28`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L205`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L340`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L29`
  - Function 'sample_draft' has 65 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L314`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/core/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/__pycache__/test_contract_runner.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_contract_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_contract_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/__pycache__/test_verification_contracts_check.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_verification_contracts_check.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_verification_contracts_check.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/__pycache__/test_verification_reports.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_verification_reports.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/__pycache__/test_verification_reports.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/discovery/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/discovery/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/discovery/__pycache__/test_zone_detector.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__/test_zone_detector.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/discovery/__pycache__/test_zone_detector.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/discovery/test_domain.py`** (58 violations)

- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'TestConfidenceLevel' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L72`
  - Class 'TestDetection' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L204`
  - Class 'TestCoverageGapAnalysis' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L268`
  - Class 'TestZone' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L382`
  - Class 'TestCodebaseProfile' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '        assert ConfidenceLevel.from_score(0.9) == ConfidenceLevel.HIGH
        assert ConfidenceLevel.from_score(0.95) == ConfidenceLevel.HIGH
        assert ConfidenceLevel.from_score(1.0) == ConfidenceLevel.HIGH

    def test_from_score_medium(self):
        """Should return MEDIUM for scores 0.6-0.9."""
        assert ConfidenceLevel.from_score(0.6) == ConfidenceLevel.MEDIUM
        assert ConfidenceLevel.from_score(0.75) == ConfidenceLevel.MEDIUM
        assert ConfidenceLevel.from_score(0.89) == ConfidenceLevel.MEDIUM

    def test_from_score_low(self):
        """Should return LOW for scores 0.3-0.6."""
        assert ConfidenceLevel.from_score(0.3) == ConfidenceLevel.LOW
        assert ConfidenceLevel.from_score(0.45) == ConfidenceLevel.LOW
        assert ConfidenceLevel.from_score(0.59) == ConfidenceLevel.LOW

    def test_from_score_uncertain(self):
        """Should return UNCERTAIN for scores < 0.3."""
        assert ConfidenceLevel.from_score(0.0) == ConfidenceLevel.UNCERTAIN
        assert ConfidenceLevel.from_score(0.1) == ConfidenceLevel.UNCERTAIN
        assert ConfidenceLevel.from_score(0.29) == ConfidenceLevel.UNCERTAIN


class TestDetection:
    """Tests for Detection dataclass."""

    def test_confidence_level_property(self):
        """Should return correct confidence level from score."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '        assert detection.confidence_level == ConfidenceLevel.MEDIUM
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L81`
  - Forbidden pattern found: '        assert detection_high.confidence_level == ConfidenceLevel.HIGH

    def test_to_dict_minimal(self):
        """Should convert minimal detection to dict."""
        detection = Detection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '
        assert result["value"] == "found_pattern"
        assert result["confidence"] == 0.75
        assert result["source"] == "auto-detected"
        assert "signals" not in result
        assert "metadata" not in result

    def test_to_dict_with_signals(self):
        """Should include signals when present."""
        detection = Detection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert result["metadata"] == {"key": "value"}

    def test_confidence_rounding(self):
        """Should round confidence to 2 decimal places."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '        assert result["confidence"] == 0.12


class TestLanguageInfo:
    """Tests for LanguageInfo dataclass."""

    def test_to_dict(self):
        """Should convert language info to dict."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L147`
  - Forbidden pattern found: '
        assert result["name"] == "Python"
        assert result["version"] == "3.11"
        assert result["confidence"] == 0.95
        assert result["file_count"] == 100
        assert result["line_count"] == 5000'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '        assert result["primary"] is True


class TestLayerInfo:
    """Tests for LayerInfo dataclass."""

    def test_has_violations_default(self):
        """Should return False for has_violations by default."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '        assert layer.has_violations is False

    def test_to_dict(self):
        """Should convert layer info to dict."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L177`
  - Forbidden pattern found: '
        assert result["name"] == "core"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert result["file_count"] == 50
        assert result["confidence"] == 0.9


class TestSourceTestLinkage:
    """Tests for SourceTestLinkage dataclass."""

    def test_to_dict(self):
        """Should convert test linkage to dict."""
        linkage = SourceTestLinkage('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '
        assert result["source_path"] == "src/core/module.py"
        assert len(result["test_paths"]) == 2
        assert result["confidence"] == 0.85
        assert result["detection_method"] == "import"


class TestCoverageGapAnalysis:
    """Tests for CoverageGapAnalysis dataclass."""

    def test_get_test_path_found(self):
        """Should return primary test path when linkage exists."""
        linkage = SourceTestLinkage('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '
        assert result == "tests/test_module.py"

    def test_get_test_path_not_found(self):
        """Should return None when no linkage exists."""
        analysis = CoverageGapAnalysis(linkages=[])

        result = analysis.get_test_path("src/unknown.py")

        assert result is None

    def test_get_test_path_empty_test_paths(self):
        """Should return None when linkage has empty test_paths."""
        linkage = SourceTestLinkage('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '
        assert result is None

    def test_to_dict(self):
        """Should convert test analysis to dict with linkages."""
        inventory = DiscoveredTests('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '
        assert result["inventory"]["total_test_files"] == 10
        assert result["inventory"]["frameworks"] == ["pytest"]
        assert result["estimated_coverage"] == 0.65
        assert result["linkages"] == {"src/a.py": ["tests/test_a.py"]}


class TestZone:
    """Tests for Zone dataclass."""

    def test_to_dict(self):
        """Should convert zone to dict."""
        zone = Zone('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L284`
  - Forbidden pattern found: '
        assert result["name"] == "backend"
        assert result["path"] == "/repo/backend"
        assert result["language"] == "python"
        assert result["marker"] == "/repo/backend/pyproject.toml"
        assert result["detection"] == "auto"
        assert result["purpose"] == "API services"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '
        assert result["marker"] is None

    def test_contains_path_inside(self):
        """Should return True for paths inside zone."""
        zone = Zone('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '
        assert zone.contains_path(Path("/repo/backend/src")) is True
        assert zone.contains_path(Path("/repo/backend/src/module.py")) is True
        assert zone.contains_path(Path("/repo/backend")) is True

    def test_contains_path_outside(self):
        """Should return False for paths outside zone."""
        zone = Zone('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L324`
  - Forbidden pattern found: '
        assert zone.contains_path(Path("/repo/frontend")) is False
        assert zone.contains_path(Path("/other/path")) is False


class TestInteraction:
    """Tests for Interaction dataclass."""

    def test_to_dict_directional(self):
        """Should format directional interaction."""
        interaction = Interaction('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '
        assert result["id"] == "http-api-1"
        assert result["type"] == "http_api"
        assert result["from_zone"] == "frontend"
        assert result["to_zone"] == "backend"
        assert result["details"]["endpoint"] == "/api/users"

    def test_to_dict_multi_zone(self):
        """Should format multi-zone interaction."""
        interaction = Interaction('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L361`
  - Forbidden pattern found: '        assert "from_zone" not in result
        assert "to_zone" not in result


class TestOnboardingProgress:
    """Tests for OnboardingProgress dataclass."""

    def test_is_complete_true(self):
        """Should return True when status is ANALYZED."""
        progress = OnboardingProgress(status=OnboardingStatus.ANALYZED)
        assert progress.is_complete() is True

    def test_is_complete_false(self):
        """Should return False for other statuses."""
        progress = OnboardingProgress(status=OnboardingStatus.IN_PROGRESS)
        assert progress.is_complete() is False

        progress2 = OnboardingProgress(status=OnboardingStatus.NOT_STARTED)
        assert progress2.is_complete() is False


class TestCodebaseProfile:
    """Tests for CodebaseProfile dataclass."""

    @pytest.fixture
    def sample_profile(self):
        """Create a sample codebase profile."""
        metadata = DiscoveryMetadata('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L415`
  - Forbidden pattern found: '
        assert result["schema_version"] == "1.0"
        assert "generated_at" in result
        assert result["discovery_metadata"]["discovery_version"] == "1.0.0"
        assert len(result["languages"]) == 1
        assert result["languages"][0]["name"] == "Python"
        assert result["structure"]["entry_points"] == ["main.py"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L431`
  - Forbidden pattern found: '
        assert "test_analysis" in result
        assert result["test_analysis"]["estimated_coverage"] == 0.65
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L442`
  - Forbidden pattern found: '
        assert "dependencies" in result
        assert result["dependencies"][0]["name"] == "pytest"
        assert result["dependencies"][0]["is_dev"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L455`
  - Forbidden pattern found: '
        assert "onboarding_progress" in result
        assert result["onboarding_progress"]["status"] == "in_progress"
        assert result["onboarding_progress"]["modules"]["core"] == "analyzed"


class TestPatternDetection:
    """Tests for PatternDetection dataclass."""

    def test_to_dict_truncates_locations(self):
        """Should truncate locations to 5 items."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L476`
  - Forbidden pattern found: '
        assert len(result["locations"]) == 5


class TestConventionDetection:
    """Tests for ConventionDetection dataclass."""

    def test_to_dict_truncates_exceptions(self):
        """Should truncate exceptions to 10 items."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L495`
  - Forbidden pattern found: '
        assert len(result["exceptions"]) == 10
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L385`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L119`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L146`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L176`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L196`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L216`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L224`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L260`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L283`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L301`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L342`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L358`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L414`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L430`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L441`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L454`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L475`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L494`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/core/discovery/test_zone_detector.py`** (36 violations)

- ğŸ”µ **single-responsibility-modules** at `L49`
  - Class 'TestZoneDetector' has 16 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L241`
  - Class 'TestDeriveZoneName' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L278`
  - Class 'TestDeriveZonePath' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '            assert len(marker) == 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '        assert sln_entry[2] == 100

    def test_skip_directories_configured(self):
        """Should have common build/cache directories."""
        assert "node_modules" in SKIP_DIRECTORIES
        assert "__pycache__" in SKIP_DIRECTORIES
        assert ".git" in SKIP_DIRECTORIES
        assert "venv" in SKIP_DIRECTORIES


class TestZoneDetector:
    """Tests for ZoneDetector class."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '        assert zones == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "python"
        assert zones[0].path == repo_root
        assert zones[0].marker == repo_root / "pyproject.toml"
        assert zones[0].detection == ZoneDetectionMode.AUTO
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L82`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "csharp"
        assert zones[0].name == "MyProject"
        assert zones[0].path == project_dir
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "csharp"
        assert zones[0].name == "Solution"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "typescript"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "go"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "rust"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '
        assert len(zones) == 2
        languages = {z.language for z in zones}'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert len(zones) == 1
        assert zones[0].name == "App"
        assert zones[0].marker.suffix == ".sln"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].marker.name == "pyproject.toml"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L195`
  - Forbidden pattern found: '        assert len(zones) == 1
        assert zones[0].path == repo_root
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L207`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].path == repo_root
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '
        assert zones == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '
        assert len(zones) == 2
        # Shallower zone should come first (fewer path parts)
        assert len(zones[0].path.parts) <= len(zones[1].path.parts)


class TestDeriveZoneName:
    """Tests for _derive_zone_name method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L254`
  - Forbidden pattern found: '
        assert name == "MySolution"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '
        assert name == "MyProject"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L274`
  - Forbidden pattern found: '
        assert name == "backend"


class TestDeriveZonePath:
    """Tests for _derive_zone_path method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L291`
  - Forbidden pattern found: '
        assert path == tmp_path
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '
        assert path == project_dir
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '
        assert path == subdir


class TestDetectZonesConvenienceFunction:
    """Tests for detect_zones convenience function."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L325`
  - Forbidden pattern found: '
        assert len(zones) == 1
        assert zones[0].language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L332`
  - Forbidden pattern found: '        assert zones == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L52`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L244`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L281`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L49`
  - Class 'TestZoneDetector' has 16 methods (max: 15)

**`tests/unit/core/lineage/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/core/lineage/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/lineage/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/lineage/__pycache__/test_metadata.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__/test_metadata.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/lineage/__pycache__/test_metadata.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/lineage/test_metadata.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'TestLineageMetadata' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L95`
  - Class 'TestParseLineageFromFile' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L272`
  - Class 'TestGetTestPathFromLineage' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L36`
  - Forbidden pattern found: '
        assert "# @generated: 2026-01-02T12:00:00" in header
        assert "# @generator: tdflow.red.v1" in header
        assert "# @spec_file: .agentforge/specs/core-v1.yaml" in header
        assert "# @spec_id: core-v1" in header
        assert "# @component_id: core-example" in header
        assert "â•" * 77 in header  # Border character

    def test_to_header_comments_with_optional_fields(self):
        """Should include optional fields when present."""
        metadata = LineageMetadata('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L60`
  - Forbidden pattern found: '        assert "# @test_path: tests/unit/test_example.py" in header
        assert "# @session_id: sess-123" in header

    def test_to_header_comments_with_impl_path(self):
        """Should include impl_path for test files."""
        metadata = LineageMetadata('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L75`
  - Forbidden pattern found: '
        assert "# @impl_path: src/agentforge/core/example.py" in header

    def test_to_header_comments_with_different_prefix(self):
        """Should use specified comment prefix."""
        metadata = LineageMetadata('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '
        assert "// @generated:" in header
        assert "// @generator:" in header
        assert "// â•" in header


class TestParseLineageFromFile:
    """Tests for parse_lineage_from_file function."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '
        assert metadata is not None
        assert metadata.generator == "tdflow.red.v1"
        assert metadata.spec_file == ".agentforge/specs/core-v1.yaml"
        assert metadata.spec_id == "core-v1"
        assert metadata.component_id == "core-example"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '        assert metadata.test_path == "tests/unit/test_example.py"
        assert metadata.session_id == "sess-abc123"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert metadata is not None
        assert metadata.spec_id == "core-v1"
        assert metadata.test_path is None
        assert metadata.impl_path is None
        assert metadata.method_ids == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '
        assert metadata is not None
        assert metadata.spec_id == "core-v1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert metadata is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
        assert metadata is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '
        assert metadata is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '
        assert metadata is not None
        # Should use fallback datetime
        assert metadata.generated_at is not None


class TestGenerateLineageHeader:
    """Tests for generate_lineage_header function."""

    def test_generate_with_required_params(self):
        """Should generate header with required parameters."""
        header = generate_lineage_header('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '
        assert "@generator: tdflow.red.v1" in header
        assert "@spec_file: .agentforge/specs/core-v1.yaml" in header
        assert "@spec_id: core-v1" in header
        assert "@component_id: core-example" in header
        assert "@generated:" in header

    def test_generate_with_all_params(self):
        """Should generate header with all parameters."""
        header = generate_lineage_header('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '        assert "@test_path: tests/unit/test_example.py" in header
        assert "@session_id: sess-123" in header

    def test_generate_with_different_prefix(self):
        """Should use specified comment prefix."""
        header = generate_lineage_header('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L267`
  - Forbidden pattern found: '
        assert "// @generator:" in header
        assert "// â•" in header


class TestGetTestPathFromLineage:
    """Tests for get_test_path_from_lineage function."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '
        assert test_path == "tests/unit/test_example.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L307`
  - Forbidden pattern found: '
        assert test_path is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L318`
  - Forbidden pattern found: '
        assert test_path is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L326`
  - Forbidden pattern found: '
        assert test_path is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/core/spec/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/spec/__pycache__/test_init.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__/test_init.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__/test_init.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/spec/__pycache__/test_placement.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__/test_placement.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/core/spec/__pycache__/test_placement.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/core/spec/test_init.py`** (7 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L19`
  - Forbidden pattern found: '        assert spec is not None

    def test_exports_available(self):
        """Should export key classes."""
        from agentforge.core.spec import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L28`
  - Forbidden pattern found: '        assert SpecPlacementAnalyzer is not None
        assert PlacementDecision is not None
        assert PlacementAction is not None

    def test_all_exports(self):
        """Should have __all__ defined with expected exports."""
        from agentforge.core import spec
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert 'SpecPlacementAnalyzer' in spec.__all__
        assert 'PlacementDecision' in spec.__all__
        assert 'PlacementAction' in spec.__all__
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/core/spec/test_placement.py`** (23 violations)

- ğŸ”µ **single-responsibility-modules** at `L124`
  - Class 'TestSpecPlacementAnalyzer' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '
        assert PlacementAction.EXTEND.value == "extend"
        assert PlacementAction.CREATE.value == "create"
        assert PlacementAction.ESCALATE.value == "escalate"


class TestSpecInfo:
    """Tests for SpecInfo dataclass."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '
        assert spec_info.spec_id == 'test-v1'
        assert spec_info.name == 'test'
        assert len(spec_info.components) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L70`
  - Forbidden pattern found: '
        assert 'src/agentforge/core/api' in spec_info.covered_locations


class TestPlacementDecision:
    """Tests for PlacementDecision dataclass."""

    def test_placement_decision_extend(self):
        """EXTEND decision should have spec_id and spec_file."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.EXTEND
        assert decision.spec_id == "cli-v1"
        assert "EXTEND cli-v1" in str(decision)

    def test_placement_decision_create(self):
        """CREATE decision should have suggested_spec_id."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L101`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.CREATE
        assert decision.suggested_spec_id == "core-newmodule-v1"
        assert "CREATE" in str(decision)

    def test_placement_decision_escalate(self):
        """ESCALATE decision should have options list."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.ESCALATE
        assert len(decision.options) == 2
        assert "ESCALATE" in str(decision)


class TestSpecPlacementAnalyzer:
    """Tests for SpecPlacementAnalyzer."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '        assert 'cli-v1' in spec_ids
        assert 'core-api-v1' in spec_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert analyzer.get_spec_ids() == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '        assert len(covering) == 1
        assert covering[0].spec_id == 'cli-v1'

        # API location should be covered by core-api-v1
        covering = analyzer.find_covering_specs('src/agentforge/core/api/rate_limiter.py')
        assert len(covering) == 1
        assert covering[0].spec_id == 'core-api-v1'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L207`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.EXTEND
        assert decision.spec_id == 'cli-v1'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.CREATE
        assert decision.suggested_spec_id == 'core-newmodule-v1'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.ESCALATE
        assert len(decision.options) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '
        assert decision.action == PlacementAction.EXTEND
        assert decision.spec_id == 'cli-v1'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L284`
  - Forbidden pattern found: '        assert comp_id == 'cli-spec_adapt'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '        assert comp_id == 'core-api-rate_limiter'
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L127`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L38`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/core/test_contract_runner.py`** (57 violations)

- ğŸ”µ **single-responsibility-modules** at `L201`
  - Class 'TestShouldIncludeSection' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L307`
  - Class 'TestSubstituteVariables' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L361`
  - Class 'TestAssemblePrompt' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L29`
  - Forbidden pattern found: '            assert runner is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '
        assert runner.contracts_dir == contracts_dir
        assert runner.outputs_dir == outputs_dir
        assert outputs_dir.exists()  # Should be created
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
        assert not outputs_dir.exists()

        ContractRunner('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '
        assert outputs_dir.exists()


class TestLoadProjectContext:
    """Tests for _load_project_context method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L82`
  - Forbidden pattern found: '            assert runner.project_context is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '        assert "No project context configured" in runner.project_context or runner.project_context


class TestLoadContract:
    """Tests for load_contract method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '
        assert contract["contract"]["id"] == "test-contract"
        assert contract["contract"]["version"] == "1.0"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '
        assert "First section" in message
        assert "Second section" in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L181`
  - Forbidden pattern found: '
        assert message == ""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '
        assert message == ""


class TestShouldIncludeSection:
    """Tests for _should_include_section method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L253`
  - Forbidden pattern found: '        assert result is True


class TestBuildUserMessage:
    """Tests for _build_user_message method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '
        assert "Part A" in message
        assert "Part B" in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '
        assert "Always" in message
        assert "Sometimes" in message
        assert "Never" not in message


class TestSubstituteVariables:
    """Tests for _substitute_variables method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L337`
  - Forbidden pattern found: '        assert "key: value" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L345`
  - Forbidden pattern found: '        assert "- a" in result
        assert "- b" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L352`
  - Forbidden pattern found: '        assert result == "Count: 42"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L386`
  - Forbidden pattern found: '
        assert result["contract_id"] == "test"
        assert result["contract_version"] == "1.0"
        assert "generated_at" in result
        assert result["inputs_provided"] == {"request": "Help me"}
        assert "System msg" in result["prompt"]["system"]
        assert "Help me" in result["prompt"]["user"]
        assert result["execution"]["temperature"] == 0.5
        assert result["execution"]["max_tokens"] == 2000
        assert result["expected_output"]["format"] == "json"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L408`
  - Forbidden pattern found: '
        assert result["execution"]["temperature"] == 0.0
        assert result["execution"]["max_tokens"] == 4096
        assert result["expected_output"]["format"] == "yaml"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L428`
  - Forbidden pattern found: '
        assert "from_input" in result["prompt"]["user"]
        assert "from_context" in result["prompt"]["user"]


class TestValidateOutput:
    """Tests for validate_output method."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L460`
  - Forbidden pattern found: '        assert result is None


class TestSavePrompt:
    """Tests for save_prompt method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L483`
  - Forbidden pattern found: '
        assert filepath.exists()
        assert "test" in filepath.name
        assert filepath.suffix == ".yaml"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L507`
  - Forbidden pattern found: '        assert "Line 1" in content
        assert "Line 2" in content


class TestSaveOutput:
    """Tests for save_output method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L527`
  - Forbidden pattern found: '
        assert filepath.exists()
        assert filepath.read_text() == output
        assert "test-contract" in filepath.name
        assert "_output.yaml" in filepath.name
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L204`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L259`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L310`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L364`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L436`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L214`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L220`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L242`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L250`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L320`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L326`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L334`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L342`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L351`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L357`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L383`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L407`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L423`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L449`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L459`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/core/test_verification_contracts_check.py`** (12 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'TestBuildContractErrors' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '
        assert len(errors) == 1
        assert errors[0]["contract"] == "test-contract"
        assert errors[0]["check"] == "check-001"
        assert errors[0]["severity"] == "error"
        assert errors[0]["message"] == "Something failed"
        assert errors[0]["file"] == "src/example.py"
        assert errors[0]["line"] == 42

    def test_build_errors_ignores_passed_checks(self):
        """Should not include passed checks in errors."""
        check_result = Mock()
        check_result.passed = True
        check_result.exempted = False

        contract_result = Mock()
        contract_result.check_results = [check_result]

        errors = build_contract_errors([contract_result])

        assert len(errors) == 0

    def test_build_errors_ignores_exempted_checks(self):
        """Should not include exempted checks in errors."""
        check_result = Mock()
        check_result.passed = False
        check_result.exempted = True

        contract_result = Mock()
        contract_result.check_results = [check_result]

        errors = build_contract_errors([contract_result])

        assert len(errors) == 0

    def test_build_errors_multiple_results(self):
        """Should handle multiple contract results."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '
        assert len(errors) == 2
        assert errors[0]["check"] == "c1"
        assert errors[1]["check"] == "c2"

    def test_build_errors_empty_results(self):
        """Should handle empty results list."""
        errors = build_contract_errors([])

        assert errors == []


class TestAggregateContractStats:
    """Tests for aggregate_contract_stats function."""

    def test_aggregate_all_passed(self):
        """Should aggregate stats when all contracts pass."""
        result = Mock()
        result.errors = []
        result.warnings = []
        result.exempted_count = 0
        result.passed = True

        stats = aggregate_contract_stats([result])

        assert stats["errors"] == 0
        assert stats["warnings"] == 0
        assert stats["exempted"] == 0
        assert stats["all_passed"] is True

    def test_aggregate_with_failures(self):
        """Should aggregate stats with failures."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L125`
  - Forbidden pattern found: '
        assert stats["errors"] == 3
        assert stats["warnings"] == 1
        assert stats["exempted"] == 3
        assert stats["all_passed"] is False

    def test_aggregate_empty_results(self):
        """Should handle empty results list."""
        stats = aggregate_contract_stats([])

        assert stats["errors"] == 0
        assert stats["warnings"] == 0
        assert stats["exempted"] == 0
        assert stats["all_passed"] is True  # vacuously true


class TestBuildContractMessage:
    """Tests for build_contract_message function."""

    def test_build_message_no_exemptions(self):
        """Should build message without exemption count when zero."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
        assert "Ran 2 contracts" in message
        assert "2 errors" in message
        assert "1 warnings" in message
        assert "exempted" not in message

    def test_build_message_with_exemptions(self):
        """Should include exemption count when non-zero."""
        results = [Mock()]'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '
        assert "5 exempted" in message

    def test_build_message_no_results(self):
        """Should handle zero contracts."""
        results = []'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L171`
  - Forbidden pattern found: '
        assert "Ran 0 contracts" in message


class TestGetContractResults:
    """Tests for get_contract_results function.

    Note: These tests require the external 'contracts' module which is loaded
    dynamically inside the function. We skip these tests when the module is
    not available.
    """

    @pytest.mark.skip(reason="Requires external 'contracts' module")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L106`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/core/test_verification_reports.py`** (45 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'TestReportGenerator' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L83`
  - Class 'TestGenerateReport' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L156`
  - Class 'TestFormatCheckResult' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L261`
  - Class 'TestFormatErrorsSection' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '
        assert "VERIFICATION REPORT" in report
        assert "SUMMARY" in report
        assert "Total Checks:" in report
        assert "VERDICT: PASS" in report
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '
        assert "VERIFICATION REPORT" in report
        assert "DETAILED RESULTS" in report
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '        assert "verification_report" in data
        assert data["verification_report"]["summary"]["total_checks"] == 1
        assert data["verification_report"]["summary"]["is_valid"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '        assert "verification_report" in data
        assert data["verification_report"]["summary"]["total_checks"] == 1
        assert data["verification_report"]["summary"]["is_valid"] is True


class TestFormatCheckResult:
    """Tests for _format_check_result method."""

    @pytest.fixture
    def generator(self):
        return ReportGenerator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
        assert any("âœ“" in line for line in lines)
        assert any("test-001" in line for line in lines)
        assert any("REQUIRED" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
        assert any("âœ—" in line for line in lines)
        assert any("BLOCKING" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '
        assert any("Details:" in line for line in lines)
        assert any("More information here" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert any("Fix:" in line for line in lines)
        assert any("Try doing X instead" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '
        assert any("Duration: 123ms" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L257`
  - Forbidden pattern found: '
        assert any("â—‹" in line for line in lines)


class TestFormatErrorsSection:
    """Tests for _format_errors_section method."""

    @pytest.fixture
    def generator(self):
        return ReportGenerator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '
        assert lines[0] == "  Errors (1):"
        assert any("test.py" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L285`
  - Forbidden pattern found: '
        assert lines[0] == "  Errors (2):"
        assert any("a.py" in line for line in lines)
        assert any("b.py" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L295`
  - Forbidden pattern found: '
        assert lines[0] == "  Errors (10):"
        assert any("and 5 more" in line for line in lines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L304`
  - Forbidden pattern found: '
        assert any("Error message 1" in line for line in lines)
        assert any("Error message 2" in line for line in lines)


class TestBuildReportData:
    """Tests for _build_report_data method."""

    @pytest.fixture
    def generator(self):
        return ReportGenerator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L337`
  - Forbidden pattern found: '
        assert "verification_report" in data
        vr = data["verification_report"]
        assert vr["timestamp"] == "2026-01-02T12:00:00"
        assert vr["profile"] == "test-profile"
        assert vr["summary"]["total_checks"] == 1
        assert vr["summary"]["is_valid"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L376`
  - Forbidden pattern found: '        assert len(results) == 1
        assert results[0]["check_id"] == "test-001"
        assert results[0]["status"] == "passed"
        assert results[0]["severity"] == "required"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L34`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L46`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L61`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L86`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L90`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L159`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L264`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L312`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L345`
  - Function 'test_build_report_data_with_results' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L140`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L150`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L165`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L182`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L198`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L215`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L247`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L336`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L347`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L373`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/harness/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_action_parser.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_action_parser.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_action_parser.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_agent_monitor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_monitor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_monitor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_agent_orchestrator.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_orchestrator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_orchestrator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_agent_prompt_builder.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_prompt_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_agent_prompt_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_checkpoint_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_checkpoint_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_checkpoint_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_enhanced_context.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_enhanced_context.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_enhanced_context.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_escalation_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_escalation_notifier.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_notifier.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_escalation_notifier.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_execution_context_store.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_execution_context_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_execution_context_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_executor_edge_cases.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor_edge_cases.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor_edge_cases.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_executor_v2.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor_v2.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_executor_v2.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_llm_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_llm_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_llm_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_llm_executor_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_llm_executor_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_llm_executor_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_memory_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_memory_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_memory_store.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_memory_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_minimal_context.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_minimal_context.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_minimal_context.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_monitor_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_monitor_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_monitor_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_native_tool_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_native_tool_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_native_tool_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_orchestrator_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_orchestrator_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_orchestrator_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_recovery_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_recovery_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_recovery_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_recovery_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_recovery_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_recovery_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_selfhosting_tools.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_selfhosting_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_selfhosting_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_session_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_session_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_session_store.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_session_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_template_context_builder.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_template_context_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_template_context_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_tool_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_tool_executor_bridge.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_executor_bridge.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_executor_bridge.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_tool_registry.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/__pycache__/test_tool_selector.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_selector.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/__pycache__/test_tool_selector.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/test_action_parser.py`** (39 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestActionParserBasic' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L134`
  - Class 'TestActionParserEdgeCases' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L252`
  - Class 'TestActionParserLenient' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L313`
  - Class 'TestExtractElement' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.TOOL_CALL
        assert "read the file" in action.reasoning
        assert len(action.tool_calls) == 1
        assert action.tool_calls[0].name == "read_file"
        assert action.tool_calls[0].parameters["path"] == "/src/main.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.TOOL_CALL
        assert len(action.tool_calls) == 2
        assert action.tool_calls[0].parameters["path"] == "/src/a.py"
        assert action.tool_calls[1].parameters["path"] == "/src/b.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.COMPLETE
        assert "tests are passing" in action.reasoning
        assert "Successfully implemented" in action.response
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.ASK_USER
        assert "JSON and XML" in action.response
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.ESCALATE
        assert "circular dependency" in action.reasoning
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.RESPOND
        assert "detailed answer" in action.response


class TestActionParserEdgeCases:
    """Edge case and error handling tests."""

    @pytest.fixture
    def parser(self):
        return ActionParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '        assert "Empty response" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '        assert action.action_type == ActionType.THINK
        assert "Just thinking here" in action.reasoning
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '        assert "Invalid action type" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '        assert "no tools defined" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L203`
  - Forbidden pattern found: '        assert action.action_type == ActionType.COMPLETE
        assert action.reasoning == ""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '        assert action.action_type == ActionType.COMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L230`
  - Forbidden pattern found: '        assert len(action.tool_calls) == 1
        assert action.tool_calls[0].name == "run_tests"
        assert action.tool_calls[0].parameters == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L248`
  - Forbidden pattern found: '        assert "def hello():" in action.tool_calls[0].parameters["content"]
        assert 'print("hello")' in action.tool_calls[0].parameters["content"]


class TestActionParserLenient:
    """Tests for lenient parsing mode."""

    @pytest.fixture
    def parser(self):
        return ActionParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L268`
  - Forbidden pattern found: '        assert action.action_type == ActionType.COMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '        assert action.action_type == ActionType.THINK
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '        assert action.action_type == ActionType.TOOL_CALL
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L298`
  - Forbidden pattern found: '        assert action.action_type == ActionType.COMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '        assert action.action_type == ActionType.THINK
        assert "Analyzing the problem" in action.reasoning


class TestExtractElement:
    """Tests for element extraction helpers."""

    @pytest.fixture
    def parser(self):
        return ActionParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L324`
  - Forbidden pattern found: '        assert result == "This is the summary"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '        assert result == "What should I do?"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '        assert result == "Trimmed content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L137`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L255`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L316`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L323`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L329`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L335`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L341`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_agent_monitor.py`** (40 violations)

- ğŸ”µ **single-responsibility-modules** at `L55`
  - Class 'TestAgentMonitorObservations' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L142`
  - Class 'TestAgentMonitorLoopDetection' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L291`
  - Class 'TestAgentMonitorContextAndProgress' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L357`
  - Class 'TestAgentMonitorHealthAssessment' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L444`
  - Class 'TestAgentMonitorHistoryManagement' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '        assert monitor.config.history_window == 100
        assert monitor.config.loop_threshold == 3
        assert monitor.config.drift_threshold == 0.5
        assert monitor.config.thrash_threshold == 3
        assert monitor.config.stall_threshold == 5

    def test_init_with_custom_config(self):
        """Test initialization with custom config."""
        config = MonitorConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '
        assert monitor.config.history_window == 50
        assert monitor.config.loop_threshold == 2
        assert monitor.config.drift_threshold == 0.3
        assert monitor.config.thrash_threshold == 2
        assert monitor.config.stall_threshold == 3


class TestAgentMonitorObservations:
    """Test observation recording methods."""

    def test_observe_action_basic(self):
        """Test observing a basic action."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '        assert len(observations) == 1
        assert observations[0].type == ObservationType.ACTION
        assert observations[0].data["action"] == "create_file"
        assert observations[0].data["details"]["filename"] == "test.py"

    def test_observe_action_without_details(self):
        """Test observing action without details."""
        monitor = AgentMonitor()

        monitor.observe_action("simple_action")

        observations = monitor.get_recent_observations(count=1)
        assert len(observations) == 1
        assert observations[0].data["action"] == "simple_action"
        assert observations[0].data.get("details") is None

    def test_observe_output(self):
        """Test observing agent output."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert len(observations) == 1
        assert observations[0].type == ObservationType.OUTPUT
        assert observations[0].data["output"] == "print('hello')"
        assert observations[0].data["output_type"] == "console"

    def test_observe_verification_passed(self):
        """Test observing successful verification."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '        assert len(observations) == 1
        assert observations[0].type == ObservationType.VERIFICATION
        assert observations[0].data["passed"] is True
        assert observations[0].data["details"]["test"] == "unit_test_1"

    def test_observe_verification_failed(self):
        """Test observing failed verification."""
        monitor = AgentMonitor()

        monitor.observe_verification(False)

        observations = monitor.get_recent_observations(count=1)
        assert len(observations) == 1
        assert observations[0].data["passed"] is False
        assert observations[0].data.get("details") is None

    def test_observe_state_change(self):
        """Test observing state change."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '        assert len(observations) == 1
        assert observations[0].type == ObservationType.STATE_CHANGE
        assert observations[0].data["old_state"] == "planning"
        assert observations[0].data["new_state"] == "implementation"

    def test_observe_error(self):
        """Test observing error."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '        assert len(observations) == 1
        assert observations[0].type == ObservationType.ERROR
        assert observations[0].data["error_type"] == "SyntaxError"
        assert observations[0].data["message"] == "Invalid syntax"
        assert observations[0].data["details"]["line"] == 42


class TestAgentMonitorLoopDetection:
    """Test loop detection functionality."""

    def test_detect_loop_no_loop(self):
        """Test loop detection when no loop exists."""
        monitor = AgentMonitor()

        # Add different actions
        monitor.observe_action("action1")
        monitor.observe_action("action2")
        monitor.observe_action("action3")

        result = monitor.detect_loop()

        assert result is None or result.detected is False

    def test_detect_loop_action_repetition(self):
        """Test loop detection for repeated actions."""
        monitor = AgentMonitor()

        # Add same action multiple times (above threshold)
        for _ in range(4):  # Above default threshold of 3
            monitor.observe_action("repeated_action")

        result = monitor.detect_loop()

        assert result is not None
        assert result.detected is True
        assert result.count >= 3
        assert "repeated_action" in result.pattern

    def test_detect_loop_error_repetition(self):
        """Test loop detection for repeated errors."""
        monitor = AgentMonitor()

        # Add same error multiple times
        for _ in range(4):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '
        assert result is not None
        assert result.detected is True
        assert result.count >= 3

    def test_detect_loop_state_cycle(self):
        """Test loop detection for state cycles."""
        monitor = AgentMonitor()

        # Create A->B->A->B pattern'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L198`
  - Forbidden pattern found: '
        assert result is not None
        assert result.detected is True


class TestAgentMonitorDriftDetection:
    """Test drift detection functionality."""

    def test_detect_drift_no_drift(self):
        """Test drift detection when actions align with task."""
        monitor = AgentMonitor()
        original_task = "create a Python file with unit tests"

        # Add relevant actions that match task keywords'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '
        assert 0.0 <= drift_score <= 1.0
        assert drift_score < 0.3  # Should be low drift with matching keywords

    def test_detect_drift_high_drift(self):
        """Test drift detection when actions diverge from task."""
        monitor = AgentMonitor()
        original_task = "create a Python file with unit tests"

        # Add unrelated actions'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert 0.0 <= drift_score <= 1.0
        assert drift_score > 0.5  # Should be high drift

    def test_detect_drift_empty_history(self):
        """Test drift detection with no observations."""
        monitor = AgentMonitor()
        original_task = "create a Python file"

        drift_score = monitor.detect_drift(original_task)

        assert drift_score == 0.0  # No observations means no drift


class TestAgentMonitorThrashingDetection:
    """Test thrashing detection functionality."""

    def test_detect_thrashing_no_thrashing(self):
        """Test thrashing detection when no thrashing occurs."""
        monitor = AgentMonitor()

        # Add different file modifications'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '
        assert result is None or result.detected is False

    def test_detect_thrashing_file_modifications(self):
        """Test thrashing detection for repeated file modifications."""
        monitor = AgentMonitor()

        # Modify same file multiple times (above threshold)
        for _ in range(4):  # Above default threshold of 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L270`
  - Forbidden pattern found: '
        assert result is not None
        assert result.detected is True
        assert "thrashed.py" in result.affected_files
        assert result.alternation_count >= 3

    def test_detect_thrashing_alternating_states(self):
        """Test thrashing detection for alternating states."""
        monitor = AgentMonitor()

        # Create alternating pattern
        for _ in range(2):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '
        assert result is not None
        assert result.detected is True


class TestAgentMonitorContextAndProgress:
    """Test context pressure and progress scoring."""

    def test_get_context_pressure_low(self):
        """Test context pressure calculation for low usage."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L299`
  - Forbidden pattern found: '
        assert pressure == 0.1
        assert 0.0 <= pressure <= 1.0

    def test_get_context_pressure_high(self):
        """Test context pressure calculation for high usage."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L308`
  - Forbidden pattern found: '
        assert pressure == 0.95
        assert 0.0 <= pressure <= 1.0

    def test_get_context_pressure_over_budget(self):
        """Test context pressure when over budget."""
        monitor = AgentMonitor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L317`
  - Forbidden pattern found: '
        assert pressure >= 1.0

    def test_get_progress_score_high_progress(self):
        """Test progress scoring with successful verifications."""
        monitor = AgentMonitor()

        # Add successful verifications
        for _ in range(3):
            monitor.observe_verification(True)
        monitor.observe_verification(False)  # One failure

        progress = monitor.get_progress_score()

        assert 0.0 <= progress <= 1.0
        assert progress > 0.5  # Should be high progress (3/4 = 0.75)

    def test_get_progress_score_low_progress(self):
        """Test progress scoring with failed verifications."""
        monitor = AgentMonitor()

        # Add mostly failed verifications
        monitor.observe_verification(True)   # One success
        for _ in range(3):
            monitor.observe_verification(False)  # Three failures

        progress = monitor.get_progress_score()

        assert 0.0 <= progress <= 1.0
        assert progress < 0.5  # Should be low progress (1/4 = 0.25)

    def test_get_progress_score_no_verifications(self):
        """Test progress scoring with no verifications."""
        monitor = AgentMonitor()

        progress = monitor.get_progress_score()

        assert progress == 0.5  # No verifications means neutral progress


class TestAgentMonitorHealthAssessment:
    """Test complete health assessment."""

    def test_get_health_healthy_agent(self):
        """Test health assessment for healthy agent."""
        monitor = AgentMonitor()

        # Add healthy observations
        monitor.observe_action("create_file")
        monitor.observe_verification(True)

        health = monitor.get_health('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L375`
  - Forbidden pattern found: '        assert health.status == HealthStatus.HEALTHY
        assert health.recommendation == Recommendation.CONTINUE
        assert len(health.issues) == 0
        assert health.drift_score < 0.3
        assert health.context_pressure < 0.8
        assert health.progress_score >= 0.0

    def test_get_health_degraded_agent(self):
        """Test health assessment for degraded agent."""
        monitor = AgentMonitor()

        # Add some concerning patterns but not critical
        for _ in range(2):  # Below critical threshold
            monitor.observe_action("repeated_action")

        health = monitor.get_health('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L397`
  - Forbidden pattern found: '            assert health.recommendation == Recommendation.CHECKPOINT

    def test_get_health_critical_agent(self):
        """Test health assessment for critical agent."""
        monitor = AgentMonitor()

        # Add critical patterns
        for _ in range(6):  # Above critical threshold
            monitor.observe_action("repeated_action")

        health = monitor.get_health('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L411`
  - Forbidden pattern found: '
        assert health.status == HealthStatus.CRITICAL'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L414`
  - Forbidden pattern found: '        assert len(health.issues) > 0

    def test_get_health_with_loop_detection(self):
        """Test health assessment includes loop detection."""
        monitor = AgentMonitor()

        # Create loop condition
        for _ in range(4):
            monitor.observe_action("loop_action")

        health = monitor.get_health()

        if health.loop_detection:
            assert health.loop_detection.detected is True
            assert health.loop_detection.count >= 3

    def test_get_health_with_thrashing_detection(self):
        """Test health assessment includes thrashing detection."""
        monitor = AgentMonitor()

        # Create thrashing condition
        for _ in range(4):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L441`
  - Forbidden pattern found: '            assert health.thrashing_detection.detected is True


class TestAgentMonitorHistoryManagement:
    """Test history management functionality."""

    def test_clear_history(self):
        """Test clearing observation history."""
        monitor = AgentMonitor()

        # Add some observations
        monitor.observe_action("action1")
        monitor.observe_action("action2")

        assert len(monitor.get_recent_observations()) == 2

        monitor.clear_history()

        assert len(monitor.get_recent_observations()) == 0

    def test_get_recent_observations_count_limit(self):
        """Test getting recent observations with count limit."""
        monitor = AgentMonitor()

        # Add more observations than requested
        for i in range(5):
            monitor.observe_action(f"action_{i}")

        recent = monitor.get_recent_observations(count=3)

        assert len(recent) == 3
        # Should get most recent observations
        assert recent[0].data["action"] == "action_4"  # Most recent first

    def test_get_recent_observations_type_filter(self):
        """Test getting recent observations with type filter."""
        monitor = AgentMonitor()

        # Add mixed observation types
        monitor.observe_action("test_action")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L489`
  - Forbidden pattern found: '
        assert len(actions) == 1
        assert actions[0].type == ObservationType.ACTION
        assert actions[0].data["action"] == "test_action"

    def test_history_window_bounded(self):
        """Test that history respects window size limit."""
        config = MonitorConfig(history_window=3)
        monitor = AgentMonitor(config=config)

        # Add more observations than window size
        for i in range(5):
            monitor.observe_action(f"action_{i}")

        all_observations = monitor.get_recent_observations(count=100)

        # Should only keep last 3 observations
        assert len(all_observations) <= 3
        # Should have most recent observations
        assert all_observations[0].data["action"] == "action_4"


class TestAgentMonitorIntegration:
    """Test integration scenarios."""

    def test_incremental_detection_on_observe(self):
        """Test that observations trigger incremental detection."""
        monitor = AgentMonitor()

        # This should trigger loop detection internally
        for _ in range(4):
            monitor.observe_action("repeated_action")

        # The monitor should have detected the loop
        loop_detection = monitor.detect_loop()
        assert loop_detection is not None
        assert loop_detection.detected is True

    def test_multiple_detection_types_simultaneously(self):
        """Test handling multiple detection types at once."""
        monitor = AgentMonitor()

        # Create conditions for multiple detections
        # Loop condition
        for _ in range(4):
            monitor.observe_action("repeated_action")

        # Thrashing condition
        for _ in range(4):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L545`
  - Forbidden pattern found: '
        assert health.status == HealthStatus.CRITICAL
        assert len(health.issues) > 1  # Multiple issues detected
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L154`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L181`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L257`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L269`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L285`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_agent_orchestrator.py`** (71 violations)

- ğŸŸ¡ **max-parameter-count** at `L42`
  - Function 'create_mock_session' has 6 parameters (max: 5)
  - ğŸ’¡ *Group related parameters into a dataclass or use **kwargs*
- ğŸ”µ **single-responsibility-modules** at `L132`
  - Class 'TestStartSession' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L209`
  - Class 'TestResumeSession' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L255`
  - Class 'TestExecuteStep' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L321`
  - Class 'TestRunUntilComplete' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L383`
  - Class 'TestPauseSession' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L429`
  - Class 'TestGetStatus' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L505`
  - Class 'TestGetAvailableTools' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '
        assert orchestrator.session_manager == session_manager
        assert orchestrator.memory_manager == memory_manager
        assert orchestrator.tool_selector == tool_selector
        assert orchestrator.agent_monitor == agent_monitor
        assert orchestrator.recovery_executor == recovery_executor
        assert orchestrator.escalation_manager == escalation_manager

    def test_init_with_default_config(self):
        """Test initialization creates default config."""
        orchestrator = AgentOrchestrator('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert orchestrator.config is not None
        assert orchestrator.config.execution_mode == ExecutionMode.AUTONOMOUS

    def test_init_with_custom_config(self):
        """Test initialization with custom config."""
        config = OrchestratorConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert orchestrator.config.execution_mode == ExecutionMode.SUPERVISED
        assert orchestrator.config.max_iterations == 50


class TestStartSession:
    """Test session start functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()
        mock_session = create_mock_session()
        session_manager.create.return_value = mock_session

        memory_manager = Mock()
        memory_manager.set = Mock()

        return AgentOrchestrator('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '
        assert session_id is not None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '        assert session_id == "session-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L187`
  - Forbidden pattern found: '
        assert session_id is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L239`
  - Forbidden pattern found: '
        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L317`
  - Forbidden pattern found: '
        assert result is not None


class TestRunUntilComplete:
    """Test run until completion functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()
        mock_session = create_mock_session()
        session_manager.load.return_value = mock_session
        session_manager.create.return_value = mock_session

        agent_monitor = Mock()
        agent_monitor.get_health.return_value = AgentHealth('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L372`
  - Forbidden pattern found: '
        assert result is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L380`
  - Forbidden pattern found: '        assert result is not None


class TestPauseSession:
    """Test session pause functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()
        mock_session = create_mock_session()
        session_manager.load.return_value = mock_session
        session_manager.create.return_value = mock_session

        orch = AgentOrchestrator('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L411`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L425`
  - Forbidden pattern found: '
        assert result is False


class TestGetStatus:
    """Test status retrieval functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L473`
  - Forbidden pattern found: '
        assert "state" in status
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L479`
  - Forbidden pattern found: '
        assert "iteration_count" in status
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L485`
  - Forbidden pattern found: '
        assert "health_status" in status
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L491`
  - Forbidden pattern found: '
        assert "pending_escalations" in status
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L539`
  - Forbidden pattern found: '
        assert "read" in tools
        assert "write" in tools
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L591`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L609`
  - Forbidden pattern found: '
        assert result is not None
        orchestrator.recovery_executor.execute_recovery.assert_called()


class TestHandleEscalation:
    """Test escalation handling functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()
        mock_session = create_mock_session()
        session_manager.load.return_value = mock_session
        session_manager.create.return_value = mock_session

        escalation_manager = Mock()

        orch = AgentOrchestrator('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L651`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L666`
  - Forbidden pattern found: '
        assert result is False


class TestCompleteSession:
    """Test session completion functionality."""

    @pytest.fixture
    def orchestrator(self):
        """Create orchestrator with mocked components."""
        session_manager = Mock()
        mock_session = create_mock_session()
        session_manager.load.return_value = mock_session
        session_manager.create.return_value = mock_session

        orch = AgentOrchestrator('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L707`
  - Forbidden pattern found: '
        assert success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L754`
  - Forbidden pattern found: '
        assert success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L814`
  - Forbidden pattern found: '        assert count == 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L863`
  - Forbidden pattern found: '        assert session_id is not None
        assert session_id == "session-001"

        # Execute step
        result = orchestrator.execute_step(session_id)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L872`
  - Forbidden pattern found: '        assert "state" in status

        # Complete session'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L876`
  - Forbidden pattern found: '        assert success is True
        session_manager.complete.assert_called_once()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L135`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L212`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L258`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L324`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L386`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L432`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L508`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L557`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L617`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L673`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L729`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L767`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L794`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **parameter-count-limit** at `L42`
  - Function 'create_mock_session' has 6 parameters (max: 5)
- ğŸŸ¡ **function-size-limit** at `L829`
  - Function 'test_full_session_lifecycle' has 35 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L230`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L313`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L362`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L368`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L377`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L410`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L424`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L590`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L608`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L650`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L665`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L697`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L712`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L867`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_agent_prompt_builder.py`** (47 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestAgentPromptBuilder' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'TestToolsSection' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L137`
  - Class 'TestHistorySection' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L173`
  - Class 'TestFormatToolResults' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '        assert "autonomous software engineering agent" in result
        assert "tool_call" in result
        assert "complete" in result
        assert "ask_user" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '        assert "Available Tools" in result
        assert "read_file" in result
        assert "write_file" in result
        assert "grep" in result
        assert "bash" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '        assert "<task>" in result
        assert "Fix the bug in user authentication" in result
        assert "<phase>execute</phase>" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert "<status>" in result
        assert "<tokens_used>5000</tokens_used>" in result
        assert "<tokens_remaining>95000</tokens_remaining>" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '        assert "<memory_context>" in result
        assert "key_findings" in result
        assert "Bug is in auth.py" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L81`
  - Forbidden pattern found: '
        assert len(messages) >= 2  # System + user
        assert messages[0]["role"] == "system"
        assert messages[-1]["role"] == "user"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L95`
  - Forbidden pattern found: '        assert len(messages) == 4
        assert messages[1]["content"] == "What files exist?"
        assert messages[2]["content"] == "Let me search for files."
        assert "Tool Results" in messages[3]["content"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '        assert len(messages) == 2
        user_content = messages[1]["content"]
        assert "<task>" in user_content
        assert "Fix the bug" in user_content


class TestToolsSection:
    """Tests for tools section building."""

    @pytest.fixture
    def builder(self):
        return AgentPromptBuilder()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '        assert "No tools available" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '        assert "- read_file" in result
        assert "- write_file" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '        assert "Tool Descriptions" in result
        assert "read_file" in result
        assert "Read contents of a file" in result


class TestHistorySection:
    """Tests for conversation history section."""

    @pytest.fixture
    def builder(self):
        return AgentPromptBuilder()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L147`
  - Forbidden pattern found: '        assert result == ""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '        assert "<user_message>" in result
        assert "Hello" in result
        assert "</user_message>" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '        assert "<assistant_message>" in result
        assert "Hi there" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert "<tool_results>" in result
        assert "read_file" in result


class TestFormatToolResults:
    """Tests for tool result formatting."""

    @pytest.fixture
    def builder(self):
        return AgentPromptBuilder()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L184`
  - Forbidden pattern found: '        assert "[grep] SUCCESS" in formatted
        assert "Match found: line 42" in formatted
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L191`
  - Forbidden pattern found: '        assert "[bash] ERROR" in formatted
        assert "Command not found" in formatted
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '        assert "[read_file] SUCCESS" in formatted
        assert "[write_file] ERROR" in formatted
        assert "content1" in formatted
        assert "permission denied" in formatted


class TestCustomSystemPrompt:
    """Tests for custom system prompt."""

    def test_custom_prompt_used(self):
        """Custom system prompt replaces default."""
        custom = "You are a test assistant."
        builder = AgentPromptBuilder(system_prompt=custom)

        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '        assert "You are a test assistant" in result
        assert "autonomous software engineering agent" not in result

    def test_default_prompt_when_none(self):
        """Default prompt used when None provided."""
        builder = AgentPromptBuilder(system_prompt=None)

        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '        assert "autonomous software engineering agent" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L21`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L25`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L114`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L140`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L176`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L38`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L46`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L55`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L62`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L73`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L120`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L131`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L146`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L160`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L222`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_checkpoint_manager.py`** (46 violations)

- ğŸ”µ **single-responsibility-modules** at `L60`
  - Class 'TestCreateCheckpoint' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L157`
  - Class 'TestRestoreCheckpoint' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L236`
  - Class 'TestListCheckpoints' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L324`
  - Class 'TestDeleteCheckpoint' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '
        assert manager is not None
        assert manager.storage_path == storage_path
        assert manager.max_checkpoints == 10  # default value

    def test_init_with_custom_max_checkpoints_sets_limit(self):
        """Test that CheckpointManager respects custom max_checkpoints."""
        storage_path = Path("/tmp/checkpoints")
        max_checkpoints = 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert manager.max_checkpoints == max_checkpoints

    def test_init_creates_storage_directory_if_not_exists(self):
        """Test that CheckpointManager creates storage directory."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir) / "new_checkpoints"

            CheckpointManager(storage_path=storage_path)

            assert storage_path.exists()
            assert storage_path.is_dir()


class TestCreateCheckpoint:
    """Test checkpoint creation functionality."""

    @pytest.fixture
    def manager(self):
        """Create a CheckpointManager for testing."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            yield CheckpointManager(storage_path=storage_path)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '        assert checkpoint.session_id == session_id
        assert checkpoint.phase == phase
        assert checkpoint.state == state
        assert checkpoint.id is not None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert checkpoint.file_backups == []
        assert checkpoint.description is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
            assert checkpoint.session_id == session_id
            assert checkpoint.phase == phase
            assert checkpoint.state == state
            assert checkpoint.description == description
            assert len(checkpoint.file_backups) == 2
            assert mock_copy.call_count == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L125`
  - Forbidden pattern found: '
        assert checkpoint1.id != checkpoint2.id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '        assert checkpoint_dir.exists()
        assert (checkpoint_dir / "metadata.json").exists()
        assert (checkpoint_dir / "state.json").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '        assert checkpoint is not None
        assert checkpoint.file_backups == []


class TestRestoreCheckpoint:
    """Test checkpoint restoration functionality."""

    @pytest.fixture
    def manager_with_checkpoint(self):
        """Create manager with an existing checkpoint."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            manager = CheckpointManager(storage_path=storage_path)

            # Create a test checkpoint
            checkpoint = manager.create_checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L181`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '
        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L211`
  - Forbidden pattern found: '            assert len(checkpoint.file_backups) == 1

            result = manager.restore_checkpoint(checkpoint.id)
            assert result is True
        finally:
            if tmp_path.exists():
                tmp_path.unlink()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '        assert result is True


class TestListCheckpoints:
    """Test checkpoint listing functionality."""

    @pytest.fixture
    def manager_with_multiple_checkpoints(self):
        """Create manager with multiple checkpoints."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            manager = CheckpointManager(storage_path=storage_path)

            # Create checkpoints for different sessions'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '
        assert len(checkpoints) == 3
        checkpoint_ids = [cp.id for cp in checkpoints]
        for created_cp in created_checkpoints:
            assert created_cp.id in checkpoint_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert len(checkpoints) == 2
        for checkpoint in checkpoints:
            assert checkpoint.session_id == "session1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '
        assert checkpoints == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '
        assert checkpoint is not None
        assert checkpoint.id == created_checkpoint.id
        assert checkpoint.session_id == created_checkpoint.session_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L320`
  - Forbidden pattern found: '
        assert checkpoint is None


class TestDeleteCheckpoint:
    """Test checkpoint deletion functionality."""

    @pytest.fixture
    def manager_with_checkpoint(self):
        """Create manager with a test checkpoint."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            manager = CheckpointManager(storage_path=storage_path)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L352`
  - Forbidden pattern found: '        assert retrieved is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L360`
  - Forbidden pattern found: '        assert checkpoint_dir.exists()

        result = manager.delete_checkpoint(checkpoint.id)

        assert result is True
        # Implementation uses shutil.rmtree which removes entire directory
        assert not checkpoint_dir.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L373`
  - Forbidden pattern found: '
        assert result is False


class TestCleanupOldCheckpoints:
    """Test cleanup of old checkpoints beyond max limit."""

    def test_cleanup_old_checkpoints_keeps_recent_within_limit(self):
        """Test that cleanup keeps most recent checkpoints within limit."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L396`
  - Forbidden pattern found: '            assert len(remaining) == 3

            # Should keep the 3 most recent
            remaining_ids = [cp.id for cp in remaining]
            assert checkpoints[-1].id in remaining_ids  # Most recent
            assert checkpoints[-2].id in remaining_ids
            assert checkpoints[-3].id in remaining_ids
            assert checkpoints[0].id not in remaining_ids  # Oldest should be gone
            assert checkpoints[1].id not in remaining_ids

    def test_cleanup_old_checkpoints_only_affects_specified_session(self):
        """Test that cleanup only removes checkpoints for specified session."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            # Use max_checkpoints=5 so cleanup doesn't trigger during creation'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L424`
  - Forbidden pattern found: '            assert len(session1_remaining) == 2

            # Session2 should be untouched (still 3)
            session2_remaining = manager.list_checkpoints("session2")
            assert len(session2_remaining) == 3

    def test_cleanup_old_checkpoints_with_no_excess_does_nothing(self):
        """Test that cleanup does nothing when within limit."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L446`
  - Forbidden pattern found: '            assert len(remaining) == 3

            # All original checkpoints should still exist
            remaining_ids = [cp.id for cp in remaining]
            for original_cp in checkpoints:
                assert original_cp.id in remaining_ids


class TestCheckpointManagerIntegration:
    """Integration tests for CheckpointManager."""

    def test_full_checkpoint_lifecycle(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L469`
  - Forbidden pattern found: '            assert checkpoint is not None

            # List and verify
            checkpoints = manager.list_checkpoints(session_id)
            assert len(checkpoints) == 1
            assert checkpoints[0].id == checkpoint.id

            # Get specific checkpoint
            retrieved = manager.get_checkpoint(checkpoint.id)
            assert retrieved is not None
            assert retrieved.state == state

            # Restore checkpoint
            restore_result = manager.restore_checkpoint(checkpoint.id)
            assert restore_result is True

            # Delete checkpoint
            delete_result = manager.delete_checkpoint(checkpoint.id)
            assert delete_result is True

            # Verify deletion
            final_checkpoints = manager.list_checkpoints(session_id)
            assert len(final_checkpoints) == 0

    def test_concurrent_checkpoint_operations(self):
        """Test that checkpoint operations work correctly with multiple sessions."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)
            manager = CheckpointManager(storage_path=storage_path)

            # Create checkpoints for multiple sessions concurrently'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L517`
  - Forbidden pattern found: '                assert len(session_cps) == 3
                for cp in session_cps:
                    assert cp.session_id == session

            # Verify total count
            all_cps = manager.list_checkpoints()
            assert len(all_cps) == 9  # 3 sessions Ã— 3 checkpoints each
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L63`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L160`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L239`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L296`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L327`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L180`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L188`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L340`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L362`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L372`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L213`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_enhanced_context.py`** (105 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L1760`
  - Function 'test_migrate_v1_to_v2' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L49`
  - Class 'TestFact' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L266`
  - Class 'TestFactStore' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L358`
  - Class 'TestLoopDetector' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L482`
  - Class 'TestPhaseMachine' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L738`
  - Class 'TestWorkingMemoryFactStorage' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L924`
  - Class 'TestAdaptiveBudgetEnhancedLoopDetection' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1117`
  - Class 'TestPhaseMachineIntegration' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1332`
  - Class 'TestTemplateContextBuilderIntegration' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1489`
  - Class 'TestUnifiedArchitecture' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1604`
  - Class 'TestResponseValidation' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1731`
  - Class 'TestSchemaVersioning' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L1891`
  - Class 'TestFactCompaction' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 99 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 99 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 99 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '        assert fact.id == "fact_001"
        assert fact.category == FactCategory.VERIFICATION
        assert fact.confidence == 0.95

    def test_fact_immutable(self):
        """Test that facts are immutable (frozen)."""
        fact = Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '        assert fact.confidence == 0.96

    def test_confidence_bounds(self):
        """Test confidence must be between 0 and 1."""
        with pytest.raises(Exception):  # Pydantic validation error
            Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '        assert len(active) == 1
        assert active[0].id == "fact_002"

    def test_get_by_category(self):
        """Test filtering facts by category."""
        facts = [
            Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert errors[0].statement == "Edit failed"

    def test_get_high_confidence(self):
        """Test filtering facts by confidence threshold."""
        facts = [
            Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert len(high_conf) == 1
        assert high_conf[0].confidence >= 0.8


class TestAgentContext:
    """Tests for AgentContext model."""

    def test_to_yaml(self):
        """Test YAML serialization."""
        task = TaskSpec('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L207`
  - Forbidden pattern found: '        assert "task:" in yaml_output
        assert "goal:" in yaml_output
        assert "Fix complexity violation" in yaml_output


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Understanding Extraction Tests
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class TestExtractionRuleSet:
    """Tests for extraction rules."""

    def test_extract_check_passed(self):
        """Test extracting 'check passed' fact."""
        extractor = UnderstandingExtractor()
        facts = extractor.extract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '
        assert len(facts) >= 1
        # Should find check passed fact
        passed_facts = [f for f in facts if "passed" in f.statement.lower()]
        assert len(passed_facts) >= 1

    def test_extract_complexity_violation(self):
        """Test extracting complexity violation."""
        extractor = UnderstandingExtractor()
        facts = extractor.extract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '
        assert len(facts) >= 1
        complexity_facts = [f for f in facts if "complexity" in f.statement.lower()]
        assert len(complexity_facts) >= 1
        assert "process_data" in complexity_facts[0].statement

    def test_extract_test_results(self):
        """Test extracting test results."""
        extractor = UnderstandingExtractor()
        facts = extractor.extract('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
        assert len(facts) >= 1
        # Should extract both passed and failed counts
        statements = [f.statement for f in facts]
        assert any("passed" in s.lower() for s in statements)


class TestFactStore:
    """Tests for FactStore."""

    def test_add_fact(self):
        """Test adding a fact."""
        store = FactStore()
        fact = Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '
        assert len(store.get_active()) == 1

    def test_supersession(self):
        """Test fact supersession."""
        store = FactStore()

        # Add initial verification fact
        fact1 = Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert len(active) == 1
        assert active[0].id == "fact_002"

    def test_compaction(self):
        """Test fact compaction when threshold exceeded."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '        assert len(active) <= 5

    def test_to_understanding(self):
        """Test converting to Understanding model."""
        store = FactStore()
        fact = Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L350`
  - Forbidden pattern found: '        assert len(understanding.facts) == 1


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Loop Detection Tests
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class TestLoopDetector:
    """Tests for LoopDetector."""

    def test_detect_identical_loop(self):
        """Test detecting identical action loop."""
        detector = LoopDetector(identical_threshold=3)

        actions = [
            ActionRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L379`
  - Forbidden pattern found: '        assert result.detected
        assert result.loop_type == LoopType.IDENTICAL_ACTION
        assert len(result.suggestions) > 0

    def test_no_loop_with_different_actions(self):
        """Test no loop when actions differ."""
        detector = LoopDetector()

        actions = [
            ActionRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L409`
  - Forbidden pattern found: '        assert not result.detected

    def test_detect_no_progress(self):
        """Test detecting no-progress loop."""
        detector = LoopDetector(no_progress_threshold=4)

        actions = [
            ActionRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L426`
  - Forbidden pattern found: '        assert result.detected
        assert result.loop_type == LoopType.NO_PROGRESS

    def test_error_cycle_detection(self):
        """Test detecting A->B->A error cycles."""
        detector = LoopDetector(cycle_threshold=2)

        # Create A->B->A->B->A pattern
        actions = []
        for i in range(5):
            action = "edit_file" if i % 2 == 0 else "extract_function"
            actions.append(
                ActionRecord('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L449`
  - Forbidden pattern found: '        assert result.detected
        assert result.loop_type == LoopType.ERROR_CYCLE


class TestActionSignature:
    """Tests for ActionSignature."""

    def test_signature_matching(self):
        """Test signature comparison."""
        sig1 = ActionSignature('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L488`
  - Forbidden pattern found: '        assert machine.current_phase == Phase.INIT
        assert machine.steps_in_phase == 0

    def test_advance_step(self):
        """Test step advancement."""
        machine = PhaseMachine()
        machine.advance_step()
        assert machine.steps_in_phase == 1

    def test_transition_init_to_analyze(self):
        """Test transitioning from INIT to ANALYZE."""
        machine = PhaseMachine()
        context = PhaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L512`
  - Forbidden pattern found: '        assert success
        assert machine.current_phase == Phase.ANALYZE

    def test_guard_blocks_transition(self):
        """Test that guards can block transitions."""
        machine = PhaseMachine()
        # Start in IMPLEMENT phase
        machine._current_phase = Phase.IMPLEMENT

        context = PhaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L551`
  - Forbidden pattern found: '        assert success
        assert machine.current_phase == Phase.COMPLETE

    def test_analyze_to_implement_with_code_structure_fact(self):
        """Test transition from ANALYZE to IMPLEMENT when code_structure fact exists.

        This test verifies that the phase machine correctly transitions when
        the success_condition (has_fact_of_type('code_structure')) is met.'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L634`
  - Forbidden pattern found: '        assert next_phase is not None

    def test_to_state_and_from_state(self):
        """Test state persistence round-trip."""
        machine = PhaseMachine()
        machine._current_phase = Phase.IMPLEMENT
        machine._steps_in_phase = 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L645`
  - Forbidden pattern found: '        assert state.current_phase == "implement"
        assert state.steps_in_phase == 3

        # Reconstruct from state
        restored = PhaseMachine.from_state(state)
        assert restored.current_phase == Phase.IMPLEMENT
        assert restored.steps_in_phase == 3
        assert len(restored.phase_history) == 2

    def test_get_available_transitions(self):
        """Test getting available transitions."""
        machine = PhaseMachine()
        machine._current_phase = Phase.VERIFY

        # Context where verification failed
        context = PhaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L673`
  - Forbidden pattern found: '        assert Phase.IMPLEMENT in target_phases


class TestPhaseContext:
    """Tests for PhaseContext."""

    def test_has_modifications(self):
        """Test modification detection."""
        ctx_no_mods = PhaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L690`
  - Forbidden pattern found: '        assert not ctx_no_mods.has_modifications()

        ctx_with_mods = PhaseContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L701`
  - Forbidden pattern found: '        assert ctx_with_mods.has_modifications()

    def test_has_fact_of_type(self):
        """Test fact type detection."""
        fact = Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L723`
  - Forbidden pattern found: '
        assert ctx.has_fact_of_type("code_structure")
        assert not ctx.has_fact_of_type("verification")


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Integration Tests (Phase 2)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import tempfile
from pathlib import Path

from agentforge.core.harness.minimal_context.working_memory import WorkingMemoryManager


class TestWorkingMemoryFactStorage:
    """Tests for fact storage in WorkingMemoryManager."""

    def test_add_and_get_fact(self):
        """Test adding and retrieving facts."""
        with tempfile.TemporaryDirectory() as tmpdir:
            mgr = WorkingMemoryManager(Path(tmpdir))

            mgr.add_fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L756`
  - Forbidden pattern found: '            assert len(facts) == 1
            assert facts[0]["statement"] == "Check passed"
            assert facts[0]["confidence"] == 0.95

    def test_supersession(self):
        """Test fact supersession in working memory."""
        with tempfile.TemporaryDirectory() as tmpdir:
            mgr = WorkingMemoryManager(Path(tmpdir))

            # Add old fact
            mgr.add_fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L788`
  - Forbidden pattern found: '            assert len(facts) == 1
            assert facts[0]["id"] == "fact_002"

    def test_get_facts_for_context(self):
        """Test getting facts formatted for context."""
        with tempfile.TemporaryDirectory() as tmpdir:
            mgr = WorkingMemoryManager(Path(tmpdir))

            mgr.add_fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L817`
  - Forbidden pattern found: '            assert "verification" in ctx_facts
            assert "error" in ctx_facts
            assert len(ctx_facts["verification"]) == 1
            assert "Check passed" in ctx_facts["verification"][0]

    def test_high_confidence_pinning(self):
        """Test that high-confidence facts are pinned."""
        with tempfile.TemporaryDirectory() as tmpdir:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L850`
  - Forbidden pattern found: '            assert len(facts) >= 1
            high_conf_facts = [f for f in facts if f["id"] == "high_conf"]
            assert len(high_conf_facts) == 1

    def test_add_facts_from_list(self):
        """Test adding facts from Fact model objects."""
        with tempfile.TemporaryDirectory() as tmpdir:
            mgr = WorkingMemoryManager(Path(tmpdir))

            facts = [
                Fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L881`
  - Forbidden pattern found: '            assert len(stored) == 2

    def test_clear_facts(self):
        """Test clearing all facts."""
        with tempfile.TemporaryDirectory() as tmpdir:
            mgr = WorkingMemoryManager(Path(tmpdir))

            mgr.add_fact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L906`
  - Forbidden pattern found: '            assert cleared == 1

            # Facts should be gone
            facts = mgr.get_facts()
            assert len(facts) == 0

            # Action results should still be there
            actions = mgr.get_action_results()
            assert len(actions) == 1


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# AdaptiveBudget Integration Tests (Phase 3)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

from agentforge.core.harness.minimal_context import AdaptiveBudget


class TestAdaptiveBudgetEnhancedLoopDetection:
    """Tests for enhanced loop detection in AdaptiveBudget."""

    def test_identical_loop_detection(self):
        """Test detection of identical action loops."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L949`
  - Forbidden pattern found: '
        assert not should_continue
        assert "IDENTICAL_ACTION" in reason
        assert loop_detection is not None
        assert loop_detection.detected
        assert loop_detection.loop_type == LoopType.IDENTICAL_ACTION

    def test_error_cycle_detection(self):
        """Test detection of A->B->A error cycling."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L977`
  - Forbidden pattern found: '
        assert not should_continue
        assert loop_detection is not None
        assert loop_detection.detected
        assert loop_detection.loop_type == LoopType.ERROR_CYCLE

    def test_no_loop_with_progress(self):
        """Test that successful actions don't trigger loop detection."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L997`
  - Forbidden pattern found: '
        assert should_continue
        assert "Continue" in reason
        assert loop_detection is None

    def test_legacy_fallback(self):
        """Test fallback to legacy detection when enhanced is disabled."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1009`
  - Forbidden pattern found: '
        assert budget.loop_detector is None

        # Create identical failing actions
        actions = [
            {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1026`
  - Forbidden pattern found: '
        assert not should_continue
        assert "Runaway" in reason
        assert loop_detection is None  # No LoopDetection in legacy mode

    def test_get_loop_suggestions(self):
        """Test getting suggestions from last loop detection."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1040`
  - Forbidden pattern found: '        assert budget.get_loop_suggestions() == []

        # Trigger a loop
        actions = [
            {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1058`
  - Forbidden pattern found: '        assert len(suggestions) > 0
        assert any("re-read" in s.lower() or "replace_lines" in s.lower() for s in suggestions)

    def test_budget_exhaustion(self):
        """Test budget exhaustion still works with enhanced detection."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1077`
  - Forbidden pattern found: '
        assert not should_continue
        assert "Budget exhausted" in reason

    def test_step_outcome_includes_loop_info(self):
        """Test that StepOutcome can include loop detection info."""
        from agentforge.core.harness.minimal_context import StepOutcome

        loop_detection = LoopDetection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1106`
  - Forbidden pattern found: '
        assert "loop_detection" in outcome_dict
        assert outcome_dict["loop_detection"]["type"] == "identical_action"
        assert outcome_dict["loop_detection"]["suggestions"] == ["Try something different"]


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Phase 4: Phase Machine Integration Tests
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class TestPhaseMachineIntegration:
    """Tests for PhaseMachine integration with state_store and executor."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1152`
  - Forbidden pattern found: '
        assert loaded_machine.current_phase == Phase.IMPLEMENT
        assert loaded_machine.steps_in_phase == 3
        assert len(loaded_machine.phase_history) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1180`
  - Forbidden pattern found: '        assert machine.current_phase == Phase.INIT
        assert machine.steps_in_phase == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1213`
  - Forbidden pattern found: '
        assert loaded_machine.current_phase == Phase.VERIFY
        assert loaded_machine.steps_in_phase == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1259`
  - Forbidden pattern found: '
        assert context.current_phase == Phase.INIT
        assert context.verification_passing is True
        assert context.tests_passing is True
        assert context.files_modified == ["test.py"]
        assert context.last_action == "edit_file"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1305`
  - Forbidden pattern found: '        assert loaded.phase == Phase.COMPLETE

        loaded_machine = loaded.get_phase_machine()
        assert loaded_machine.current_phase == Phase.COMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1324`
  - Forbidden pattern found: '        assert executor.use_phase_machine is True


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Template Context Builder Tests
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class TestTemplateContextBuilderIntegration:
    """Tests for TemplateContextBuilder integration."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1372`
  - Forbidden pattern found: '        assert context.total_tokens > 0
        assert "Fix complexity violation" in context.user_message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1412`
  - Forbidden pattern found: '
        assert len(messages) == 2
        assert messages[0]["role"] == "system"
        assert messages[1]["role"] == "user"

        # Check user message has context
        assert "Test messages" in messages[1]["content"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1460`
  - Forbidden pattern found: '        assert len(breakdown) > 0
        # Should contain at least task and system_prompt sections
        total_tokens = sum(breakdown.values())
        assert total_tokens > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1508`
  - Forbidden pattern found: '        assert workflow.executor.use_phase_machine is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1523`
  - Forbidden pattern found: '        assert workflow.executor.use_phase_machine is True

    def test_deprecated_exports_removed(self):
        """Test that deprecated exports are no longer in the public API."""
        import agentforge.core.harness.minimal_context as mc

        # These deprecated exports should no longer be in the module'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1550`
  - Forbidden pattern found: '
        assert workflow.base_iterations == 20
        assert workflow.max_iterations == 100

    def test_module_docstring_documents_features(self):
        """Test that module docstring documents architecture features."""
        import agentforge.core.harness.minimal_context as mc

        docstring = mc.__doc__

        # Architecture features documented
        assert "TemplateContextBuilder" in docstring
        assert "PhaseMachine" in docstring
        assert "Progressive Compaction" in docstring


class TestTokenBudgetEnforcement:
    """Tests for token budget estimation in context models."""

    def test_agent_context_estimate_tokens(self):
        """Test that AgentContext can estimate its token count."""
        from agentforge.core.harness.minimal_context import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1600`
  - Forbidden pattern found: '        assert tokens > 0
        assert tokens < 1000  # Simple context should be under 1000 tokens


class TestResponseValidation:
    """Tests for LLM response validation against AgentResponse schema."""

    def test_parse_action_block_format(self):
        """Test parsing action block format."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = '''Here is my action:
```action
name: read_file
parameters:
  path: /tmp/test.py
```'''
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1621`
  - Forbidden pattern found: '
        assert action == "read_file"
        assert params == {"path": "/tmp/test.py"}

    def test_parse_yaml_block_format(self):
        """Test parsing YAML block format with 'action' key."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = '''I will read the file:
```yaml
action: read_file
parameters:
  path: /tmp/test.py
```'''
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1639`
  - Forbidden pattern found: '
        assert action == "read_file"
        assert params == {"path": "/tmp/test.py"}

    def test_parse_with_reasoning(self):
        """Test that reasoning is accepted but not returned."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = '''```yaml
action: edit_file
parameters:
  path: /tmp/test.py
  old_text: "foo"
  new_text: "bar"
reasoning: "Replacing foo with bar to fix the bug"
```'''
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1659`
  - Forbidden pattern found: '
        assert action == "edit_file"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1677`
  - Forbidden pattern found: '        assert action == "complete"

        # The parsed values should be valid for AgentResponse'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1681`
  - Forbidden pattern found: '        assert validated.action == "complete"

    def test_parse_fallback_to_simple_pattern(self):
        """Test fallback to simple pattern matching."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = "I will use action: read_file to examine the code."
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1692`
  - Forbidden pattern found: '
        assert action == "read_file"
        assert params == {}

    def test_parse_handles_malformed_yaml(self):
        """Test handling of malformed YAML."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = '''```yaml
action: [this is not valid yaml
parameters:
  foo: bar
```'''
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1711`
  - Forbidden pattern found: '        assert action == "unknown"
        assert params == {}

    def test_parse_handles_empty_parameters(self):
        """Test handling of empty/null parameters."""
        from agentforge.core.harness.minimal_context.executor import MinimalContextExecutor

        executor = MinimalContextExecutor(project_path=Path("/tmp"))

        response = '''```yaml
action: complete
parameters:
```'''
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1726`
  - Forbidden pattern found: '
        assert action == "complete"
        assert params == {}


class TestSchemaVersioning:
    """Tests for state store schema versioning and migration."""

    def test_schema_version_exported(self):
        """Test that SCHEMA_VERSION is exported."""
        from agentforge.core.harness.minimal_context import SCHEMA_VERSION

        assert SCHEMA_VERSION == "2.0"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1757`
  - Forbidden pattern found: '
        assert state_data["schema_version"] == "2.0"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1804`
  - Forbidden pattern found: '        assert loaded is not None
        assert loaded.phase == Phase.INIT
        assert loaded.current_step == 5
        assert loaded.phase_machine_state == {}  # Added by migration
        assert loaded.verification.ready_for_completion is False  # Added by migration

        # Verify state.yaml was updated with new version
        with open(task_dir / "state.yaml") as f:
            updated_data = yaml.safe_load(f)

        assert updated_data["schema_version"] == "2.0"
        assert "phase_machine_state" in updated_data
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1832`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.task_id == task.task_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1881`
  - Forbidden pattern found: '
        assert loaded.current_step == 42
        assert loaded.verification.checks_passing == 5
        assert loaded.verification.checks_failing == 2
        assert loaded.verification.details == {"custom": "data"}
        assert loaded.error == "Previous error"
        assert loaded.context_data["file_path"] == "important.py"
        assert loaded.context_data["precomputed"]["analysis"] == "results"


class TestFactCompaction:
    """Tests for proactive fact compaction."""

    def test_understanding_compact_reduces_facts(self):
        """Test that compact() reduces facts to max threshold."""
        from agentforge.core.harness.minimal_context import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1916`
  - Forbidden pattern found: '        assert len(understanding.get_active_facts()) == 30

        # Compact to 15
        compacted = understanding.compact(max_facts=15)
        assert len(compacted.get_active_facts()) == 15

    def test_understanding_compact_preserves_high_value(self):
        """Test that compaction preserves high-value facts."""
        from agentforge.core.harness.minimal_context import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1968`
  - Forbidden pattern found: '        assert "high-1" in active_ids
        assert "high-2" in active_ids

    def test_understanding_compact_noop_under_threshold(self):
        """Test that compaction is a no-op under threshold."""
        from agentforge.core.harness.minimal_context import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L1995`
  - Forbidden pattern found: '        assert compacted is understanding
        assert len(compacted.get_active_facts()) == 10

    def test_understanding_compact_prioritizes_categories(self):
        """Test that compaction prioritizes by category importance."""
        from agentforge.core.harness.minimal_context import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L2047`
  - Forbidden pattern found: '        assert "verify" in active_ids
        assert "error" in active_ids
        assert "infer" not in active_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 99 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L554`
  - Function 'test_analyze_to_implement_with_code_structure_fact' has 47 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1217`
  - Function 'test_phase_context_building' has 39 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1266`
  - Function 'test_phase_transition_via_handle_method' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1375`
  - Function 'test_build_messages' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1420`
  - Function 'test_token_breakdown' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1760`
  - Function 'test_migrate_v1_to_v2' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1836`
  - Function 'test_migration_preserves_data' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1922`
  - Function 'test_understanding_compact_preserves_high_value' has 41 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L1998`
  - Function 'test_understanding_compact_prioritizes_categories' has 47 lines (max: 30)
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L1760`
  - Function 'test_migrate_v1_to_v2' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L378`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L408`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L425`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L448`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_escalation_domain.py`** (28 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L109`
  - Function 'test_escalation_creation_with_required_fields' has complexity 12 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L106`
  - Class 'TestEscalation' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L254`
  - Class 'TestEscalationRule' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_escalation_priority_values_are_accessible(self):
        """Test that individual EscalationPriority values can be accessed."""
        assert EscalationPriority.LOW
        assert EscalationPriority.MEDIUM
        assert EscalationPriority.HIGH
        assert EscalationPriority.CRITICAL

    def test_escalation_priority_ordering(self):
        """Test that priorities can be compared for ordering."""
        # Using enum values for comparison
        assert EscalationPriority.LOW.value < EscalationPriority.CRITICAL.value


class TestEscalationStatus:
    """Test EscalationStatus enum values and behavior."""

    def test_escalation_status_has_all_required_values(self):
        """Test that EscalationStatus enum contains all specified values."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_escalation_status_values_are_accessible(self):
        """Test that individual EscalationStatus values can be accessed."""
        assert EscalationStatus.PENDING
        assert EscalationStatus.ACKNOWLEDGED
        assert EscalationStatus.IN_PROGRESS
        assert EscalationStatus.RESOLVED
        assert EscalationStatus.EXPIRED
        assert EscalationStatus.CANCELLED


class TestEscalationChannel:
    """Test EscalationChannel enum values and behavior."""

    def test_escalation_channel_has_all_required_values(self):
        """Test that EscalationChannel enum contains all specified values."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_escalation_channel_values_are_accessible(self):
        """Test that individual EscalationChannel values can be accessed."""
        assert EscalationChannel.CLI
        assert EscalationChannel.FILE
        assert EscalationChannel.WEBHOOK
        assert EscalationChannel.EMAIL


class TestResolutionType:
    """Test ResolutionType enum values and behavior."""

    def test_resolution_type_has_all_required_values(self):
        """Test that ResolutionType enum contains all specified values."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L95`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_resolution_type_values_are_accessible(self):
        """Test that individual ResolutionType values can be accessed."""
        assert ResolutionType.APPROVED
        assert ResolutionType.REJECTED
        assert ResolutionType.MODIFIED
        assert ResolutionType.DEFERRED
        assert ResolutionType.TIMEOUT


class TestEscalation:
    """Test Escalation entity structure and behavior."""

    def test_escalation_creation_with_required_fields(self):
        """Test creating an Escalation with all required fields."""
        created_at = datetime.now()
        escalation = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '
        assert escalation.id == "esc-001"
        assert escalation.session_id == "session-123"
        assert escalation.created_at == created_at
        assert escalation.priority == EscalationPriority.HIGH
        assert escalation.status == EscalationStatus.PENDING
        assert escalation.reason == "Critical error encountered"
        assert escalation.context == {"error": "Connection timeout"}'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '        assert escalation.timeout_seconds is None
        assert escalation.acknowledged_at is None
        assert escalation.resolved_at is None

    def test_escalation_creation_with_optional_fields(self):
        """Test creating an Escalation with optional fields."""
        created_at = datetime.now()
        acknowledged_at = datetime.now()

        escalation = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '
        assert escalation.timeout_seconds == 3600
        assert escalation.acknowledged_at == acknowledged_at

    def test_escalation_context_can_be_complex_dict(self):
        """Test that Escalation context field can hold complex nested data."""
        complex_context = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert escalation.context == complex_context

    def test_escalation_supports_all_priority_levels(self):
        """Test that Escalation can be created with all priority levels."""
        for priority in EscalationPriority:
            escalation = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '            assert escalation.priority == priority

    def test_escalation_supports_all_status_values(self):
        """Test that Escalation can be created with all status values."""
        for status in EscalationStatus:
            escalation = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '            assert escalation.status == status


class TestEscalationResolution:
    """Test EscalationResolution entity structure and behavior."""

    def test_escalation_resolution_creation_with_required_fields(self):
        """Test creating an EscalationResolution with required fields."""
        resolved_at = datetime.now()
        resolution = EscalationResolution('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '
        assert resolution.escalation_id == "esc-001"
        assert resolution.resolution_type == ResolutionType.APPROVED
        assert resolution.decision == "Proceed with the operation"
        assert resolution.resolved_at == resolved_at
        assert resolution.notes is None
        assert resolution.resolved_by is None

    def test_escalation_resolution_creation_with_optional_fields(self):
        """Test creating an EscalationResolution with optional fields."""
        resolution = EscalationResolution('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '
        assert resolution.notes == "Changed parameters based on review"
        assert resolution.resolved_by == "user@example.com"

    def test_escalation_resolution_supports_all_resolution_types(self):
        """Test that EscalationResolution can be created with all resolution types."""
        for res_type in ResolutionType:
            resolution = EscalationResolution('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L251`
  - Forbidden pattern found: '            assert resolution.resolution_type == res_type


class TestEscalationRule:
    """Test EscalationRule entity structure and behavior."""

    def test_escalation_rule_creation_with_required_fields(self):
        """Test creating an EscalationRule with required fields."""
        rule = EscalationRule('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '
        assert rule.name == "critical_error"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L268`
  - Forbidden pattern found: '        assert rule.priority == EscalationPriority.CRITICAL'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L270`
  - Forbidden pattern found: '        assert rule.timeout_seconds == 3600  # default
        assert rule.auto_resolve_action is None

    def test_escalation_rule_creation_with_custom_timeout(self):
        """Test creating an EscalationRule with custom timeout."""
        rule = EscalationRule('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
        assert rule.timeout_seconds == 86400
        assert rule.auto_resolve_action == "approve"

    def test_escalation_rule_supports_multiple_triggers(self):
        """Test that EscalationRule can have multiple triggers."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L296`
  - Forbidden pattern found: '
        assert rule.triggers == triggers
        assert len(rule.triggers) == 4

    def test_escalation_rule_supports_multiple_channels(self):
        """Test that EscalationRule can have multiple channels."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '
        assert rule.channels == channels
        assert len(rule.channels) == 3

    def test_escalation_rule_empty_triggers_allowed(self):
        """Test that EscalationRule can have empty triggers list."""
        rule = EscalationRule('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '
        assert rule.triggers == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L109`
  - Function 'test_escalation_creation_with_required_fields' has complexity 12 (max: 10)

**`tests/unit/harness/test_escalation_manager.py`** (58 violations)

- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'TestEscalationManagerInit' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L75`
  - Class 'TestCreateEscalation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L144`
  - Class 'TestAcknowledgeEscalation' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L196`
  - Class 'TestResolveEscalation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L314`
  - Class 'TestListEscalations' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L480`
  - Class 'TestCancelEscalation' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '
            assert manager is not None
            assert manager.storage_path == storage_path
            assert manager.default_timeout == 3600  # default

    def test_init_with_custom_timeout_sets_default(self):
        """Test that EscalationManager respects custom default_timeout."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
            assert manager.default_timeout == 7200

    def test_init_creates_storage_directory_if_not_exists(self):
        """Test that EscalationManager creates storage directory."""
        with tempfile.TemporaryDirectory() as temp_dir:
            storage_path = Path(temp_dir) / "escalations"
            EscalationManager(storage_path=storage_path)

            assert storage_path.exists()
            assert storage_path.is_dir()

    def test_init_with_channels_sets_active_channels(self):
        """Test that EscalationManager accepts channel configuration."""
        with tempfile.TemporaryDirectory() as temp_dir:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '
            assert manager.channels == channels


class TestCreateEscalation:
    """Test escalation creation functionality."""

    @pytest.fixture
    def manager(self):
        """Create an EscalationManager for testing."""
        with tempfile.TemporaryDirectory() as temp_dir:
            yield EscalationManager(storage_path=Path(temp_dir))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '        assert escalation.session_id == "session-123"
        assert escalation.reason == "Test escalation"
        assert escalation.context == {"key": "value"}
        assert escalation.priority == EscalationPriority.MEDIUM  # default
        assert escalation.status == EscalationStatus.PENDING
        assert escalation.id is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L110`
  - Forbidden pattern found: '
        assert escalation.priority == EscalationPriority.CRITICAL'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '        assert escalation.timeout_seconds == 7200
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '
        assert esc1.id != esc2.id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '        assert retrieved is not None
        assert retrieved.id == escalation.id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L140`
  - Forbidden pattern found: '
        assert before <= escalation.created_at <= after


class TestAcknowledgeEscalation:
    """Test escalation acknowledgment functionality."""

    @pytest.fixture
    def manager_with_escalation(self):
        """Create manager with an existing escalation."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))
            escalation = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '        assert updated.status == EscalationStatus.ACKNOWLEDGED
        assert updated.acknowledged_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '        assert updated.status == EscalationStatus.ACKNOWLEDGED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
        assert result is False


class TestResolveEscalation:
    """Test escalation resolution functionality."""

    @pytest.fixture
    def manager_with_escalation(self):
        """Create manager with an existing escalation."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))
            escalation = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '        assert resolution.escalation_id == escalation.id
        assert resolution.resolution_type == ResolutionType.APPROVED
        assert resolution.decision == "Proceed with operation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '        assert updated.status == EscalationStatus.RESOLVED
        assert updated.resolved_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L250`
  - Forbidden pattern found: '
        assert resolution.notes == "Detailed explanation here"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '
        assert resolution.resolved_by == "admin@example.com"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '            assert resolution.resolution_type == res_type


class TestGetEscalation:
    """Test escalation retrieval functionality."""

    @pytest.fixture
    def manager_with_escalation(self):
        """Create manager with an existing escalation."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))
            escalation = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
        assert retrieved is not None
        assert retrieved.id == escalation.id
        assert retrieved.reason == escalation.reason
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '
        assert retrieved is None


class TestListEscalations:
    """Test escalation listing functionality."""

    @pytest.fixture
    def manager_with_multiple_escalations(self):
        """Create manager with multiple escalations."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            esc1 = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L349`
  - Forbidden pattern found: '
        assert len(escalations) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '
        assert len(escalations) == 2
        for esc in escalations:
            assert esc.session_id == "session-1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L371`
  - Forbidden pattern found: '
        assert len(pending) == 2
        assert len(resolved) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L380`
  - Forbidden pattern found: '
        assert len(high) == 1
        assert high[0].priority == EscalationPriority.HIGH


class TestGetPendingEscalations:
    """Test getting pending escalations."""

    @pytest.fixture
    def manager_with_mixed_escalations(self):
        """Create manager with pending and resolved escalations."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L406`
  - Forbidden pattern found: '
        assert len(pending) == 2
        for esc in pending:
            assert esc.status == EscalationStatus.PENDING
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L416`
  - Forbidden pattern found: '
        assert len(pending) == 1
        assert pending[0].session_id == "session-1"


class TestCheckTimeouts:
    """Test timeout checking functionality."""

    def test_check_timeouts_expires_old_escalations(self):
        """Test that old escalations are marked as expired."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            # Create escalation with very short timeout
            esc = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L439`
  - Forbidden pattern found: '
            assert len(expired) >= 1
            updated = manager.get_escalation(esc.id)
            assert updated.status == EscalationStatus.EXPIRED

    def test_check_timeouts_returns_expired_list(self):
        """Test that expired escalations are returned."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            esc = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L459`
  - Forbidden pattern found: '            assert esc.id in expired_ids

    def test_check_timeouts_ignores_non_pending(self):
        """Test that resolved escalations aren't expired."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            esc = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L477`
  - Forbidden pattern found: '            assert esc.id not in expired_ids


class TestCancelEscalation:
    """Test escalation cancellation functionality."""

    @pytest.fixture
    def manager_with_escalation(self):
        """Create manager with an existing escalation."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))
            escalation = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L500`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L510`
  - Forbidden pattern found: '        assert updated.status == EscalationStatus.CANCELLED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L517`
  - Forbidden pattern found: '
        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L526`
  - Forbidden pattern found: '
        assert result is False


class TestEscalationManagerIntegration:
    """Integration tests for EscalationManager."""

    def test_full_escalation_lifecycle(self):
        """Test complete escalation lifecycle."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            # Create
            esc = manager.create_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L544`
  - Forbidden pattern found: '            assert esc.status == EscalationStatus.PENDING

            # Acknowledge
            manager.acknowledge_escalation(esc.id)
            esc = manager.get_escalation(esc.id)
            assert esc.status == EscalationStatus.ACKNOWLEDGED

            # Resolve
            resolution = manager.resolve_escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L557`
  - Forbidden pattern found: '            assert resolution.resolution_type == ResolutionType.APPROVED

            esc = manager.get_escalation(esc.id)
            assert esc.status == EscalationStatus.RESOLVED

    def test_multiple_sessions_isolation(self):
        """Test that escalations are properly isolated by session."""
        with tempfile.TemporaryDirectory() as temp_dir:
            manager = EscalationManager(storage_path=Path(temp_dir))

            for i in range(3):
                for j in range(2):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L573`
  - Forbidden pattern found: '                assert len(session_escs) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L78`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L147`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L199`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L283`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L317`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L388`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L483`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L163`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L499`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L516`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L525`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_escalation_notifier.py`** (47 violations)

- ğŸ”µ **single-responsibility-modules** at `L61`
  - Class 'TestNotify' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L112`
  - Class 'TestNotifyCli' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L162`
  - Class 'TestNotifyFile' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L227`
  - Class 'TestNotifyWebhook' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L302`
  - Class 'TestFormatEscalation' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert notifier is not None
        assert notifier.channels == channels

    def test_init_with_config_sets_configuration(self):
        """Test that EscalationNotifier accepts configuration."""
        config = {"webhook_url": "https://example.com/hook"}
        notifier = EscalationNotifier('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
        assert notifier.config == config

    def test_init_with_empty_channels_allowed(self):
        """Test that notifier can be created with no channels."""
        notifier = EscalationNotifier(channels=[])

        assert notifier.channels == []


class TestNotify:
    """Test main notification functionality."""

    @pytest.fixture
    def sample_escalation(self):
        """Create a sample escalation for testing."""
        return Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert EscalationChannel.CLI in results
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
        assert len(results) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert results[EscalationChannel.CLI] is False
        assert results[EscalationChannel.FILE] is True


class TestNotifyCli:
    """Test CLI notification functionality."""

    @pytest.fixture
    def sample_escalation(self):
        """Create a sample escalation for testing."""
        return Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '        assert "esc-cli-001" in call_args_str or "Critical" in call_args_str or "CRITICAL" in call_args_str
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '        assert "CRITICAL" in all_output.upper()


class TestNotifyFile:
    """Test file notification functionality."""

    @pytest.fixture
    def sample_escalation(self):
        """Create a sample escalation for testing."""
        return Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
            assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L196`
  - Forbidden pattern found: '
            assert file_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '
            assert data["id"] == "esc-file-001"
            assert data["reason"] == "File test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L224`
  - Forbidden pattern found: '            assert result is True


class TestNotifyWebhook:
    """Test webhook notification functionality."""

    @pytest.fixture
    def sample_escalation(self):
        """Create a sample escalation for testing."""
        return Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L257`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L271`
  - Forbidden pattern found: '        assert call_args[0][0] == url
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L299`
  - Forbidden pattern found: '        assert call_args[0][0] == config_url


class TestFormatEscalation:
    """Test escalation formatting functionality."""

    @pytest.fixture
    def sample_escalation(self):
        """Create a sample escalation for testing."""
        return Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L326`
  - Forbidden pattern found: '        assert "esc-format-001" in result
        assert "Format test" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '        assert data["id"] == "esc-format-001"
        assert data["reason"] == "Format test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L346`
  - Forbidden pattern found: '        assert "#" in result or "**" in result  # Markdown formatting
        assert "esc-format-001" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '
        assert result1 == result2


class TestGetPriorityColor:
    """Test priority color code functionality."""

    def test_get_priority_color_returns_string(self):
        """Test that color code is returned as string."""
        notifier = EscalationNotifier(channels=[])

        for priority in EscalationPriority:
            color = notifier.get_priority_color(priority)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L377`
  - Forbidden pattern found: '        assert "\033[" in color or "red" in color.lower() or color != ""

    def test_get_priority_color_different_per_priority(self):
        """Test that different priorities have different colors."""
        notifier = EscalationNotifier(channels=[])

        colors = {
            p: notifier.get_priority_color(p)
            for p in EscalationPriority
        }

        # At least CRITICAL and LOW should differ
        assert colors[EscalationPriority.CRITICAL] != colors[EscalationPriority.LOW]


class TestEscalationNotifierIntegration:
    """Integration tests for EscalationNotifier."""

    def test_full_notification_flow(self):
        """Test complete notification through multiple channels."""
        with tempfile.TemporaryDirectory() as temp_dir:
            Path(temp_dir) / "test_esc.json"
            notifier = EscalationNotifier('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L419`
  - Forbidden pattern found: '            assert results.get(EscalationChannel.CLI) is True
            # FILE should succeed
            assert results.get(EscalationChannel.FILE) is True

    def test_format_all_priorities(self):
        """Test that all priorities format correctly."""
        notifier = EscalationNotifier(channels=[])

        for priority in EscalationPriority:
            escalation = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L440`
  - Forbidden pattern found: '            assert priority.name in text.upper()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L64`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L115`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L165`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L230`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L305`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L323`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L333`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L335`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L343`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L221`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L253`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L279`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L208`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_execution_context_store.py`** (33 violations)

- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'TestExecutionContextStore' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L182`
  - Class 'TestSerializationRoundTrip' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '        assert path.exists()

        # Load
        loaded = store.load_context(sample_context.session_id)
        assert loaded is not None
        assert loaded.session_id == sample_context.session_id
        assert loaded.task_description == sample_context.task_description
        assert loaded.current_phase == sample_context.current_phase
        assert loaded.available_tools == sample_context.available_tools
        assert loaded.iteration == sample_context.iteration
        assert loaded.tokens_used == sample_context.tokens_used
        assert len(loaded.conversation_history) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '
        assert path1 == path2  # Same history file
        assert path1.exists()

        # Load history
        history = store.get_history(session_id)
        assert len(history) == 2
        assert history[0].action.action_type == ActionType.TOOL_CALL
        assert history[1].action.action_type == ActionType.COMPLETE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '        assert history == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '        assert context_file.exists()
        assert history_file.exists()

        # Delete
        result = store.delete_context(sample_context.session_id)
        assert result is True
        assert not context_file.exists()
        assert not history_file.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '        assert len(sessions) == 3
        assert "session-0" in sessions
        assert "session-1" in sessions
        assert "session-2" in sessions
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '        assert store.get_step_count(session_id) == 0

        # Add steps
        for i in range(5):
            step = StepResult.success_step('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert store.get_step_count(session_id) == 5


class TestSerializationRoundTrip:
    """Tests for serialization round-trip of domain entities."""

    def test_tool_call_round_trip(self):
        """ToolCall serializes and deserializes correctly."""
        original = ToolCall('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '
        assert restored.name == original.name
        assert restored.parameters == original.parameters
        assert restored.category == original.category

    def test_tool_result_round_trip(self):
        """ToolResult serializes and deserializes correctly."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '
        assert restored.tool_name == original.tool_name
        assert restored.success == original.success
        assert restored.output == original.output
        assert restored.duration_seconds == original.duration_seconds

    def test_agent_action_round_trip(self):
        """AgentAction serializes and deserializes correctly."""
        original = AgentAction.tool_action(
            tool_calls=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L224`
  - Forbidden pattern found: '
        assert restored.action_type == original.action_type
        assert restored.reasoning == original.reasoning
        assert len(restored.tool_calls) == 2
        assert restored.tool_calls[0].name == "read_file"
        assert restored.metadata == original.metadata

    def test_conversation_message_round_trip(self):
        """ConversationMessage serializes and deserializes correctly."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '
        assert restored.role == original.role
        assert restored.content == original.content
        assert len(restored.tool_calls) == 1
        assert restored.tool_calls[0].name == "bash"
        # Timestamp should be preserved
        assert abs((restored.timestamp - original.timestamp).total_seconds()) < 1

    def test_execution_context_round_trip(self):
        """ExecutionContext serializes and deserializes correctly."""
        original = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L267`
  - Forbidden pattern found: '
        assert restored.session_id == original.session_id
        assert restored.task_description == original.task_description
        assert restored.current_phase == original.current_phase
        assert restored.available_tools == original.available_tools
        assert restored.memory_context == original.memory_context
        assert restored.iteration == original.iteration
        assert restored.tokens_used == original.tokens_used
        assert restored.token_budget == original.token_budget
        assert len(restored.conversation_history) == 3

    def test_step_result_round_trip(self):
        """StepResult serializes and deserializes correctly."""
        action = AgentAction.tool_action('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L298`
  - Forbidden pattern found: '
        assert restored.success == original.success
        assert restored.tokens_used == original.tokens_used
        assert restored.duration_seconds == original.duration_seconds
        assert restored.should_continue == original.should_continue
        assert restored.action.action_type == ActionType.TOOL_CALL
        assert len(restored.tool_results) == 2


class TestCreateExecutionStore:
    """Tests for factory function."""

    def test_creates_store_with_default_path(self):
        """Factory creates store with default path."""
        store = create_execution_store()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L314`
  - Forbidden pattern found: '        assert ".agentforge" in str(store.base_path)
        assert "sessions" in str(store.base_path)

    def test_creates_store_with_custom_path(self):
        """Factory creates store with custom path."""
        custom_path = Path("/tmp/custom")
        store = create_execution_store(custom_path)
        assert store.base_path == custom_path
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L37`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L42`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L141`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L192`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L203`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L222`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L239`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L265`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L296`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_executor.py`** (41 violations)

- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'TestMinimalContextExecutor' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L248`
  - Class 'TestNativeToolIntegration' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert executor.config is not None
        assert executor.config.defaults.max_steps > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
        assert fp is not None
        assert fp.technical.language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '
        assert executor.template is not None
        assert executor.template.task_type == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert executor.template.task_type == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '
        assert executor.compaction_manager is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert executor.compaction_manager is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
            assert executor.audit_enabled is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert executor.audit_enabled is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '
        assert "test_action" in executor.action_executors
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '
        assert "action1" in executor.action_executors
        assert "action2" in executor.action_executors


class TestCreateExecutor:
    """Tests for create_executor factory function."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '
        assert "test" in executor.action_executors


class TestFingerprint:
    """Tests for fingerprint functionality."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / "pyproject.toml").write_text(
                """
[project]
name = "test"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert fp.task_constraints["correctness_first"] is True
        assert "Tests pass" in fp.success_criteria
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '
        assert fp.technical.language == "python"
        assert "pydantic" in fp.technical.frameworks or "fastapi" in fp.technical.frameworks


class TestNativeToolIntegration:
    """Tests for native tool integration in executor."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / "src").mkdir()
            (project / ".agentforge").mkdir()
            (project / ".agentforge" / "tasks").mkdir()
            (project / "pyproject.toml").write_text(
                """
[project]
name = "test-project"
requires-python = ">=3.11"
"""
            )
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '
        assert executor.native_tool_executor is not None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '        assert native.has_action("read_file")
        assert native.has_action("write_file")
        assert native.has_action("complete")
        assert native.has_action("escalate")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L303`
  - Forbidden pattern found: '        assert "custom_action" in executor.action_executors
        assert executor.native_tool_executor.has_action("custom_action")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L314`
  - Forbidden pattern found: '        assert native is executor.native_tool_executor

    def _get_violation_context(self):
        """Get minimal violation context for fix_violation tasks."""
        return {
            "violation": {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '
        assert result["status"] == "completed"
        assert result["native_tools"] is True
        assert result["steps"] == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L394`
  - Forbidden pattern found: '
        assert result["status"] == "completed"
        assert result["steps"] == 2

        # Check first step read the file
        outcomes = result["outcomes"]
        assert outcomes[0]["action_name"] == "read_file"
        assert "Hello from test file" in outcomes[0]["result"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L427`
  - Forbidden pattern found: '
        assert result["status"] == "escalated"
        assert "ESCALATE" in result["outcomes"][0]["result"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L460`
  - Forbidden pattern found: '
        assert len(step_outcomes) == 1
        assert step_outcomes[0].action_name == "complete"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L492`
  - Forbidden pattern found: '
        assert result["status"] == "stopped"
        assert result["steps"] == 3


class TestShouldUseNativeTools:
    """Tests for should_use_native_tools function."""

    def test_returns_false_by_default(self):
        """Returns False when env not set."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L504`
  - Forbidden pattern found: '            assert should_use_native_tools() is False

    def test_returns_true_when_enabled(self):
        """Returns True when env var is true."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L509`
  - Forbidden pattern found: '            assert should_use_native_tools() is True

    def test_returns_true_case_insensitive(self):
        """Returns True with any case."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L514`
  - Forbidden pattern found: '            assert should_use_native_tools() is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L517`
  - Forbidden pattern found: '            assert should_use_native_tools() is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L36`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L171`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L204`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L251`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L361`
  - Function 'test_run_task_native_with_file_read' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L350`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L388`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L421`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L486`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_executor_edge_cases.py`** (52 violations)

- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'TestExecutorErrorHandling' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L201`
  - Class 'TestParseActionEdgeCases' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L296`
  - Class 'TestAdaptiveBudgetEdgeCases' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L386`
  - Class 'TestNativeToolEdgeCases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L532`
  - Class 'TestPhaseTransitionEdgeCases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '
        assert outcome.success is False
        assert outcome.action_name == "error"
        assert "not found" in outcome.summary.lower()
        assert outcome.should_continue is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert outcome.success is True
        assert outcome.action_name == "already_complete"
        assert outcome.should_continue is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert outcome.success is True
        assert "FAILED" in outcome.summary.upper() or "failed" in outcome.summary.lower()
        assert outcome.should_continue is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert outcome.success is True
        assert outcome.should_continue is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '
        assert result["status"] == "failure"
        assert "Simulated action failure" in result["error"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L177`
  - Forbidden pattern found: '
        assert result["status"] == "success"
        assert result["summary"] == "Simple string result"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L196`
  - Forbidden pattern found: '
        assert result["status"] == "failure"
        assert "unknown action" in result["summary"].lower()


class TestParseActionEdgeCases:
    """Tests for action parsing edge cases."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / "pyproject.toml").write_text('[project]\nname = "test"')
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
        assert action_name == "unknown"
        assert params == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '
        assert action_name == "complete"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '        assert action_name == "unknown"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '
        assert action_name == "read_file"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L292`
  - Forbidden pattern found: '
        assert action_name == "write_file"


class TestAdaptiveBudgetEdgeCases:
    """Tests for AdaptiveBudget edge cases."""

    def test_empty_recent_actions(self):
        """Empty recent actions list is handled."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L304`
  - Forbidden pattern found: '
        assert should_continue is True
        assert "Continue" in reason

    def test_single_action_no_loop(self):
        """Single action doesn't trigger loop detection."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L314`
  - Forbidden pattern found: '
        assert should_continue is True
        assert loop is None

    def test_repeated_failures_trigger_loop(self):
        """Repeated identical failures trigger loop detection."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '
        assert should_continue is False
        assert "runaway" in reason.lower() or "stopped" in reason.lower()

    def test_budget_exhaustion(self):
        """Budget exhaustion stops execution."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '
        assert should_continue is False
        assert "budget" in reason.lower()

    def test_no_progress_streak_stops(self):
        """No progress for several steps stops execution."""
        budget = AdaptiveBudget('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '
        assert should_continue is False
        assert "no progress" in reason.lower()

    def test_progress_extends_budget(self):
        """Making progress extends the dynamic budget."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L383`
  - Forbidden pattern found: '        assert dynamic > 5


class TestNativeToolEdgeCases:
    """Tests for native tool execution edge cases."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / "src").mkdir()
            (project / ".agentforge").mkdir()
            (project / ".agentforge" / "tasks").mkdir()
            (project / "pyproject.toml").write_text('[project]\nname = "test"')
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L423`
  - Forbidden pattern found: '        assert result["steps"] >= 1
        # Result could be various statuses depending on how executor handles no-tool response'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L447`
  - Forbidden pattern found: '
        assert result["status"] == "completed"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L473`
  - Forbidden pattern found: '
        assert result["status"] == "escalated"


class TestCompleteActionEdgeCases:
    """Tests for complete action verification."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / "pyproject.toml").write_text('[project]\nname = "test"')
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L507`
  - Forbidden pattern found: '
        assert result["status"] == "failure"
        assert "verification" in result["summary"].lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L528`
  - Forbidden pattern found: '
        assert result["status"] == "success"


class TestPhaseTransitionEdgeCases:
    """Tests for phase transition edge cases."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / "pyproject.toml").write_text('[project]\nname = "test"')
            yield project
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L569`
  - Forbidden pattern found: '        assert updated_state.phase == Phase.FAILED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L591`
  - Forbidden pattern found: '        assert updated_state.phase == Phase.ESCALATED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L616`
  - Forbidden pattern found: '        assert updated_state.phase == Phase.ESCALATED
        assert updated_state.context_data.get("cannot_fix_reason") == "Requires architectural changes"


class TestStepOutcomeEdgeCases:
    """Tests for StepOutcome edge cases."""

    def test_step_outcome_to_dict_without_loop(self):
        """StepOutcome.to_dict works without loop detection."""
        outcome = StepOutcome('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L637`
  - Forbidden pattern found: '
        assert result["success"] is True
        assert result["action_name"] == "read_file"
        assert "loop_detection" not in result

    def test_step_outcome_to_dict_with_loop(self):
        """StepOutcome.to_dict includes loop detection info."""
        from agentforge.core.harness.minimal_context.loop_detector import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L670`
  - Forbidden pattern found: '
        assert "loop_detection" in result
        assert result["loop_detection"]["type"] == "identical_action"
        assert result["loop_detection"]["confidence"] == 0.9
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L35`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L204`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L389`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L480`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L535`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L152`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L176`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L195`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L415`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L441`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L467`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L506`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L527`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L636`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L669`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_llm_executor.py`** (43 violations)

- ğŸ”µ **single-responsibility-modules** at `L76`
  - Class 'TestExecuteStep' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L199`
  - Class 'TestToolExecution' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L256`
  - Class 'TestRunUntilComplete' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L26`
  - Forbidden pattern found: '
            assert executor.provider == mock_provider
            assert executor.prompt_builder is not None
            assert executor.action_parser is not None
            assert executor.tool_executors == {}

    def test_custom_components(self):
        """Executor accepts custom components."""
        mock_provider = Mock()
        mock_builder = Mock()
        mock_parser = Mock()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L45`
  - Forbidden pattern found: '
        assert executor.provider == mock_provider
        assert executor.prompt_builder == mock_builder
        assert executor.action_parser == mock_parser
        assert "test" in executor.tool_executors


class TestToolRegistration:
    """Tests for tool registration."""

    def test_register_single_tool(self):
        """Register a single tool."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L60`
  - Forbidden pattern found: '
            assert "my_tool" in executor.tool_executors

    def test_register_multiple_tools(self):
        """Register multiple tools at once."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()
            executor.register_tools({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '
            assert "tool1" in executor.tool_executors
            assert "tool2" in executor.tool_executors


class TestExecuteStep:
    """Tests for single step execution."""

    @pytest.fixture
    def mock_provider(self):
        provider = Mock()
        provider.generate.return_value = """
<thinking>Need to read the file.</thinking>
<action type="tool_call">
<tool name="read_file">
<parameter name="path">/test.py</parameter>
</tool>
</action>
"""
        provider.count_tokens.return_value = 100
        return provider

    @pytest.fixture
    def context(self):
        return ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L110`
  - Forbidden pattern found: '        assert result.success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
        assert result.action is not None
        assert result.action.action_type == ActionType.TOOL_CALL
        assert len(result.action.tool_calls) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert len(tool_called) == 1
        assert tool_called[0][0] == "read_file"
        assert tool_called[0][1] == {"path": "/test.py"}
        assert len(result.tool_results) == 1
        assert result.tool_results[0].success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '
        assert context.iteration == 0
        assert len(context.conversation_history) == 0

        executor.execute_step(context)

        assert context.iteration == 1
        assert context.tokens_used > 0
        # History should have assistant message + tool result
        assert len(context.conversation_history) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L173`
  - Forbidden pattern found: '
        assert result.success is True
        assert len(result.tool_results) == 1
        assert result.tool_results[0].success is False
        assert "Unknown tool" in result.tool_results[0].error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.action.action_type == ActionType.COMPLETE
        assert result.should_continue is False


class TestToolExecution:
    """Tests for tool execution."""

    def test_tool_success(self):
        """Successful tool execution."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
            assert result.success is True
            assert result.output == "done"

    def test_tool_failure(self):
        """Failed tool execution."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
            assert result.success is False
            assert result.error == "failed"

    def test_tool_exception_caught(self):
        """Tool exceptions are caught and converted to failures."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '
            assert result.success is False
            assert "Tool execution error" in result.error
            assert "Something broke" in result.error

    def test_tool_returns_non_result(self):
        """Tool returning non-ToolResult is wrapped."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L251`
  - Forbidden pattern found: '
            assert result.success is True
            assert result.output == "raw output"


class TestRunUntilComplete:
    """Tests for running until completion."""

    def test_runs_until_complete(self):
        """Executor runs until task completion."""
        responses = [
            """<thinking>Step 1</thinking>
<action type="tool_call">
<tool name="test"><parameter name="step">1</parameter></tool>'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '
        assert len(results) == 2
        assert results[-1].action.action_type == ActionType.COMPLETE

    def test_respects_max_iterations(self):
        """Executor stops at max iterations."""
        provider = Mock()
        provider.generate.return_value = """
<thinking>Keep going</thinking>
<action type="tool_call">
<tool name="test"></tool>
</action>
"""
        provider.count_tokens.return_value = 50

        executor = LLMExecutor(provider=provider)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '
        assert len(results) == 3

    def test_stops_on_token_budget(self):
        """Executor stops when token budget exhausted."""
        provider = Mock()
        provider.generate.return_value = """
<thinking>Step</thinking>
<action type="tool_call">
<tool name="test"></tool>
</action>
"""
        provider.count_tokens.return_value = 50000  # Large token usage

        executor = LLMExecutor(provider=provider)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '        assert len(results) <= 3
        assert results[-1].error == "Token budget exhausted" or results[-1].should_continue is False

    def test_calls_on_step_callback(self):
        """Callback is called after each step."""
        provider = Mock()
        provider.generate.return_value = """
<thinking>Done</thinking>
<action type="complete"><summary>Done</summary></action>
"""
        provider.count_tokens.return_value = 50

        executor = LLMExecutor(provider=provider)

        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L368`
  - Forbidden pattern found: '
        assert len(callback_results) == 1


class TestMessagesToPrompt:
    """Tests for message conversion."""

    def test_system_message_format(self):
        """System messages are formatted correctly."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L382`
  - Forbidden pattern found: '
            assert "<system>" in result
            assert "You are helpful." in result
            assert "</system>" in result

    def test_user_message_format(self):
        """User messages are formatted correctly."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L394`
  - Forbidden pattern found: '
            assert "<user>" in result
            assert "Hello" in result

    def test_assistant_message_format(self):
        """Assistant messages are formatted correctly."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = LLMExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L405`
  - Forbidden pattern found: '
            assert "<assistant>" in result
            assert "Hi there" in result


class TestCreateDefaultExecutor:
    """Tests for factory function."""

    def test_creates_executor(self):
        """Factory creates configured executor."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = create_default_executor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L425`
  - Forbidden pattern found: '            assert "my_tool" in executor.tool_executors

    def test_accepts_model(self):
        """Factory accepts model parameter."""
        with patch("agentforge.core.harness.llm_executor.get_provider"):
            executor = create_default_executor(model="claude-opus-4-20250514")
            assert executor.model == "claude-opus-4-20250514"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L79`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L93`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L117`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L172`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L192`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L221`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L250`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L381`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L393`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L404`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_llm_executor_domain.py`** (45 violations)

- ğŸ”µ **single-responsibility-modules** at `L48`
  - Class 'TestToolCall' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L121`
  - Class 'TestAgentAction' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L197`
  - Class 'TestExecutionContext' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L264`
  - Class 'TestStepResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L26`
  - Forbidden pattern found: '        assert ActionType.TOOL_CALL.value == "tool_call"
        assert ActionType.THINK.value == "think"
        assert ActionType.RESPOND.value == "respond"
        assert ActionType.ASK_USER.value == "ask_user"
        assert ActionType.COMPLETE.value == "complete"
        assert ActionType.ESCALATE.value == "escalate"


class TestToolCategory:
    """Tests for ToolCategory enum."""

    def test_categories_exist(self):
        """All expected tool categories should exist."""
        assert ToolCategory.FILE.value == "file"
        assert ToolCategory.SEARCH.value == "search"
        assert ToolCategory.SHELL.value == "shell"
        assert ToolCategory.TEST.value == "test"
        assert ToolCategory.GIT.value == "git"
        assert ToolCategory.ANALYSIS.value == "analysis"
        assert ToolCategory.MEMORY.value == "memory"


class TestToolCall:
    """Tests for ToolCall dataclass."""

    def test_create_basic(self):
        """Create basic tool call."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '        assert tool.name == "read_file"
        assert tool.parameters == {"path": "/test.py"}

    def test_category_inference_file(self):
        """File tools should infer FILE category."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L60`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.FILE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.FILE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.FILE

    def test_category_inference_search(self):
        """Search tools should infer SEARCH category."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.SEARCH
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.SEARCH

    def test_category_inference_shell(self):
        """Shell tools should infer SHELL category."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.SHELL

    def test_category_inference_test(self):
        """Test tools should infer TEST category."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.TEST
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.TEST

    def test_category_inference_git(self):
        """Git tools should infer GIT category."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.GIT

    def test_explicit_category_overrides(self):
        """Explicit category should override inference."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '        assert tool.category == ToolCategory.ANALYSIS


class TestToolResult:
    """Tests for ToolResult dataclass."""

    def test_success_result(self):
        """Create successful result."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '        assert result.success is True
        assert result.tool_name == "read_file"
        assert result.output == "file content"
        assert result.error is None
        assert result.duration_seconds == 0.5

    def test_failure_result(self):
        """Create failed result."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '        assert result.success is False
        assert result.tool_name == "write_file"
        assert result.output is None
        assert result.error == "Permission denied"


class TestAgentAction:
    """Tests for AgentAction dataclass."""

    def test_tool_action(self):
        """Create tool call action."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.TOOL_CALL
        assert len(action.tool_calls) == 1
        assert action.reasoning == "Reading file first"

    def test_think_action(self):
        """Create thinking action."""
        action = AgentAction.think_action("Need to analyze the codebase")

        assert action.action_type == ActionType.THINK
        assert action.reasoning == "Need to analyze the codebase"

    def test_respond_action(self):
        """Create response action."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.RESPOND
        assert action.response == "Here's my answer"
        assert action.reasoning == "Thinking through"

    def test_complete_action(self):
        """Create completion action."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '
        assert action.action_type == ActionType.COMPLETE
        assert action.response == "Task done"
        assert action.reasoning == "All tests pass"

    def test_escalate_action(self):
        """Create escalation action."""
        action = AgentAction.escalate_action("Need human guidance")

        assert action.action_type == ActionType.ESCALATE
        assert action.reasoning == "Need human guidance"


class TestConversationMessage:
    """Tests for ConversationMessage dataclass."""

    def test_user_message(self):
        """Create user message."""
        msg = ConversationMessage.user_message("Hello")
        assert msg.role == "user"
        assert msg.content == "Hello"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert msg.role == "assistant"
        assert msg.content == "Searching..."
        assert msg.tool_calls == tools

    def test_tool_result_message(self):
        """Create tool result message."""
        results = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert msg.role == "tool_result"
        assert "[read_file]: Success" in msg.content
        assert "[write_file]: Error" in msg.content
        assert msg.tool_results == results


class TestExecutionContext:
    """Tests for ExecutionContext dataclass."""

    def test_create_context(self):
        """Create execution context."""
        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '
        assert context.session_id == "sess-001"
        assert context.task_description == "Fix the bug"
        assert context.iteration == 0
        assert context.tokens_used == 0
        assert context.token_budget == 100000

    def test_tokens_remaining(self):
        """Calculate remaining tokens."""
        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L225`
  - Forbidden pattern found: '        assert context.tokens_remaining == 75000

    def test_recent_messages(self):
        """Get recent messages (last 10)."""
        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '        assert len(recent) == 10
        assert recent[0].content == "Message 5"  # First of last 10
        assert recent[-1].content == "Message 14"  # Last

    def test_add_messages(self):
        """Add different message types."""
        context = ExecutionContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L257`
  - Forbidden pattern found: '
        assert len(context.conversation_history) == 3
        assert context.conversation_history[0].role == "user"
        assert context.conversation_history[1].role == "assistant"
        assert context.conversation_history[2].role == "tool_result"


class TestStepResult:
    """Tests for StepResult dataclass."""

    def test_success_step_with_tool_call(self):
        """Successful step with tool call continues."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L271`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.should_continue is True  # Tool calls continue

    def test_success_step_with_complete(self):
        """Successful step with complete action stops."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.should_continue is False  # Complete stops

    def test_success_step_with_escalate(self):
        """Escalation stops execution."""
        action = AgentAction.escalate_action("Help needed")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.should_continue is False

    def test_failure_step(self):
        """Failed step stops execution."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L294`
  - Forbidden pattern found: '
        assert result.success is False
        assert result.error == "Something broke"
        assert result.should_continue is False


class TestTokenUsage:
    """Tests for TokenUsage dataclass."""

    def test_total_tokens(self):
        """Calculate total tokens."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '        assert usage.total_tokens == 1500


class TestExceptions:
    """Tests for custom exceptions."""

    def test_llm_executor_error(self):
        """Base error with details."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L315`
  - Forbidden pattern found: '        assert str(error) == "Test error"
        assert error.details == {"key": "value"}

    def test_action_parse_error(self):
        """Parse error with raw response."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert "Invalid XML" in str(error)
        assert error.raw_response == "<bad>xml"

    def test_tool_execution_error(self):
        """Tool error with details."""
        original = ValueError("Bad value")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L328`
  - Forbidden pattern found: '        assert error.tool_name == "read_file"
        assert error.original_error == original
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L114`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L270`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L278`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L286`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L293`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_memory_domain.py`** (41 violations)

- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'TestMemoryTier' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'TestMemoryEntryCreate' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L88`
  - Class 'TestMemoryEntryIsExpired' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L133`
  - Class 'TestMemoryEntryToDict' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L189`
  - Class 'TestMemoryEntryFromDict' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '        assert MemoryTier.SESSION is not None

    def test_memory_tier_has_task_value(self):
        """Test that MemoryTier enum has TASK value."""
        assert MemoryTier.TASK is not None

    def test_memory_tier_has_project_value(self):
        """Test that MemoryTier enum has PROJECT value."""
        assert MemoryTier.PROJECT is not None

    def test_memory_tier_has_organization_value(self):
        """Test that MemoryTier enum has ORGANIZATION value."""
        assert MemoryTier.ORGANIZATION is not None

    def test_memory_tier_values_are_distinct(self):
        """Test that all MemoryTier values are distinct."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '        assert len(set(values)) == 4


class TestMemoryEntryCreate:
    """Test cases for MemoryEntry.create factory method."""

    def test_create_with_minimal_parameters_returns_entry(self):
        """Test that create method returns MemoryEntry with minimal parameters."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L50`
  - Forbidden pattern found: '
        assert entry is not None
        assert entry.key == "test_key"
        assert entry.value == "test_value"

    def test_create_with_ttl_sets_expiration(self):
        """Test that create method sets expiration when TTL provided."""
        ttl_seconds = 3600'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '
        assert entry.ttl == ttl_seconds
        assert entry.expires_at is not None

    def test_create_with_metadata_stores_metadata(self):
        """Test that create method stores provided metadata."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert entry.metadata == metadata

    def test_create_sets_timestamp(self):
        """Test that create method sets creation timestamp."""
        with patch('agentforge.core.harness.memory_domain.datetime') as mock_datetime:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
            assert entry.created_at == mock_now

    def test_create_without_ttl_has_no_expiration(self):
        """Test that create method without TTL has no expiration."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert entry.ttl is None
        assert entry.expires_at is None


class TestMemoryEntryIsExpired:
    """Test cases for MemoryEntry.is_expired method."""

    def test_is_expired_with_no_ttl_returns_false(self):
        """Test that is_expired returns False when entry has no TTL."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '
        assert entry.is_expired() is False

    def test_is_expired_with_future_expiration_returns_false(self):
        """Test that is_expired returns False when expiration is in future."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert entry.is_expired() is False

    def test_is_expired_with_past_expiration_returns_true(self):
        """Test that is_expired returns True when expiration is in past."""
        with patch('agentforge.core.harness.memory_domain.datetime') as mock_datetime:
            # Create entry in the past'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '
            assert entry.is_expired() is True

    def test_is_expired_at_exact_expiration_returns_true(self):
        """Test that is_expired returns True at exact expiration time."""
        with patch('agentforge.core.harness.memory_domain.datetime') as mock_datetime:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
            assert entry.is_expired() is True


class TestMemoryEntryToDict:
    """Test cases for MemoryEntry.to_dict method."""

    def test_to_dict_returns_dictionary(self):
        """Test that to_dict returns a dictionary representation."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '
        assert result["key"] == "test_key"
        assert result["value"] == "test_value"

    def test_to_dict_includes_timestamp(self):
        """Test that to_dict includes creation timestamp."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L158`
  - Forbidden pattern found: '
        assert "created_at" in result
        assert result["created_at"] == entry.created_at

    def test_to_dict_includes_ttl_when_present(self):
        """Test that to_dict includes TTL when present."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '
        assert result["ttl"] == 3600

    def test_to_dict_includes_metadata_when_present(self):
        """Test that to_dict includes metadata when present."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert result["metadata"] == metadata

    def test_to_dict_excludes_none_values(self):
        """Test that to_dict excludes None values."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L184`
  - Forbidden pattern found: '
        assert "ttl" not in result or result["ttl"] is not None
        assert "metadata" not in result or result["metadata"] is not None


class TestMemoryEntryFromDict:
    """Test cases for MemoryEntry.from_dict method."""

    def test_from_dict_creates_entry_from_minimal_dict(self):
        """Test that from_dict creates MemoryEntry from minimal dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '
        assert entry.key == "test_key"
        assert entry.value == "test_value"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '
        assert entry.ttl == 3600
        assert entry.expires_at is not None

    def test_from_dict_creates_entry_with_metadata(self):
        """Test that from_dict creates MemoryEntry with metadata."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert entry.metadata == metadata

    def test_from_dict_handles_missing_optional_fields(self):
        """Test that from_dict handles missing optional fields gracefully."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '
        assert entry.ttl is None
        assert entry.metadata is None
        assert entry.expires_at is None

    def test_from_dict_roundtrip_preserves_data(self):
        """Test that from_dict and to_dict roundtrip preserves data."""
        original_entry = MemoryEntry.create('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
        assert restored_entry.key == original_entry.key
        assert restored_entry.value == original_entry.value
        assert restored_entry.ttl == original_entry.ttl
        assert restored_entry.metadata == original_entry.metadata
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L140`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L148`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L175`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L183`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L194`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L208`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L223`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L257`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_memory_manager.py`** (21 violations)

- ğŸ”µ **single-responsibility-modules** at `L48`
  - Class 'TestMemoryManagerGet' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '
        assert manager.store == mock_store
        assert manager.session_id is None
        assert manager.task_id is None

    def test_init_with_session_context_sets_session_id(self):
        """Test that manager can be initialized with session context."""
        mock_store = Mock(spec=MemoryStore)
        session_id = "test-session-123"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '
        assert manager.store == mock_store
        assert manager.session_id == session_id
        assert manager.task_id is None


class TestMemoryManagerGet:
    """Test MemoryManager.get method."""

    def test_get_from_specific_tier_returns_value(self):
        """Test getting value from a specific tier returns the value."""
        mock_store = Mock(spec=MemoryStore)
        mock_entry = Mock(spec=MemoryEntry)
        mock_entry.value = "test_value"
        mock_entry.is_expired.return_value = False
        mock_store.get.return_value = mock_entry

        manager = MemoryManager(mock_store)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '
        assert result == "test_value"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
        assert result == "fallback_value"
        assert mock_store.get.call_count == 2'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '
        assert result is None

    def test_get_nonexistent_key_returns_none(self):
        """Test that getting a nonexistent key returns None."""
        mock_store = Mock(spec=MemoryStore)
        mock_store.get.return_value = None

        manager = MemoryManager(mock_store)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert result is None


class TestMemoryManagerSet:
    """Test MemoryManager.set method."""

    @patch('agentforge.core.harness.memory_manager.MemoryEntry')'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert len(results) == 2
        assert any(r["key"] == "session_key1" for r in results)
        assert any(r["key"] == "task_key1" for r in results)

    def test_search_with_tier_filter_searches_specific_tier(self):
        """Test that search can be limited to specific tiers."""
        mock_store = Mock(spec=MemoryStore)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L253`
  - Forbidden pattern found: '        assert len(results) == 2

    def test_search_excludes_expired_entries(self):
        """Test that search excludes expired entries."""
        mock_store = Mock(spec=MemoryStore)
        mock_store.list_keys.return_value = ["key1"]

        expired_entry = Mock(spec=MemoryEntry)
        expired_entry.is_expired.return_value = True
        mock_store.get.return_value = expired_entry

        manager = MemoryManager(mock_store)
        results = manager.search("keyword")

        assert len(results) == 0


class TestMemoryManagerGetContext:
    """Test MemoryManager.get_context method."""

    def test_get_context_assembles_from_all_tiers(self):
        """Test that get_context assembles relevant memories from all tiers."""
        mock_store = Mock(spec=MemoryStore)

        # Mock entries from different tiers
        entries = []'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L291`
  - Forbidden pattern found: '
        assert "content from tier 0" in context
        assert "content from tier 1" in context
        assert "content from tier 2" in context

    def test_get_context_respects_token_limit(self):
        """Test that get_context respects the token limit."""
        mock_store = Mock(spec=MemoryStore)

        # Create a large entry that would exceed token limit
        large_entry = Mock(spec=MemoryEntry)
        large_entry.value = "x" * 1000  # Large content
        large_entry.timestamp = datetime.now()
        large_entry.is_expired.return_value = False

        mock_store.list_keys.return_value = ["key1"]
        mock_store.get.return_value = large_entry

        manager = MemoryManager(mock_store)
        context = manager.get_context(max_tokens=100)

        # Context should be truncated or limited
        assert len(context) <= 500  # Rough token-to-char conversion

    def test_get_context_prioritizes_recent_entries(self):
        """Test that get_context prioritizes more recent entries."""
        mock_store = Mock(spec=MemoryStore)

        # Create entries with different timestamps
        old_entry = Mock(spec=MemoryEntry)
        old_entry.value = "old content"
        old_entry.timestamp = datetime.now() - timedelta(hours=1)
        old_entry.is_expired.return_value = False

        recent_entry = Mock(spec=MemoryEntry)
        recent_entry.value = "recent content"
        recent_entry.timestamp = datetime.now()
        recent_entry.is_expired.return_value = False

        # Only one tier has keys'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '        assert "recent content" in context


class TestMemoryManagerLinkSession:
    """Test MemoryManager.link_session method."""

    def test_link_session_sets_session_id(self):
        """Test that link_session sets the session ID for tier 1 operations."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        session_id = "test-session-456"
        manager.link_session(session_id)

        assert manager.session_id == session_id

    def test_link_session_enables_session_tier_operations(self):
        """Test that linking session enables session tier operations."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        # Initially no session linked
        assert manager.session_id is None

        # Link session
        session_id = "test-session-789"
        manager.link_session(session_id)

        # Now session operations should work
        assert manager.session_id == session_id


class TestMemoryManagerLinkTask:
    """Test MemoryManager.link_task method."""

    def test_link_task_sets_task_id(self):
        """Test that link_task sets the task ID for tier 2 operations."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        task_id = "test-task-123"
        manager.link_task(task_id)

        assert manager.task_id == task_id

    def test_link_task_enables_task_tier_operations(self):
        """Test that linking task enables task tier operations."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        # Initially no task linked
        assert manager.task_id is None

        # Link task
        task_id = "test-task-456"
        manager.link_task(task_id)

        # Now task operations should work
        assert manager.task_id == task_id

    def test_link_task_can_change_existing_task(self):
        """Test that link_task can change an existing task association."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        # Link first task
        first_task = "task-1"
        manager.link_task(first_task)
        assert manager.task_id == first_task

        # Link different task
        second_task = "task-2"
        manager.link_task(second_task)
        assert manager.task_id == second_task


class TestMemoryManagerIntegration:
    """Integration tests for MemoryManager with multiple operations."""

    def test_full_workflow_with_session_and_task_linking(self):
        """Test a complete workflow with session and task linking."""
        mock_store = Mock(spec=MemoryStore)
        manager = MemoryManager(mock_store)

        # Link session and task
        manager.link_session("session-123")
        manager.link_task("task-456")

        # Set values in different tiers'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L431`
  - Forbidden pattern found: '        assert mock_store.set.call_count == 2

        # Verify session and task are linked
        assert manager.session_id == "session-123"
        assert manager.task_id == "task-456"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L196`
  - Function 'test_search_finds_matching_entries_across_tiers' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L60`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L76`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L101`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_memory_store.py`** (34 violations)

- ğŸ”µ **single-responsibility-modules** at `L52`
  - Class 'TestMemoryStoreGet' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L99`
  - Class 'TestMemoryStoreSet' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L144`
  - Class 'TestMemoryStoreDelete' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L183`
  - Class 'TestMemoryStoreListKeys' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L267`
  - Class 'TestMemoryStoreLoadTier' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L333`
  - Class 'TestMemoryStoreSaveTier' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L32`
  - Forbidden pattern found: '        assert len(store._tier_paths) == 4
        assert MemoryTier.SESSION in store._tier_paths
        assert MemoryTier.TASK in store._tier_paths
        assert MemoryTier.PROJECT in store._tier_paths
        assert MemoryTier.ORGANIZATION in store._tier_paths

    def test_init_with_custom_paths(self):
        """Test initialization with custom tier paths."""
        custom_paths = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert store._tier_paths == custom_paths


class TestMemoryStoreGet:
    """Test MemoryStore.get method."""

    def test_get_existing_key_from_memory_tier(self):
        """Test retrieving existing key from in-memory tier."""
        store = MemoryStore()

        # Setup: Add entry to session tier'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '
        assert result == entry

    def test_get_existing_key_from_persistent_tier(self):
        """Test retrieving existing key from persistent tier."""
        store = MemoryStore()

        # Mock file loading'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
            assert result == entry
            mock_load.assert_called_once_with(MemoryTier.PROJECT)

    def test_get_nonexistent_key_returns_none(self):
        """Test retrieving non-existent key returns None."""
        store = MemoryStore()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert result is None

    def test_get_from_corrupted_tier_returns_none(self):
        """Test retrieving from corrupted tier returns None gracefully."""
        store = MemoryStore()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L95`
  - Forbidden pattern found: '
            assert result is None


class TestMemoryStoreSet:
    """Test MemoryStore.set method."""

    def test_set_in_memory_tier(self):
        """Test storing value in memory tier."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L110`
  - Forbidden pattern found: '        assert MemoryTier.SESSION in store._data
        assert store._data[MemoryTier.SESSION]["test_key"] == entry

    def test_set_in_persistent_tier_auto_saves(self):
        """Test storing value in persistent tier triggers auto-save."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L140`
  - Forbidden pattern found: '
        assert store._data[MemoryTier.SESSION]["test_key"] == new_entry


class TestMemoryStoreDelete:
    """Test MemoryStore.delete method."""

    def test_delete_existing_key_from_memory_tier(self):
        """Test deleting existing key from memory tier."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '
        assert "test_key" not in store._data[MemoryTier.SESSION]

    def test_delete_existing_key_from_persistent_tier(self):
        """Test deleting existing key from persistent tier triggers save."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert keys == []


class TestMemoryStoreClearTier:
    """Test MemoryStore.clear_tier method."""

    def test_clear_memory_tier(self):
        """Test clearing memory tier removes all entries."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L246`
  - Forbidden pattern found: '
        assert store._data[MemoryTier.SESSION] == {}

    def test_clear_persistent_tier_triggers_save(self):
        """Test clearing persistent tier triggers save."""
        store = MemoryStore()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
            assert "key1" in data

    def test_load_tier_missing_file_returns_empty(self):
        """Test loading missing file returns empty dict gracefully."""
        store = MemoryStore()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '
            assert data == {}

    def test_load_tier_corrupted_file_returns_empty(self):
        """Test loading corrupted file returns empty dict gracefully."""
        store = MemoryStore()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L319`
  - Forbidden pattern found: '
                assert data == {}

    def test_load_tier_session_tier_returns_memory_data(self):
        """Test loading session tier returns in-memory data."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L329`
  - Forbidden pattern found: '
        assert data == {"key1": entry}


class TestMemoryStoreSaveTier:
    """Test MemoryStore._save_tier method."""

    def test_save_tier_creates_directory(self):
        """Test saving tier creates parent directories."""
        store = MemoryStore()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L423`
  - Forbidden pattern found: '            assert retrieved.value == "test_value"

            # Verify it's in key list
            keys = store.list_keys(MemoryTier.PROJECT)
            assert "test_key" in keys

            # Delete and verify removal'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L63`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L328`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L76`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L94`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L299`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L308`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L318`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_minimal_context.py`** (11 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '        assert MinimalContextExecutor is not None


class TestTaskStateStore:
    """Tests for TaskStateStore."""

    def test_state_store_import(self):
        """Verify TaskStateStore can be imported."""
        from agentforge.core.harness.minimal_context.state_store import TaskStateStore
        assert TaskStateStore is not None


class TestWorkingMemoryManager:
    """Tests for WorkingMemoryManager."""

    def test_working_memory_import(self):
        """Verify WorkingMemoryManager can be imported."""
        from agentforge.core.harness.minimal_context.working_memory import WorkingMemoryManager
        assert WorkingMemoryManager is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L13`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/harness/test_monitor_domain.py`** (16 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '        assert ObservationType.ACTION
        assert ObservationType.OUTPUT
        assert ObservationType.VERIFICATION
        assert ObservationType.STATE_CHANGE
        assert ObservationType.ERROR


class TestObservation:
    """Test Observation entity."""

    def test_observation_creation_with_required_fields(self):
        """Test creating observation with required fields."""
        timestamp = datetime.now()
        data = {"action": "test_action"}

        obs = Observation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
        assert obs.type == ObservationType.ACTION
        assert obs.timestamp == timestamp
        assert obs.data == data
        assert obs.context is None

    def test_observation_creation_with_context(self):
        """Test creating observation with optional context."""
        obs = Observation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert obs.context == "During file processing"


class TestHealthStatus:
    """Test HealthStatus enum."""

    def test_health_status_has_all_required_values(self):
        """Test that HealthStatus enum has all required values."""
        assert HealthStatus.HEALTHY
        assert HealthStatus.DEGRADED
        assert HealthStatus.CRITICAL


class TestRecommendation:
    """Test Recommendation enum."""

    def test_recommendation_has_all_required_values(self):
        """Test that Recommendation enum has all required values."""
        assert Recommendation.CONTINUE
        assert Recommendation.CHECKPOINT
        assert Recommendation.ESCALATE
        assert Recommendation.ABORT


class TestLoopDetection:
    """Test LoopDetection entity."""

    def test_loop_detection_creation_not_detected(self):
        """Test creating LoopDetection when no loop detected."""
        detection = LoopDetection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L101`
  - Forbidden pattern found: '
        assert detection.detected is False
        assert detection.pattern is None
        assert detection.count == 0
        assert detection.observations == []

    def test_loop_detection_creation_detected(self):
        """Test creating LoopDetection when loop detected."""
        obs = Observation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '
        assert detection.detected is True
        assert detection.pattern == "Repeated action: repeat"
        assert detection.count == 3
        assert len(detection.observations) == 3


class TestThrashingDetection:
    """Test ThrashingDetection entity."""

    def test_thrashing_detection_creation_not_detected(self):
        """Test creating ThrashingDetection when no thrashing detected."""
        detection = ThrashingDetection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert detection.detected is False
        assert detection.pattern is None
        assert detection.affected_files == []
        assert detection.alternation_count == 0

    def test_thrashing_detection_creation_detected(self):
        """Test creating ThrashingDetection when thrashing detected."""
        detection = ThrashingDetection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L153`
  - Forbidden pattern found: '
        assert detection.detected is True
        assert detection.pattern == "File modification thrashing"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '        assert detection.alternation_count == 4


class TestAgentHealth:
    """Test AgentHealth entity."""

    def test_agent_health_creation_healthy(self):
        """Test creating AgentHealth for healthy agent."""
        health = AgentHealth('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
        assert health.status == HealthStatus.HEALTHY
        assert health.issues == []
        assert health.recommendation == Recommendation.CONTINUE
        assert health.loop_detection is None
        assert health.thrashing_detection is None
        assert health.drift_score == 0.1
        assert health.context_pressure == 0.3
        assert health.progress_score == 0.8

    def test_agent_health_creation_critical_with_detections(self):
        """Test creating AgentHealth for critical agent with detections."""
        loop_detection = LoopDetection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L211`
  - Forbidden pattern found: '
        assert health.status == HealthStatus.CRITICAL
        assert len(health.issues) == 3
        assert health.recommendation == Recommendation.ABORT
        assert health.loop_detection.detected is True
        assert health.thrashing_detection.detected is True
        assert health.drift_score == 0.8
        assert health.context_pressure == 0.95
        assert health.progress_score == 0.05
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L185`
  - Function 'test_agent_health_creation_critical_with_detections' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L44`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_native_tool_executor.py`** (31 violations)

- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'TestNativeToolExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L140`
  - Class 'TestExecutionLogging' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '
        assert result.tool_use_id == "tc_1"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '        assert not result.is_error

    def test_execute_unknown_action_returns_error(self):
        """Unknown action returns error result."""
        executor = NativeToolExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert result.tool_use_id == "tc_1"
        assert result.is_error
        assert "Unknown tool: unknown" in result.content

    def test_handler_exception_returns_error(self):
        """Handler exception is caught and returned as error."""
        def failing_handler(params):
            raise ValueError("Something went wrong")

        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '
        assert result.is_error
        assert "Tool execution failed" in result.content
        assert "Something went wrong" in result.content

    def test_none_result_returns_success(self):
        """Handler returning None results in 'Success' message."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '
        assert not result.is_error
        assert result.content == "Success"

    def test_dict_result_returns_json(self):
        """Handler returning dict is serialized to JSON."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '
        assert not result.is_error
        assert '"key": "value"' in result.content
        assert '"count": 42' in result.content

    def test_register_actions_bulk(self):
        """Register multiple actions at once."""
        executor = NativeToolExecutor()
        executor.register_actions({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
        assert executor.has_action("action1")
        assert executor.has_action("action2")

    def test_list_actions(self):
        """List registered actions."""
        executor = NativeToolExecutor()
        executor.register_actions({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert executor.has_action("exists")
        assert not executor.has_action("not_exists")

    def test_context_passed_to_handler(self):
        """Shared context is passed to handler."""
        context = {"project_path": "/test/path"}
        executor = NativeToolExecutor(context=context)

        received_context = {}

        def handler(params):
            nonlocal received_context'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert received_context == context


class TestExecutionLogging:
    """Tests for execution logging."""

    def test_successful_execution_logged(self):
        """Successful execution is logged."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert len(log) == 1
        assert log[0]["tool_id"] == "tc_1"
        assert log[0]["tool_name"] == "test"
        assert log[0]["input"] == {"param": "value"}
        assert log[0]["result"] == "result"
        assert log[0]["success"] is True
        assert log[0]["error"] is None

    def test_failed_execution_logged(self):
        """Failed execution is logged with error."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert len(log) == 1
        assert log[0]["success"] is False
        assert log[0]["error"] is not None
        assert "division by zero" in log[0]["error"]

    def test_unknown_action_logged(self):
        """Unknown action attempt is logged."""
        executor = NativeToolExecutor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '        assert len(log) == 1
        assert log[0]["success"] is False
        assert "Unknown tool" in log[0]["error"]

    def test_clear_execution_log(self):
        """Execution log can be cleared."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '
        assert len(executor.get_execution_log()) == 1

        executor.clear_execution_log()
        assert len(executor.get_execution_log()) == 0

    def test_multiple_executions_logged(self):
        """Multiple executions are logged in order."""
        executor = NativeToolExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '        assert len(log) == 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "SUCCESS" in result.content
        assert "Source content" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L257`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "COMPLETE" in result.content
        assert "Task finished successfully" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '
        assert not result.is_error
        assert "ESCALATE" in result.content
        assert "Need human review" in result.content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L34`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L45`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L60`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L72`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L83`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L256`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L276`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_orchestrator_domain.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L62`
  - Class 'TestAgentTask' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L131`
  - Class 'TestExecutionResult' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L199`
  - Class 'TestOrchestratorConfig' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L33`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_orchestrator_state_values_are_accessible(self):
        """Test that individual OrchestratorState values can be accessed."""
        assert OrchestratorState.IDLE
        assert OrchestratorState.RUNNING
        assert OrchestratorState.PAUSED
        assert OrchestratorState.RECOVERING
        assert OrchestratorState.WAITING_FOR_HUMAN
        assert OrchestratorState.COMPLETED
        assert OrchestratorState.FAILED


class TestExecutionMode:
    """Test ExecutionMode enum values and behavior."""

    def test_execution_mode_has_all_required_values(self):
        """Test that ExecutionMode enum contains all specified values."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L53`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_execution_mode_values_are_accessible(self):
        """Test that individual ExecutionMode values can be accessed."""
        assert ExecutionMode.AUTONOMOUS
        assert ExecutionMode.SUPERVISED
        assert ExecutionMode.INTERACTIVE


class TestAgentTask:
    """Test AgentTask entity structure and behavior."""

    def test_agent_task_creation_with_required_fields(self):
        """Test creating an AgentTask with required fields."""
        created_at = datetime.now()
        task = AgentTask('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert task.id == "task-001"
        assert task.description == "Implement feature X"
        assert task.context == {"file": "main.py"}
        assert task.created_at == created_at
        assert task.priority == 0  # default
        assert task.status == "pending"  # default
        assert task.started_at is None
        assert task.completed_at is None

    def test_agent_task_creation_with_all_fields(self):
        """Test creating an AgentTask with all fields."""
        created_at = datetime.now()
        started_at = datetime.now()
        completed_at = datetime.now()

        task = AgentTask('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert task.priority == 5
        assert task.started_at == started_at
        assert task.completed_at == completed_at
        assert task.status == "completed"

    def test_agent_task_context_can_be_complex(self):
        """Test that AgentTask context can hold complex data."""
        complex_context = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert task.context == complex_context

    def test_agent_task_priority_ordering(self):
        """Test that tasks can be ordered by priority."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert task1.priority < task2.priority


class TestExecutionResult:
    """Test ExecutionResult entity structure and behavior."""

    def test_execution_result_creation_success(self):
        """Test creating a successful ExecutionResult."""
        result = ExecutionResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert result.task_id == "task-001"
        assert result.success is True
        assert result.output == "Task completed successfully"
        assert result.error is None
        assert result.duration_seconds == 5.5'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '        assert result.tokens_consumed == 0  # default

    def test_execution_result_creation_failure(self):
        """Test creating a failed ExecutionResult."""
        result = ExecutionResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '
        assert result.success is False
        assert result.error == "Connection timeout"
        assert result.tokens_consumed == 150

    def test_execution_result_empty_tools_list(self):
        """Test ExecutionResult with no tools used."""
        result = ExecutionResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L179`
  - Forbidden pattern found: '
        assert result.tools_used == []

    def test_execution_result_multiple_tools(self):
        """Test ExecutionResult tracking multiple tools."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '
        assert len(result.tools_used) == 5
        assert result.tools_used == tools


class TestOrchestratorConfig:
    """Test OrchestratorConfig entity structure and behavior."""

    def test_orchestrator_config_default_values(self):
        """Test OrchestratorConfig with default values."""
        config = OrchestratorConfig()

        assert config.execution_mode == ExecutionMode.AUTONOMOUS
        assert config.max_iterations == 100
        assert config.health_check_interval == 10
        assert config.auto_checkpoint is True
        assert config.checkpoint_interval == 20
        assert config.recovery_enabled is True
        assert config.escalation_enabled is True

    def test_orchestrator_config_custom_values(self):
        """Test OrchestratorConfig with custom values."""
        config = OrchestratorConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L225`
  - Forbidden pattern found: '
        assert config.execution_mode == ExecutionMode.SUPERVISED
        assert config.max_iterations == 50
        assert config.health_check_interval == 5
        assert config.auto_checkpoint is False
        assert config.checkpoint_interval == 10
        assert config.recovery_enabled is False
        assert config.escalation_enabled is False

    def test_orchestrator_config_interactive_mode(self):
        """Test OrchestratorConfig with interactive mode."""
        config = OrchestratorConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
        assert config.execution_mode == ExecutionMode.INTERACTIVE

    def test_orchestrator_config_all_modes_supported(self):
        """Test that all execution modes are supported in config."""
        for mode in ExecutionMode:
            config = OrchestratorConfig(execution_mode=mode)
            assert config.execution_mode == mode
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L155`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_recovery_domain.py`** (29 violations)

- ğŸ”µ **single-responsibility-modules** at `L73`
  - Class 'TestCheckpoint' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L143`
  - Class 'TestRecoveryAttempt' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L200`
  - Class 'TestRecoveryPolicy' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_recovery_action_values_are_accessible(self):
        """Test that individual RecoveryAction values can be accessed."""
        assert RecoveryAction.CHECKPOINT
        assert RecoveryAction.ROLLBACK
        assert RecoveryAction.SUMMARIZE
        assert RecoveryAction.RESET
        assert RecoveryAction.ESCALATE
        assert RecoveryAction.RETRY
        assert RecoveryAction.SKIP


class TestRecoveryResult:
    """Test RecoveryResult enum values and behavior."""

    def test_recovery_result_has_all_required_values(self):
        """Test that RecoveryResult enum contains all specified values."""
        expected_values = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert actual_values == expected_values

    def test_recovery_result_values_are_accessible(self):
        """Test that individual RecoveryResult values can be accessed."""
        assert RecoveryResult.SUCCESS
        assert RecoveryResult.PARTIAL
        assert RecoveryResult.FAILED
        assert RecoveryResult.SKIPPED


class TestCheckpoint:
    """Test Checkpoint entity structure and behavior."""

    def test_checkpoint_creation_with_required_fields(self):
        """Test creating a Checkpoint with all required fields."""
        timestamp = datetime.now()
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '
        assert checkpoint.id == "test-checkpoint-1"
        assert checkpoint.timestamp == timestamp
        assert checkpoint.session_id == "session-123"
        assert checkpoint.phase == "planning"
        assert checkpoint.state == {"key": "value"}'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '        assert checkpoint.description is None

    def test_checkpoint_creation_with_optional_description(self):
        """Test creating a Checkpoint with optional description field."""
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert checkpoint.description == "Before risky operation"

    def test_checkpoint_state_can_be_complex_dict(self):
        """Test that Checkpoint state field can hold complex nested data."""
        complex_state = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '
        assert checkpoint.state == complex_state

    def test_checkpoint_file_backups_can_be_empty_list(self):
        """Test that Checkpoint can have empty file_backups list."""
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert checkpoint.file_backups == []


class TestRecoveryAttempt:
    """Test RecoveryAttempt entity structure and behavior."""

    def test_recovery_attempt_creation_with_required_fields(self):
        """Test creating a RecoveryAttempt with required fields."""
        timestamp = datetime.now()
        attempt = RecoveryAttempt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '
        assert attempt.action == RecoveryAction.CHECKPOINT
        assert attempt.timestamp == timestamp
        assert attempt.trigger == "loop detected"
        assert attempt.result == RecoveryResult.SUCCESS
        assert attempt.details is None
        assert attempt.error is None

    def test_recovery_attempt_creation_with_optional_fields(self):
        """Test creating a RecoveryAttempt with optional details and error."""
        attempt = RecoveryAttempt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '        assert attempt.error == "Failed to restore file: permission denied"

    def test_recovery_attempt_supports_all_action_types(self):
        """Test that RecoveryAttempt can be created with all RecoveryAction types."""
        for action in RecoveryAction:
            attempt = RecoveryAttempt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '            assert attempt.action == action

    def test_recovery_attempt_supports_all_result_types(self):
        """Test that RecoveryAttempt can be created with all RecoveryResult types."""
        for result in RecoveryResult:
            attempt = RecoveryAttempt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '            assert attempt.result == result


class TestRecoveryPolicy:
    """Test RecoveryPolicy entity structure and behavior."""

    def test_recovery_policy_creation_with_required_fields(self):
        """Test creating a RecoveryPolicy with required fields."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert policy.name == "test_policy"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L214`
  - Forbidden pattern found: '        assert policy.max_attempts == 3  # default value
        assert policy.cooldown_seconds == 60  # default value

    def test_recovery_policy_creation_with_custom_defaults(self):
        """Test creating a RecoveryPolicy with custom max_attempts and cooldown."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert policy.max_attempts == 5
        assert policy.cooldown_seconds == 120

    def test_recovery_policy_supports_multiple_triggers(self):
        """Test that RecoveryPolicy can handle multiple trigger conditions."""
        triggers = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '
        assert policy.triggers == triggers

    def test_recovery_policy_supports_multiple_actions(self):
        """Test that RecoveryPolicy can handle multiple recovery actions."""
        actions = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '
        assert policy.actions == actions

    def test_recovery_policy_empty_triggers_list(self):
        """Test that RecoveryPolicy can be created with empty triggers list."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L271`
  - Forbidden pattern found: '
        assert policy.triggers == []

    def test_recovery_policy_single_action(self):
        """Test that RecoveryPolicy can be created with single action."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '
        assert len(policy.actions) == 1
        assert policy.actions[0] == RecoveryAction.ESCALATE

    def test_recovery_policy_max_attempts_custom_value(self):
        """Test that RecoveryPolicy accepts custom max_attempts value."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '        assert policy.max_attempts == 1

        # Zero attempts is technically allowed (caller's responsibility)
        policy_zero = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '        assert policy_zero.max_attempts == 0

    def test_recovery_policy_cooldown_custom_value(self):
        """Test that RecoveryPolicy accepts custom cooldown_seconds value."""
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert policy.cooldown_seconds == 0

        # Large cooldown
        policy_large = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert policy_large.cooldown_seconds == 3600
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/harness/test_recovery_executor.py`** (57 violations)

- ğŸ”µ **single-responsibility-modules** at `L68`
  - Class 'TestExecuteRecovery' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L516`
  - Class 'TestPolicyManagement' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '
        assert executor.checkpoint_manager == checkpoint_manager
        assert len(executor.policies) == 1
        assert executor.policies[0].name == "test_policy"

    def test_init_with_default_policies_when_none_provided(self):
        """Test initialization loads default policies when none provided."""
        checkpoint_manager = Mock(spec=CheckpointManager)

        executor = RecoveryExecutor(checkpoint_manager)

        # Should have default policies loaded
        assert len(executor.policies) > 0
        policy_names = [p.name for p in executor.policies]
        assert "loop_recovery" in policy_names
        assert "drift_recovery" in policy_names
        assert "thrashing_recovery" in policy_names


class TestExecuteRecovery:
    """Test main recovery execution logic."""

    def test_execute_recovery_matches_health_issues_to_policies(self):
        """Test that recovery execution matches health issues to appropriate policies."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
            assert result.action == RecoveryAction.CHECKPOINT
            assert result.trigger == "Loop detected in workflow"
            mock_execute.assert_called_once()

    def test_execute_recovery_respects_cooldown_periods(self):
        """Test that recovery execution respects cooldown periods between attempts."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '        assert result.result == RecoveryResult.SKIPPED

    def test_execute_recovery_tries_actions_in_order_until_success(self):
        """Test that recovery tries actions in order until one succeeds."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '
            assert result.action == RecoveryAction.ROLLBACK
            assert result.result == RecoveryResult.SUCCESS
            assert mock_execute.call_count == 2

    def test_execute_recovery_records_attempt_result(self):
        """Test that recovery execution records the attempt result."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '        assert result.timestamp is not None
        # Note: SKIPPED results from no matching policy aren't recorded
        # Only actual recovery attempts are recorded in recovery_history


class TestExecuteAction:
    """Test individual recovery action execution."""

    def test_execute_action_checkpoint_calls_checkpoint_method(self):
        """Test that CHECKPOINT action calls the checkpoint method."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L195`
  - Forbidden pattern found: '            assert result.action == RecoveryAction.CHECKPOINT

    def test_execute_action_rollback_calls_rollback_method(self):
        """Test that ROLLBACK action calls the rollback method."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '            assert result.action == RecoveryAction.ROLLBACK

    def test_execute_action_unknown_action_returns_failed_attempt(self):
        """Test that unknown action returns a failed attempt."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L227`
  - Forbidden pattern found: '
        assert result.result == RecoveryResult.FAILED
        assert "unknown action" in result.error.lower()


class TestCheckpointMethod:
    """Test checkpoint creation method."""

    def test_checkpoint_creates_checkpoint_successfully(self):
        """Test successful checkpoint creation."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L257`
  - Forbidden pattern found: '        assert call_kwargs.kwargs.get("session_id") == "session123"
        assert call_kwargs.kwargs.get("phase") == "analysis"
        assert result.action == RecoveryAction.CHECKPOINT
        assert result.result == RecoveryResult.SUCCESS
        assert result.details["checkpoint_id"] == "checkpoint123"

    def test_checkpoint_handles_creation_failure(self):
        """Test checkpoint creation failure handling."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        checkpoint_manager.create_checkpoint.side_effect = Exception("Disk full")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L271`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.CHECKPOINT
        assert result.result == RecoveryResult.FAILED
        assert "Disk full" in result.error


class TestRollbackMethod:
    """Test rollback to checkpoint method."""

    def test_rollback_restores_last_checkpoint_successfully(self):
        """Test successful rollback to last checkpoint."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '        assert result.action == RecoveryAction.ROLLBACK
        assert result.result == RecoveryResult.SUCCESS

    def test_rollback_fails_when_no_checkpoints_available(self):
        """Test rollback failure when no checkpoints are available."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        checkpoint_manager.list_checkpoints.return_value = []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.ROLLBACK
        assert result.result == RecoveryResult.FAILED
        assert "no checkpoints" in result.error.lower()

    def test_rollback_fails_when_restore_fails(self):
        """Test rollback failure when checkpoint restore fails."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        checkpoint = Checkpoint('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.ROLLBACK
        assert result.result == RecoveryResult.FAILED


class TestSummarizeContext:
    """Test context summarization method."""

    def test_summarize_context_compresses_long_context(self):
        """Test that long context gets compressed appropriately."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L351`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.SUMMARIZE
        assert result.result == RecoveryResult.SUCCESS
        assert "original_length" in result.details
        assert "new_length" in result.details  # Implementation uses "new_length"
        assert result.details["new_length"] < result.details["original_length"]

    def test_summarize_context_preserves_first_and_last_tokens(self):
        """Test that summarization preserves first and last portions."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L369`
  - Forbidden pattern found: '        assert "FIRST" in summarized
        assert "LAST" in summarized
        assert result.result == RecoveryResult.SUCCESS

    def test_summarize_context_handles_short_context(self):
        """Test that short context is returned unchanged."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L382`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.SUMMARIZE
        assert result.result == RecoveryResult.SUCCESS
        assert result.details["summarized_context"] == short_context


class TestResetState:
    """Test state reset method."""

    def test_reset_state_clears_problematic_state(self):
        """Test that reset clears state while preserving specified keys."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.RESET
        assert result.result == RecoveryResult.SUCCESS
        assert result.details["preserved_keys"] == preserve_keys
        assert result.details["reset_complete"] is True
        assert result.details["session_id"] == "session123"

    def test_reset_state_handles_empty_preserve_keys(self):
        """Test reset with no keys to preserve."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L412`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.RESET
        assert result.result == RecoveryResult.SUCCESS
        assert result.details["preserved_keys"] == []


class TestEscalate:
    """Test human escalation method."""

    def test_escalate_creates_escalation_record(self):
        """Test that escalation creates proper escalation record."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L430`
  - Forbidden pattern found: '
        assert result.action == RecoveryAction.ESCALATE
        assert result.result == RecoveryResult.SUCCESS  # Escalation always succeeds
        assert result.details["reason"] == reason
        assert result.details["session_id"] == "session123"
        assert "timestamp" in result.details
        assert "recommended_actions" in result.details

    def test_escalate_includes_state_and_health_info(self):
        """Test that escalation includes state snapshot and health status."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L450`
  - Forbidden pattern found: '
        assert result.details["state_snapshot"] == {"key": "value"}
        assert "health_status" in result.details


class TestRecoveryHistory:
    """Test recovery history management."""

    def test_get_recovery_history_returns_recent_attempts(self):
        """Test getting recent recovery attempts."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L481`
  - Forbidden pattern found: '
        assert len(history) == 2

    def test_get_recovery_history_filters_by_session(self):
        """Test getting recovery history filtered by session."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L512`
  - Forbidden pattern found: '
        assert len(history) <= 5


class TestPolicyManagement:
    """Test recovery policy management."""

    def test_register_policy_adds_new_policy(self):
        """Test registering a new recovery policy."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L533`
  - Forbidden pattern found: '
        assert policy in executor.policies
        assert executor.get_policy_for_issue("custom_issue") == policy

    def test_get_policy_for_issue_finds_matching_policy(self):
        """Test finding policy that matches an issue."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L550`
  - Forbidden pattern found: '
        assert found_policy == policy

    def test_get_policy_for_issue_returns_none_when_no_match(self):
        """Test that no policy is returned when no triggers match."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L559`
  - Forbidden pattern found: '
        assert found_policy is None

    def test_get_policy_for_issue_matches_partial_triggers(self):
        """Test that policy matching works with partial trigger matches."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L576`
  - Forbidden pattern found: '
        assert found_policy == policy


class TestDefaultPolicies:
    """Test that default policies are properly configured."""

    def test_default_policies_include_all_expected_policies(self):
        """Test that all expected default policies are loaded."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        executor = RecoveryExecutor(checkpoint_manager)

        policy_names = [p.name for p in executor.policies]
        expected_policies = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L598`
  - Forbidden pattern found: '            assert expected in policy_names

    def test_loop_recovery_policy_configuration(self):
        """Test loop recovery policy has correct configuration."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        executor = RecoveryExecutor(checkpoint_manager)

        policy = executor.get_policy_for_issue("Loop detected")

        assert policy is not None
        assert policy.name == "loop_recovery"
        assert RecoveryAction.CHECKPOINT in policy.actions
        assert RecoveryAction.ROLLBACK in policy.actions
        assert RecoveryAction.RESET in policy.actions
        assert policy.max_attempts == 3
        assert policy.cooldown_seconds == 30

    def test_context_pressure_recovery_policy_configuration(self):
        """Test context pressure recovery policy configuration."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        executor = RecoveryExecutor(checkpoint_manager)

        policy = executor.get_policy_for_issue("Critical context pressure")

        assert policy is not None
        assert policy.name == "context_pressure_recovery"
        assert RecoveryAction.SUMMARIZE in policy.actions
        assert RecoveryAction.CHECKPOINT in policy.actions
        assert policy.max_attempts == 2
        assert policy.cooldown_seconds == 120


class TestConstraints:
    """Test that recovery executor respects specified constraints."""

    def test_cooldown_enforced_between_recovery_attempts(self):
        """Test that cooldown period is enforced between recovery attempts."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L654`
  - Forbidden pattern found: '        assert result.result == RecoveryResult.SKIPPED

    def test_escalation_always_succeeds_as_fallback(self):
        """Test that escalation always succeeds and serves as fallback."""
        checkpoint_manager = Mock(spec=CheckpointManager)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L662`
  - Forbidden pattern found: '
        assert result.result == RecoveryResult.SUCCESS
        assert result.action == RecoveryAction.ESCALATE

    def test_recovery_attempts_are_logged_for_audit(self):
        """Test that recovery attempts during execute_recovery are logged."""
        checkpoint_manager = Mock(spec=CheckpointManager)
        policy = RecoveryPolicy('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L685`
  - Forbidden pattern found: '
        assert len(executor.recovery_history) == initial_history_length + 1

        # Verify the logged attempt has all required fields
        logged_attempt = executor.recovery_history[-1]
        assert logged_attempt.action is not None
        assert logged_attempt.timestamp is not None
        assert logged_attempt.result is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L119`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L162`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L226`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L250`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L270`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L296`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L332`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L350`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L366`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L381`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L398`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L411`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L429`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L446`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L651`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L661`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L95`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L148`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L212`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_selfhosting_tools.py`** (97 violations)

- ğŸ”µ **single-responsibility-modules** at `L71`
  - Class 'TestViolationTools' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L193`
  - Class 'TestGitTools' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L375`
  - Class 'TestRunnerTools' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L464`
  - Class 'TestConformanceTools' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-assert-true-false** at `L389`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L400`
  - Forbidden pattern found: 'assert False'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L389`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L400`
  - Forbidden pattern found: 'assert False'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert "V-test123" in summary
        assert "major" in summary
        assert "commands-have-help" in summary
        assert "Add help='description'" in summary

    def test_to_dict_round_trip(self):
        original = ViolationInfo('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert restored.violation_id == original.violation_id
        assert restored.severity == original.severity
        assert restored.fix_hint == original.fix_hint


class TestViolationTools:
    """Tests for ViolationTools."""

    @pytest.fixture
    def temp_project(self):
        with tempfile.TemporaryDirectory() as tmpdir:
            project = Path(tmpdir)
            violations_dir = project / ".agentforge" / "violations"
            violations_dir.mkdir(parents=True)

            # Create sample violation
            violation = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert result.success
        assert "V-test123" in result.output
        assert "major" in result.output
        assert "commands-have-help" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '
        assert result.success
        assert "V-test123" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '
        assert not result.success
        assert "not found" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '
        assert result.success
        assert "V-test123" in result.output
        assert "1 violations" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '        assert result.success
        assert "V-test123" in result.output

        # Should not find it with minor
        result = tools.list_violations('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '        assert result.success
        assert "No violations found" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '
        assert result.success
        assert "No violations directory" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert result.success
        assert "VIOLATION DETAILS" in result.output
        assert "FILE CONTENT" in result.output
        assert "# test file" in result.output
        assert "def foo()" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
        assert "read_violation" in executors
        assert "list_violations" in executors
        assert "get_violation_context" in executors
        assert callable(executors["read_violation"])


class TestGitTools:
    """Tests for GitTools."""

    @pytest.fixture
    def temp_git_repo(self):
        with tempfile.TemporaryDirectory() as tmpdir:
            project = Path(tmpdir)

            # Initialize git repo
            subprocess.run('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '
        assert result.success
        assert "clean" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '
        assert result.success
        assert "new_file.txt" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L250`
  - Forbidden pattern found: '
        assert result.success
        assert "No changes" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L260`
  - Forbidden pattern found: '
        assert result.success
        assert "Modified" in result.output or "-# Test" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L267`
  - Forbidden pattern found: '
        assert result.success
        assert "Initial commit" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '
        assert result.success
        assert "Staged" in result.output
        assert "new_file.txt" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L285`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L303`
  - Forbidden pattern found: '
        assert result.success
        assert "staged for approval" in result.output
        assert tools.get_pending_commit() is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L322`
  - Forbidden pattern found: '
        assert result.success
        assert "Committed" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L332`
  - Forbidden pattern found: '
        assert result.success
        pending = tools.get_pending_commit()
        assert "V-test123" in pending["message"]
        assert "fix(V-test123)" in pending["message"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '
        assert not result.success
        assert "too short" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L359`
  - Forbidden pattern found: '
        assert result.success
        assert "Committed" in result.output
        assert tools.get_pending_commit() == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '
        assert "git_status" in executors
        assert "git_diff" in executors
        assert "git_log" in executors
        assert "git_add" in executors
        assert "git_commit" in executors


class TestRunnerTools:
    """Tests for RunnerTools."""

    @pytest.fixture
    def temp_test_project(self):
        with tempfile.TemporaryDirectory() as tmpdir:
            project = Path(tmpdir)
            tests_dir = project / "tests"
            tests_dir.mkdir()

            # Create a simple passing test
            (tests_dir / "test_simple.py").write_text(
                """
def test_passes():
    assert True

def test_also_passes():
    assert 1 + 1 == 2
"""
            )

            # Create a failing test
            (tests_dir / "test_failing.py").write_text(
                """
def test_fails():'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L412`
  - Forbidden pattern found: '
        assert result.success
        assert "passed" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L422`
  - Forbidden pattern found: '
        assert not result.success
        # Error contains the failure message
        assert result.error is not None
        assert "failed" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L434`
  - Forbidden pattern found: '
        assert result.success
        assert "passed" in result.output.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L441`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L451`
  - Forbidden pattern found: '
        assert result.success
        assert "No related tests found" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L458`
  - Forbidden pattern found: '
        assert "run_tests" in executors
        assert "run_single_test" in executors
        assert "run_affected_tests" in executors


class TestConformanceTools:
    """Tests for ConformanceTools (mocked)."""

    @pytest.fixture
    def temp_project(self):
        with tempfile.TemporaryDirectory() as tmpdir:
            yield Path(tmpdir)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L475`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L482`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L491`
  - Forbidden pattern found: '
        assert not result.success
        assert "not found" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L498`
  - Forbidden pattern found: '
        assert "check_file" in executors
        assert "verify_violation_fixed" in executors
        assert "run_full_check" in executors

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L513`
  - Forbidden pattern found: '
        assert result.success
        assert "No violations" in result.output

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L523`
  - Forbidden pattern found: '
        assert not result.success
        assert "timed out" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L531`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L541`
  - Forbidden pattern found: '
        assert not result.success
        assert "not found" in result.error.lower() or "Check not found" in str(result.output)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L551`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L561`
  - Forbidden pattern found: '
        assert not result.success
        assert "missing" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L572`
  - Forbidden pattern found: '
        assert not result.success
        assert "not found" in result.error.lower() or "not found" in str(result.output).lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L582`
  - Forbidden pattern found: '        assert "check_file" in executors
        assert "verify_violation_fixed" in executors
        assert "run_full_check" in executors
        # New domain-specific tools
        assert "run_conformance_check" in executors
        assert "get_check_definition" in executors
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L74`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L196`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L378`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L467`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L31`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L63`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L114`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L121`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L130`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L137`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L147`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L154`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L166`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L173`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L242`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L249`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L259`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L266`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L276`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L284`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L299`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L318`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L328`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L340`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L358`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L408`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L418`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L430`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L440`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L447`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L474`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L481`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L488`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L512`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L522`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L530`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L538`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L548`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L558`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L568`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_session_domain.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L11`
  - Class 'TestSessionState' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L35`
  - Class 'TestTokenBudget' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L142`
  - Class 'TestSessionContext' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L17`
  - Forbidden pattern found: '        assert SessionState.ACTIVE.value == "active"

    def test_session_state_has_paused_value(self):
        """SessionState should have PAUSED state."""
        from agentforge.core.harness.session_domain import SessionState
        assert SessionState.PAUSED.value == "paused"

    def test_session_state_has_completed_value(self):
        """SessionState should have COMPLETED state."""
        from agentforge.core.harness.session_domain import SessionState
        assert SessionState.COMPLETED.value == "completed"

    def test_session_state_has_aborted_value(self):
        """SessionState should have ABORTED state."""
        from agentforge.core.harness.session_domain import SessionState
        assert SessionState.ABORTED.value == "aborted"


class TestTokenBudget:
    """Tests for TokenBudget value object."""

    def test_token_budget_default_values(self):
        """AC-001: Default budget should be 100K tokens."""
        from agentforge.core.harness.session_domain import TokenBudget
        budget = TokenBudget()
        assert budget.total_budget == 100000
        assert budget.tokens_used == 0

    def test_tokens_remaining_calculation(self):
        """tokens_remaining should equal total_budget - tokens_used."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '        assert budget.tokens_remaining == 70000

    def test_utilization_percent_calculation(self):
        """AC-013: utilization_percent should be (tokens_used / total_budget) * 100."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L55`
  - Forbidden pattern found: '        assert budget.utilization_percent == 50.0

    def test_is_warning_at_80_percent(self):
        """AC-014: is_warning should be True when utilization >= 80%."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '        assert budget.is_warning is True

    def test_is_warning_below_80_percent(self):
        """is_warning should be False when utilization < 80%."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert budget.is_warning is False

    def test_can_continue_when_sufficient_budget(self):
        """can_continue returns True when tokens_remaining >= required."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '        assert budget.can_continue(40000) is True

    def test_can_continue_when_insufficient_budget(self):
        """AC-015: can_continue returns False when would exceed budget."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '        assert budget.can_continue(10000) is False

    def test_record_usage_adds_tokens(self):
        """record_usage should add tokens to tokens_used."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert budget.tokens_used == 5000

    def test_extend_increases_budget(self):
        """AC-016: extend should increase total_budget."""
        from agentforge.core.harness.session_domain import TokenBudget'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '        assert budget.total_budget == 150000
        assert budget.can_continue(40000) is True


class TestSessionArtifact:
    """Tests for SessionArtifact value object."""

    def test_artifact_creation(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L110`
  - Forbidden pattern found: '        assert artifact.path == "src/foo.py"
        assert artifact.artifact_type == "created"
        assert artifact.timestamp == now
        assert artifact.phase == "implement"

    def test_artifact_type_must_be_created_or_modified(self):
        """artifact_type must be 'created' or 'modified'."""
        from agentforge.core.harness.session_domain import SessionArtifact
        # Valid types'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '        assert entry.timestamp == now
        assert entry.action == "session_created"
        assert entry.phase is None
        assert entry.details == "Initial creation"


class TestSessionContext:
    """Tests for SessionContext entity."""

    def test_session_context_creation_with_defaults(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '
        assert session.session_id.startswith("session_")
        assert session.state == SessionState.ACTIVE
        assert session.token_budget.total_budget == 100000
        assert session.created_at is not None
        assert session.updated_at is not None

    def test_session_context_creation_with_workflow(self):
        """AC-002: Session created with specified workflow type and budget."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '        assert session.workflow_type == "spec"
        assert session.token_budget.total_budget == 50000

    def test_session_ids_are_unique(self):
        """AC-003: Session IDs should be unique."""
        from agentforge.core.harness.session_domain import SessionContext
        session1 = SessionContext.create()
        session2 = SessionContext.create()
        assert session1.session_id != session2.session_id

    def test_add_artifact_records_with_timestamp(self):
        """AC-019: add_artifact records artifact with timestamp and phase."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create()
        session.current_phase = "implement"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '
        assert len(session.artifacts) == 1
        artifact = session.artifacts[0]
        assert artifact.path == "src/foo.py"
        assert artifact.artifact_type == "created"
        assert artifact.phase == "implement"
        assert artifact.timestamp is not None

    def test_get_artifacts_filters_by_phase(self):
        """AC-020: get_artifacts filters by phase."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create()

        session.current_phase = "analyze"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '        assert len(implement_artifacts) == 2

        analyze_artifacts = session.get_artifacts(phase="analyze")
        assert len(analyze_artifacts) == 1

    def test_add_history_records_entry(self):
        """AC-023: History contains entries with timestamps."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create()

        # Session creation should add initial history
        assert len(session.history) >= 1
        assert session.history[0].action == "session_created"

    def test_history_contains_all_state_transitions(self):
        """AC-024: All state transitions recorded in history."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create()
        initial_history_len = len(session.history)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
        assert len(session.history) == initial_history_len + 1
        assert session.history[-1].action == "phase_advanced"
        assert session.history[-1].phase == "analyze"

    def test_created_at_before_updated_at(self):
        """Invariant: created_at <= updated_at."""
        from agentforge.core.harness.session_domain import SessionContext
        session = SessionContext.create()
        assert session.created_at <= session.updated_at

    def test_completed_at_only_set_for_terminal_states(self):
        """Invariant: completed_at is None unless COMPLETED or ABORTED."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '        assert session.completed_at is None
        assert session.state == SessionState.ACTIVE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/harness/test_session_manager.py`** (54 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'TestSessionManagerCreation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L78`
  - Class 'TestSessionManagerStateTransitions' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L174`
  - Class 'TestSessionManagerPhaseAdvancement' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L226`
  - Class 'TestSessionManagerTokenBudget' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L297`
  - Class 'TestSessionManagerCheckpointing' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L335`
  - Class 'TestSessionManagerCleanup' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert session is not None
        assert session.session_id.startswith("session_")
        assert session.state == SessionState.ACTIVE
        assert session.token_budget.total_budget == 100000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '
        assert session.workflow_type == "spec"
        assert session.token_budget.total_budget == 50000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '        assert loaded is not None
        assert loaded.session_id == session.session_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert session.state == SessionState.PAUSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
        assert len(manager.current_session.history) > initial_history_len
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '
        assert session.state == SessionState.ACTIVE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
        assert len(manager.current_session.history) > history_before_resume
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '
        assert session.state == SessionState.COMPLETED
        assert session.completed_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '
        assert session.state == SessionState.ABORTED
        assert session.completed_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '
        assert session.current_phase == "implement"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L204`
  - Forbidden pattern found: '        assert loaded.current_phase == "implement"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert len(manager.current_session.history) > history_before
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '        assert loaded.current_phase == "refactor"


class TestSessionManagerTokenBudget:
    """Tests for token budget management."""

    @pytest.fixture
    def temp_dir(self):
        temp = tempfile.mkdtemp()
        yield Path(temp)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L246`
  - Forbidden pattern found: '
        assert manager.current_session.token_budget.tokens_used == 50000
        assert manager.current_session.token_budget.tokens_remaining == 50000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '        assert manager.current_session.token_budget.is_warning is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '
        assert manager.current_session.token_budget.total_budget == 150000
        assert manager.current_session.token_budget.can_continue(40000) is True


class TestSessionManagerArtifacts:
    """Tests for artifact tracking."""

    @pytest.fixture
    def temp_dir(self):
        temp = tempfile.mkdtemp()
        yield Path(temp)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L291`
  - Forbidden pattern found: '        assert len(artifacts) == 1
        assert artifacts[0].path == "src/foo.py"
        assert artifacts[0].artifact_type == "created"
        assert artifacts[0].phase == "implement"


class TestSessionManagerCheckpointing:
    """Tests for checkpointing behavior."""

    @pytest.fixture
    def temp_dir(self):
        temp = tempfile.mkdtemp()
        yield Path(temp)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L319`
  - Forbidden pattern found: '
        assert path.exists()
        loaded = manager.load(manager.current_session.session_id)
        assert loaded.token_budget.tokens_used == 5000
        assert loaded.current_phase == "analyze"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L332`
  - Forbidden pattern found: '        assert loaded.current_phase == "implement"


class TestSessionManagerCleanup:
    """Tests for session cleanup."""

    @pytest.fixture
    def temp_dir(self):
        temp = tempfile.mkdtemp()
        yield Path(temp)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L363`
  - Forbidden pattern found: '
        assert session_id in deleted
        assert not manager.store.exists(session_id)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L376`
  - Forbidden pattern found: '
        assert session_id not in deleted
        assert manager.store.exists(session_id)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L388`
  - Forbidden pattern found: '
        assert session_id not in deleted
        assert manager.store.exists(session_id)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L402`
  - Forbidden pattern found: '
        assert session_id in would_delete
        assert manager.store.exists(session_id)  # Still exists


class TestSessionManagerTestability:
    """Tests for testability requirements."""

    def test_session_manager_accepts_custom_store(self):
        """AC-030: SessionManager works with custom store path."""
        import tempfile
        from pathlib import Path

        from agentforge.core.harness.session_manager import SessionManager
        from agentforge.core.harness.session_store import SessionStore

        with tempfile.TemporaryDirectory() as temp:
            store = SessionStore(base_path=Path(temp) / "custom_sessions")
            manager = SessionManager(store=store)

            session = manager.create()
            assert session is not None

            loaded = manager.load(session.session_id)
            assert loaded is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L24`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L81`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L87`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L177`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L183`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L229`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L235`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L272`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L278`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L300`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L306`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L338`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L344`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L27`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L83`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L179`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L231`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L274`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L302`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L340`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_session_store.py`** (26 violations)

- ğŸ”µ **single-responsibility-modules** at `L15`
  - Class 'TestSessionStore' has 18 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert path.exists()
        assert path.name == "session.yaml"
        assert sample_session.session_id in str(path)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert store.base_path.exists()
        gitkeep = store.base_path / ".gitkeep"
        assert gitkeep.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.session_id == sample_session.session_id
        assert loaded.workflow_type == sample_session.workflow_type
        assert loaded.state == sample_session.state
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '        assert store.exists(sample_session.session_id) is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L91`
  - Forbidden pattern found: '        assert store.exists("nonexistent") is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert len(sessions) == 3
        assert session1.session_id in sessions
        assert session2.session_id in sessions
        assert session3.session_id in sessions
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '        assert store.exists(sample_session.session_id) is True

        result = store.delete(sample_session.session_id)

        assert result is True
        assert store.exists(sample_session.session_id) is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '        assert loaded.state == original_state
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '        assert "session_id:" in content
        assert "state:" in content
        # Should not be single-line JSON-style
        assert content.count("\n") > 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L156`
  - Forbidden pattern found: '        assert "T" in content  # ISO datetime format
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '
        assert path == expected_file
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '        assert loaded.session_id == session.session_id
        assert loaded.workflow_type == session.workflow_type
        assert loaded.current_phase == session.current_phase
        assert loaded.token_budget.total_budget == session.token_budget.total_budget
        assert loaded.token_budget.tokens_used == session.token_budget.tokens_used
        assert len(loaded.artifacts) == len(session.artifacts)
        assert len(loaded.history) == len(session.history)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L18`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L25`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L15`
  - Class 'TestSessionStore' has 18 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L21`
  - Variable name 'temp' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L118`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_template_context_builder.py`** (29 violations)

- ğŸ”µ **single-responsibility-modules** at `L64`
  - Class 'TestTemplateContextBuilder' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L176`
  - Class 'TestTemplateContextBuilderPhaseTranslation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L289`
  - Class 'TestTemplateContextBuilderDifferentTaskTypes' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L377`
  - Class 'TestTemplateContextBuilderTokenTracking' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '
        assert builder.template is not None
        assert builder.template.task_type == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '
        assert builder.template.task_type == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '        assert context.system_prompt != ""
        assert context.user_message != ""
        assert context.template_name == "fix_violation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '        assert len(messages) == 2
        assert messages[0]["role"] == "system"
        assert messages[1]["role"] == "user"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '        assert context.phase == "scan"
        assert context.template_name == "discovery"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '        assert context.phase == "analyze"
        assert context.template_name == "bridge"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '        assert context.phase == "init"
        assert context.template_name == "code_review"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L284`
  - Forbidden pattern found: '
        assert context.phase == "init"
        assert context.template_name == "fix_violation"


class TestTemplateContextBuilderDifferentTaskTypes:
    """Tests that builder works with all registered task types."""

    @pytest.fixture
    def temp_project(self):
        """Create a temporary project directory."""
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / "src").mkdir()
            (project / ".agentforge").mkdir()
            (project / ".agentforge" / "tasks").mkdir()
            (project / "pyproject.toml").write_text(
                '[project]\nname = "test"\n'
            )
            yield project

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L339`
  - Forbidden pattern found: '        assert context.template_name == task_type
        assert context.phase in builder.phases
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L369`
  - Forbidden pattern found: '
        assert len(messages) == 2
        assert messages[0]["role"] == "system"
        assert messages[1]["role"] == "user"
        # User message should contain task info
        assert "Task" in messages[1]["content"] or "task" in messages[1]["content"]


class TestTemplateContextBuilderTokenTracking:
    """Tests for token breakdown tracking."""

    @pytest.fixture
    def temp_project(self):
        with TemporaryDirectory() as tmpdir:
            project = Path(tmpdir) / "test_project"
            project.mkdir()
            (project / ".agentforge").mkdir()
            (project / ".agentforge" / "tasks").mkdir()
            (project / "pyproject.toml").write_text('[project]\nname = "test"\n')
            yield project

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L414`
  - Forbidden pattern found: '        assert "system_prompt" in breakdown
        assert breakdown["system_prompt"] > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L437`
  - Forbidden pattern found: '        assert context.total_tokens < 5000
        # But should be non-trivial
        assert context.total_tokens > 100
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L67`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L90`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L95`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L179`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L193`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L292`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L306`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L380`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L390`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L29`
  - Function 'get_required_context_for_task_type' has 33 lines (max: 30)

**`tests/unit/harness/test_tool_domain.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L11`
  - Class 'TestToolDefinition' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L107`
  - Class 'TestToolProfile' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L22`
  - Forbidden pattern found: '
        assert tool.name == "test_tool"
        assert tool.description == "A test tool"
        assert tool.parameters == {"param1": {"type": "string"}}
        assert tool.category == "test"
        assert tool.handler is None
        assert tool.requires_approval is False

    def test_init_with_all_fields_creates_instance(self):
        """Test that ToolDefinition can be created with all fields."""
        tool = ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert tool.name == "test_tool"
        assert tool.description == "A test tool"
        assert tool.parameters == {"param1": {"type": "string"}}
        assert tool.handler == "test.handler"
        assert tool.requires_approval is True
        assert tool.category == "test"

    def test_to_dict_returns_serialized_data(self):
        """Test that to_dict returns proper dictionary representation."""
        tool = ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '        assert result == expected

    def test_from_dict_creates_instance_from_data(self):
        """Test that from_dict creates ToolDefinition from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert tool.name == "test_tool"
        assert tool.description == "A test tool"
        assert tool.parameters == {"param1": {"type": "string"}}
        assert tool.handler == "test.handler"
        assert tool.requires_approval is True
        assert tool.category == "test"

    def test_from_dict_with_minimal_data_uses_defaults(self):
        """Test that from_dict uses default values for optional fields."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L101`
  - Forbidden pattern found: '
        assert tool.name == "test_tool"
        assert tool.handler is None
        assert tool.requires_approval is False


class TestToolProfile:
    """Test ToolProfile entity."""

    def test_init_with_required_fields_creates_instance(self):
        """Test that ToolProfile can be created with required fields."""
        profile = ToolProfile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert profile.workflow == "test_workflow"
        assert profile.phase == "test_phase"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '        assert profile.description is None

    def test_init_with_all_fields_creates_instance(self):
        """Test that ToolProfile can be created with all fields."""
        profile = ToolProfile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '
        assert profile.workflow == "test_workflow"
        assert profile.phase == "test_phase"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '        assert profile.description == "Test profile"

    def test_to_dict_returns_serialized_data(self):
        """Test that to_dict returns proper dictionary representation."""
        profile = ToolProfile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '        assert result == expected

    def test_from_dict_creates_instance_from_data(self):
        """Test that from_dict creates ToolProfile from dictionary."""
        data = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '
        assert profile.workflow == "test_workflow"
        assert profile.phase == "test_phase"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '        assert profile.description == "Test profile"


class TestDomainTools:
    """Test DomainTools entity."""

    def test_init_creates_instance_with_all_fields(self):
        """Test that DomainTools can be created with all fields."""
        domain_tools = DomainTools('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert domain_tools.domain == "python"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L59`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L73`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L93`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L146`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L158`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_tool_executor_bridge.py`** (72 violations)

- ğŸ”µ **single-responsibility-modules** at `L16`
  - Class 'TestToolExecutorBridge' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L65`
  - Class 'TestReadFile' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L112`
  - Class 'TestWriteFile' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L155`
  - Class 'TestEditFile' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L202`
  - Class 'TestGlob' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L240`
  - Class 'TestBash' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L277`
  - Class 'TestListFiles' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L33`
  - Forbidden pattern found: '        assert bridge.working_dir == Path.cwd()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '        assert bridge.working_dir == temp_dir
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L43`
  - Forbidden pattern found: '
        assert "read_file" in executors
        assert "write_file" in executors
        assert "edit_file" in executors
        assert "glob" in executors
        assert "grep" in executors
        assert "bash" in executors
        assert "run_tests" in executors
        assert "list_files" in executors
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '        assert "custom" in executors


class TestReadFile:
    """Tests for read_file tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.output == "Hello World"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.output == "Content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert result.success is False
        assert "not found" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '
        assert result.success is False
        assert "Missing required parameter" in result.error


class TestWriteFile:
    """Tests for write_file tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert result.success is True
        assert (temp_dir / "new.txt").read_text() == "New content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L140`
  - Forbidden pattern found: '
        assert result.success is True
        assert (temp_dir / "a/b/c/file.txt").read_text() == "Deep"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L147`
  - Forbidden pattern found: '        assert result.success is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert result.success is False


class TestEditFile:
    """Tests for edit_file tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert result.success is True
        assert test_file.read_text() == "def foo():\n    return 42\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '
        assert result.success is False
        assert "not found" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '        assert result.success is False


class TestGlob:
    """Tests for glob tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert result.success is True
        assert "a.py" in result.output
        assert "b.py" in result.output
        assert "c.txt" not in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L230`
  - Forbidden pattern found: '
        assert result.success is True
        assert "No matches" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '        assert result.success is False


class TestBash:
    """Tests for bash tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '
        assert result.success is True
        assert "hello" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L262`
  - Forbidden pattern found: '
        assert result.success is False
        assert "blocked" in result.error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '        assert result.success is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L274`
  - Forbidden pattern found: '        assert result.success is False


class TestListFiles:
    """Tests for list_files tool."""

    @pytest.fixture
    def temp_dir(self):
        with tempfile.TemporaryDirectory() as td:
            yield Path(td)

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L295`
  - Forbidden pattern found: '
        assert result.success is True
        assert "file.txt" in result.output
        assert "subdir" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '
        assert "d subdir" in result.output
        assert "f file.txt" in result.output
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '        assert result.success is False


class TestCreateToolBridge:
    """Tests for factory function."""

    def test_creates_bridge(self):
        """Factory creates bridge."""
        bridge = create_tool_bridge()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L328`
  - Forbidden pattern found: '        assert bridge.working_dir == custom_dir
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L25`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L68`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L73`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L115`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L120`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L158`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L163`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L205`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L210`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L243`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L248`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L280`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L285`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L82`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L92`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L99`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L106`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L126`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L146`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L151`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L172`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L195`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L220`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L229`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L254`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L261`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L268`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L273`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L294`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L312`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_tool_registry.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'TestToolRegistry' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-assert-true-false** at `L99`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L99`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸ”µ **no-bare-assert** at `L28`
  - Forbidden pattern found: '
        assert registry.list_tools() == []
        assert registry.list_profiles() == []

    def test_init_with_config_path_loads_config(self):
        """Test that registry loads config when path provided."""
        config_path = Path("test_config.yaml")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '
        assert "test_tool" in registry.list_tools()
        assert registry.get_tool("test_tool") == tool

    def test_register_tool_with_duplicate_name_raises_error(self):
        """Test that registering duplicate tool raises DuplicateToolError."""
        registry = ToolRegistry()
        tool1 = ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '        assert result == profile

    def test_register_domain_tools_adds_domain_tools(self):
        """Test that register_domain_tools adds domain-specific tools."""
        registry = ToolRegistry()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert True  # Will be updated when implementation exists

    def test_get_tool_returns_tool_when_exists(self):
        """Test that get_tool returns tool definition when it exists."""
        registry = ToolRegistry()
        tool = ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert result == tool

    def test_get_tool_returns_none_when_not_exists(self):
        """Test that get_tool returns None when tool doesn't exist."""
        registry = ToolRegistry()

        result = registry.get_tool("nonexistent_tool")

        assert result is None

    def test_get_profile_returns_profile_when_exists(self):
        """Test that get_profile returns profile when it exists."""
        registry = ToolRegistry()
        profile = ToolProfile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert result == profile

    def test_get_profile_returns_none_when_not_exists(self):
        """Test that get_profile returns None when profile doesn't exist."""
        registry = ToolRegistry()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert result is None

    def test_list_tools_returns_all_tool_names(self):
        """Test that list_tools returns all registered tool names."""
        registry = ToolRegistry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert len(result) == 2
        assert profile1 in result
        assert profile2 in result

    def test_load_from_yaml_loads_configuration(self):
        """Test that load_from_yaml loads tools and profiles from YAML."""
        registry = ToolRegistry()
        yaml_content = """
        tools:
          - name: test_tool
            description: Test tool
            parameters: {}
            category: test
        profiles:
          - workflow: test_workflow
            phase: test_phase
            tools: [test_tool]
        """
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L206`
  - Forbidden pattern found: '
                assert "test_tool" in registry.list_tools()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L174`
  - Function 'test_load_from_yaml_loads_configuration' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L88`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L120`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L134`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L142`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L155`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/test_tool_selector.py`** (25 violations)

- ğŸ”µ **single-responsibility-modules** at `L23`
  - Class 'TestToolSelector' has 14 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '
        assert selector.registry == registry
        assert selector.project_domain is None

    def test_init_with_project_domain_sets_domain(self):
        """Test that ToolSelector initializes with project domain."""
        registry = Mock(spec=ToolRegistry)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert selector.registry == registry
        assert selector.project_domain == "python"

    def test_get_tools_returns_combined_tool_list(self):
        """Test that get_tools returns combined tools from multiple sources."""
        registry = Mock(spec=ToolRegistry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '        assert "base_tool" in tool_names
        assert "phase_tool" in tool_names
        assert "domain_tool" in tool_names

    def test_get_tools_without_domain_excludes_domain_tools(self):
        """Test that get_tools works without domain specification."""
        registry = Mock(spec=ToolRegistry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert "base_tool" in tool_names
        assert "phase_tool" in tool_names

    def test_get_tools_deduplicates_by_name_phase_overrides_base(self):
        """Test that get_tools deduplicates tools with phase tools overriding base."""
        registry = Mock(spec=ToolRegistry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
        assert len(result) == 1
        assert result[0].description == "Phase version"  # Phase overrides base

    def test_detect_domain_identifies_python_project(self):
        """Test that detect_domain identifies Python projects."""
        registry = Mock(spec=ToolRegistry)
        selector = ToolSelector(registry)

        with tempfile.TemporaryDirectory() as temp_dir:
            project_path = Path(temp_dir)
            # Create pyproject.toml to indicate Python project
            (project_path / "pyproject.toml").write_text("[project]\nname = 'test'")

            result = selector.detect_domain(project_path)

        assert result == "python"

    def test_detect_domain_identifies_dotnet_project(self):
        """Test that detect_domain identifies .NET projects."""
        registry = Mock(spec=ToolRegistry)
        selector = ToolSelector(registry)

        with tempfile.TemporaryDirectory() as temp_dir:
            project_path = Path(temp_dir)
            # Create .csproj file to indicate .NET project
            (project_path / "test.csproj").write_text("<Project></Project>")

            result = selector.detect_domain(project_path)

        assert result == "dotnet"

    def test_detect_domain_identifies_typescript_project(self):
        """Test that detect_domain identifies TypeScript projects."""
        registry = Mock(spec=ToolRegistry)
        selector = ToolSelector(registry)

        with tempfile.TemporaryDirectory() as temp_dir:
            project_path = Path(temp_dir)
            # Create package.json with typescript dependency
            package_json = {"dependencies": {"typescript": "^4.0.0"}}
            (project_path / "package.json").write_text(json.dumps(package_json))

            result = selector.detect_domain(project_path)

        assert result == "typescript"

    def test_detect_domain_returns_none_for_unknown_project(self):
        """Test that detect_domain returns None for unknown project types."""
        registry = Mock(spec=ToolRegistry)
        selector = ToolSelector(registry)

        with tempfile.TemporaryDirectory() as temp_dir:
            project_path = Path(temp_dir)
            # Don't create any recognizable files

            result = selector.detect_domain(project_path)

        assert result is None

    def test_get_tool_names_returns_tool_names_only(self):
        """Test that get_tool_names returns just tool names."""
        registry = Mock(spec=ToolRegistry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '
        assert result is True

    def test_validate_tool_access_returns_false_for_disallowed_tool(self):
        """Test that validate_tool_access returns False for disallowed tools."""
        registry = Mock(spec=ToolRegistry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '
        assert result is False

    def test_get_tools_handles_missing_profile_gracefully(self):
        """Test that get_tools handles missing workflow/phase profile gracefully."""
        registry = Mock(spec=ToolRegistry)
        registry.get_base_tools.return_value = []
        registry.get_profile.return_value = None  # Profile not found

        selector = ToolSelector(registry)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '        assert "domain_tool" in tool_names
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L96`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L117`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L188`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L201`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L214`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L245`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L132`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L146`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L161`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L174`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/tool_handlers/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/harness/tool_handlers/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_constants.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_constants.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_constants.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_file_handlers.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_file_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_file_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_search_handlers.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_search_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_search_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_terminal_handlers.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_terminal_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_terminal_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/__pycache__/test_verify_handlers.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_verify_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/harness/tool_handlers/__pycache__/test_verify_handlers.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/harness/tool_handlers/test_constants.py`** (14 violations)

- ğŸ”µ **single-responsibility-modules** at `L14`
  - Class 'TestToolHandlerConstants' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '        assert FILE_PREVIEW_MAX_LINES is not None
        assert SEARCH_DEFAULT_MAX_RESULTS is not None
        assert WORKING_MEMORY_MAX_CONTENT_SIZE is not None

    def test_file_preview_constants(self):
        """File preview constants should have positive values."""
        from agentforge.core.harness.minimal_context.tool_handlers.constants import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert FILE_PREVIEW_MAX_LINES > 0'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert FILE_PREVIEW_LINE_MAX_CHARS > 0

    def test_search_constants(self):
        """Search constants should have positive values."""
        from agentforge.core.harness.minimal_context.tool_handlers.constants import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '        assert SEARCH_DEFAULT_MAX_RESULTS > 0'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '        assert SEARCH_LINE_MAX_CHARS > 0

    def test_working_memory_constants(self):
        """Working memory constants should have sensible values."""
        from agentforge.core.harness.minimal_context.tool_handlers.constants import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '        assert WORKING_MEMORY_MAX_CONTENT_SIZE > 0'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '        assert WORKING_MEMORY_EXPIRY_STEPS > 0

    def test_timeout_constants(self):
        """Timeout constants should be positive."""
        from agentforge.core.harness.minimal_context.tool_handlers.constants import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '        assert CONFORMANCE_CHECK_TIMEOUT > 0
        assert TEST_RUN_TIMEOUT > 0
        assert PYTHON_VALIDATION_TIMEOUT > 0

    def test_output_truncation_constants(self):
        """Output truncation limits should be positive."""
        from agentforge.core.harness.minimal_context.tool_handlers.constants import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '        assert CHECK_PASSED_OUTPUT_MAX_CHARS > 0
        assert CHECK_FAILED_OUTPUT_MAX_CHARS > 0
        assert CHECK_STDERR_MAX_CHARS > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/harness/tool_handlers/test_file_handlers.py`** (53 violations)

- ğŸ”µ **single-responsibility-modules** at `L37`
  - Class 'TestReadFileHandler' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L88`
  - Class 'TestWriteFileHandler' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L130`
  - Class 'TestEditFileHandler' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L45`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "line1" in result
        assert "line2" in result
        assert "line3" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "path" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '        assert "1:" in result or "   1:" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "line1" in result


class TestWriteFileHandler:
    """Tests for write_file handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "Created" in result
        assert (tmp_path / "new.py").read_text() == "hello world"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "Wrote" in result
        assert temp_file.read_text() == "new content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert (tmp_path / "deep" / "nested" / "file.py").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L125`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "path" in result.lower()


class TestEditFileHandler:
    """Tests for edit_file handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert temp_file.read_text() == "line1\nreplaced\nline3\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert temp_file.read_text() == "a\nX\nY\nZ\nd\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert temp_file.read_text() == "new first\nsecond\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert temp_file.read_text() == "first\nnew last\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L203`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '
        assert "ERROR" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "exceeds" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "path" in result.lower()


class TestReplaceLinesHandler:
    """Tests for replace_lines handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        content = temp_file.read_text()
        # Should have proper indentation
        assert "    x = 1" in content
        assert "    return x" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L282`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "Invalid" in result


class TestInsertLinesHandler:
    """Tests for insert_lines handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        content = temp_file.read_text()
        lines = content.split("\n")
        assert "inserted" in lines[1]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L316`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        content = temp_file.read_text()
        assert content.startswith("# comment")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L21`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L44`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L55`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L64`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L73`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L82`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L95`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L124`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L138`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L153`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L183`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L197`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L212`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L226`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L240`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L258`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L276`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L311`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L325`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/tool_handlers/test_registry.py`** (36 violations)

- ğŸ”µ **single-responsibility-modules** at `L28`
  - Class 'TestCreateStandardHandlers' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L109`
  - Class 'TestCreateMinimalHandlers' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L142`
  - Class 'TestToolHandlerRegistry' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L36`
  - Forbidden pattern found: '        assert len(handlers) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '
        assert "read_file" in handlers
        assert "write_file" in handlers
        assert "edit_file" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '
        assert "search_code" in handlers
        assert "load_context" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '
        assert "run_check" in handlers
        assert "run_tests" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '
        assert "complete" in handlers
        assert "escalate" in handlers
        assert "cannot_fix" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '        assert len(handlers) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert "cannot_fix" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '
        assert "run_check" in handlers


class TestCreateMinimalHandlers:
    """Tests for create_minimal_handlers factory."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '        assert len(handlers) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '
        assert "read_file" in handlers
        assert "write_file" in handlers
        assert "edit_file" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert "complete" in handlers
        assert "escalate" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '        assert len(handlers) < len(create_standard_handlers(temp_project))


class TestToolHandlerRegistry:
    """Tests for ToolHandlerRegistry."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
        assert len(handlers) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '
        assert "my_tool" in handlers
        assert handlers["my_tool"]({}) == "result"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L178`
  - Forbidden pattern found: '
        assert "a" in handlers
        assert "b" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L188`
  - Forbidden pattern found: '
        assert "read_file" in handlers
        assert "write_file" in handlers
        assert "edit_file" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '
        assert "search_code" in handlers
        assert "load_context" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '
        assert "run_check" in handlers
        assert "run_tests" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L219`
  - Forbidden pattern found: '
        assert "complete" in handlers
        assert "escalate" in handlers
        assert "cannot_fix" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '        assert "read_file" in handlers
        assert "search_code" in handlers
        assert "run_check" in handlers
        assert "complete" in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '
        assert "read_file" in handlers
        assert "complete" in handlers
        assert "search_code" not in handlers
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '
        assert registry.has_handler("read_file")
        assert not registry.has_handler("nonexistent")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L268`
  - Forbidden pattern found: '        assert "read_file" in names
        assert names == sorted(names)  # Should be sorted
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '
        assert handlers["read_file"]({}) == "custom result"


class TestHandlerIntegration:
    """Integration tests for handlers working together."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '        assert "SUCCESS" in write_result

        # Read it back
        read_result = handlers["read_file"]({"path": "test.txt"})
        assert "SUCCESS" in read_result
        assert "Hello World" in read_result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert "SUCCESS" in edit_result

        # Read and verify
        read_result = handlers["read_file"]({"path": "lines.txt"})
        assert "line1" in read_result
        assert "modified" in read_result
        assert "line3" in read_result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '        assert "module.py" in search_result
        assert "Found" in search_result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L81`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/tool_handlers/test_search_handlers.py`** (42 violations)

- ğŸ”µ **single-responsibility-modules** at `L50`
  - Class 'TestSearchCodeHandler' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L118`
  - Class 'TestLoadContextHandler' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L167`
  - Class 'TestFindRelatedHandler' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '
        assert "module.py" in result
        assert "1" in result or "line" in result.lower()
        assert "Found" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert "module.py" in result or "utils.py" in result
        # Should not include test files
        assert "test_module" not in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
        assert "No matches" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "Invalid regex" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L95`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "pattern" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert "module.py" in result
        assert "Found" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '        assert "limited" in result.lower() or len(result.split("\n")) < 10


class TestLoadContextHandler:
    """Tests for load_context handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "module.py" in result
        assert "context" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert "SUCCESS" in result
        assert "module.py" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '
        assert "ERROR" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "read_file" in result


class TestFindRelatedHandler:
    """Tests for find_related handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
        assert "utils.py" in result
        assert "same_dir" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L184`
  - Forbidden pattern found: '
        assert "test_module.py" in result or "No related" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L201`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "path" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '        assert "Related files" in result or "No related" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L57`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L67`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L77`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L94`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L103`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L135`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L144`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L153`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L161`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L174`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L183`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L191`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L200`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/tool_handlers/test_terminal_handlers.py`** (45 violations)

- ğŸ”µ **single-responsibility-modules** at `L32`
  - Class 'TestCompleteHandler' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L117`
  - Class 'TestCannotFixHandler' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L179`
  - Class 'TestRequestHelpHandler' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L229`
  - Class 'TestPlanFixHandler' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert "COMPLETE" in result
        assert "completed" in result.lower()

    def test_complete_with_summary(self):
        """Complete with custom summary."""
        handler = create_complete_handler()

        result = handler({"summary": "Fixed the bug in module.py"})

        assert "COMPLETE" in result
        assert "Fixed the bug" in result

    def test_complete_with_files_modified(self):
        """Complete shows modified files."""
        handler = create_complete_handler()

        result = handler({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '
        assert "COMPLETE" in result
        assert "a.py" in result
        assert "b.py" in result

    def test_complete_with_context_files(self):
        """Complete uses context for files."""
        handler = create_complete_handler()

        result = handler({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert "COMPLETE" in result
        assert "c.py" in result


class TestEscalateHandler:
    """Tests for escalate handler."""

    def test_escalate_basic(self):
        """Escalate with reason."""
        handler = create_escalate_handler()

        result = handler({"reason": "Need human review"})

        assert "ESCALATE" in result
        assert "human review" in result.lower()

    def test_escalate_with_priority(self):
        """Escalate includes priority."""
        handler = create_escalate_handler()

        result = handler({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert "ESCALATE" in result
        assert "high" in result.lower()

    def test_escalate_with_suggestions(self):
        """Escalate includes suggestions."""
        handler = create_escalate_handler()

        result = handler({'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert "ESCALATE" in result
        assert "approach A" in result
        assert "option B" in result


class TestCannotFixHandler:
    """Tests for cannot_fix handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert "CANNOT_FIX" in result
        assert "ESC-" in result

        # Check file was created
        escalations = list((temp_project / ".agentforge" / "escalations").glob("ESC-*.yaml"))
        assert len(escalations) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L151`
  - Forbidden pattern found: '
        assert data["reason"] == "Test reason"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '        assert data["violation_id"] == "V-002"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "reason" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L173`
  - Forbidden pattern found: '
        assert "CANNOT_FIX" in result
        assert "Frozen interface" in result
        assert "Breaking change" in result


class TestRequestHelpHandler:
    """Tests for request_help handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert "HELP_REQUESTED" in result
        assert "Which approach" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '
        assert "HELP_REQUESTED" in result
        assert "Option A" in result
        assert "Option B" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "question" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '        assert len(help_files) == 1


class TestPlanFixHandler:
    """Tests for plan_fix handler."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
        assert "PLAN_RECORDED" in result
        assert "Extract helper" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L252`
  - Forbidden pattern found: '
        assert "PLAN_RECORDED" in result
        assert "Step 1" in result
        assert "Step 2" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L262`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "approach" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '
        assert "PLAN_RECORDED" in result
        assert "..." in result  # Truncation indicator
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L22`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L39`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L48`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L57`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L86`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L95`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L124`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L160`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L169`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L186`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L198`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L211`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L236`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L248`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L261`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L272`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L150`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/harness/tool_handlers/test_types.py`** (17 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestValidatePathSecurity' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **prefer-pytest-raises** at `L92`
  - Forbidden pattern found: 'try:
            symlink.symlink_to(outside_dir)
        except OSError:
            pytest.skip("Cannot create symlinks on this platform")

        resolved, error = validate_path_security("escape/secret.txt", tmp_path)

        assert error is not None
        assert "escapes project directory" in error

    def test_absolute_path_outside_allowed(self, tmp_path):
        """Absolute path outside base directory is allowed (explicit paths trusted).

        Note: Absolute paths are trusted since the caller explicitly provided
        them. The security protection is primarily for relative paths that
        could use .. to escape the project directory.
        """
        # /etc/passwd exists on most Unix systems
        resolved, error = validate_path_security("/etc/passwd", tmp_path)

        # Allowed but file may not exist on all systems
        # If file exists, no error; if not, "not found" error
        if resolved.exists():
            assert error is None
        else:
            assert error is not None
            assert "not found" in error.lower()

    def test_path_with_valid_dots(self, tmp_path):
        """Path with .. that stays inside is allowed."""
        (tmp_path / "src").mkdir()
        (tmp_path / "lib").mkdir()
        test_file = tmp_path / "lib" / "module.py"
        test_file.write_text("# test")

        resolved, error = validate_path_security("src/../lib/module.py", tmp_path)

        assert error is None
        assert resolved == test_file


class TestActionHandler:
    """Tests for ActionHandler type."""

    def test_handler_is_callable_type(self):
        """ActionHandler is a callable type."""
        from typing import Any

        # ActionHandler should accept Dict[str, Any] and return str
        def my_handler(params: dict[str, Any]) -> str:
            return "result"

        # This is a type check - the function should be compatible
        handler: ActionHandler = my_handler
        assert callable(handler)
        assert'
  - ğŸ’¡ *Use: with pytest.raises(ExceptionType):*
- ğŸ”µ **no-bare-assert** at `L29`
  - Forbidden pattern found: '
        assert error is None
        assert resolved == test_file
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '
        assert error is None
        assert resolved == test_file
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert error is not None
        assert "escapes project directory" in error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L55`
  - Forbidden pattern found: '
        assert error is not None
        assert "escapes project directory" in error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert error is not None
        assert "not found" in error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '
        assert error is None
        assert resolved == tmp_path / "new_file.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '
        assert error is None
        assert resolved == tmp_path / "new_dir" / "new_file.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L98`
  - Forbidden pattern found: '
        assert error is not None
        assert "escapes project directory" in error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '            assert error is None
        else:
            assert error is not None
            assert "not found" in error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '
        assert error is None
        assert resolved == test_file


class TestActionHandler:
    """Tests for ActionHandler type."""

    def test_handler_is_callable_type(self):
        """ActionHandler is a callable type."""
        from typing import Any
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '        assert callable(handler)
        assert handler({"key": "value"}) == "result"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/harness/tool_handlers/test_verify_handlers.py`** (26 violations)

- ğŸ”µ **single-responsibility-modules** at `L149`
  - Class 'TestValidatePythonHandler' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L90`
  - Forbidden pattern found: '        assert "CHECK" in result or "ERROR" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '        assert "TEST" in result or "ERROR" in result or "PASSED" in result or "FAILED" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '
        assert "PASSED" in result or "OK" in result
        assert "Syntax" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '
        assert "SYNTAX ERROR" in result or "SyntaxError" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "not found" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "Python" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L195`
  - Forbidden pattern found: '
        assert "ERROR" in result
        assert "path" in result.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L46`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L96`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L104`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L121`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L132`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L140`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L156`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L165`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L173`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L194`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L208`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/llm/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/llm/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_client.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_client.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_client.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_factory.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_factory.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_factory.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_interface.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_interface.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_interface.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_recording.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_recording.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_recording.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_simulated.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_simulated.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_simulated.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/__pycache__/test_tools.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/llm/__pycache__/test_tools.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/llm/test_client.py`** (12 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **no-bare-assert** at `L21`
  - Forbidden pattern found: '        assert AnthropicLLMClient is not None

    def test_client_requires_api_key(self):
        """Client should require API key for real mode."""
        from agentforge.core.llm.client import AnthropicLLMClient
        # This tests that the client class exists and has expected signature
        # Actual API testing requires mock or integration tests'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **cli-tests-use-runner** at `file`
  - Required pattern not found: '(CliRunner|invoke\s*\()'
  - ğŸ’¡ *Use CliRunner for testing: from click.testing import CliRunner*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/llm/test_factory.py`** (19 violations)

- ğŸ”µ **single-responsibility-modules** at `L36`
  - Class 'TestLLMClientFactorySimulated' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L215`
  - Class 'TestLLMClientFactoryHelpers' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L26`
  - Forbidden pattern found: '        assert LLMClientMode.REAL.value == "real"
        assert LLMClientMode.SIMULATED.value == "simulated"
        assert LLMClientMode.RECORD.value == "record"
        assert LLMClientMode.PLAYBACK.value == "playback"

    def test_string_subclass(self):
        """LLMClientMode should work as string."""
        assert LLMClientMode.SIMULATED == "simulated"


class TestLLMClientFactorySimulated:
    """Tests for factory in simulated mode."""

    def test_create_simulated_explicit(self):
        """Factory should create simulated client with explicit mode."""
        client = LLMClientFactory.create(mode="simulated")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L70`
  - Forbidden pattern found: '            assert response.content == "From script"

    def test_simulated_script_from_env(self):
        """Factory should read script path from environment."""
        script = {"responses": [{"content": "Env script"}]}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '                assert response.content == "Env script"

    def test_missing_script_raises(self):
        """Factory should raise when script file not found."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
        assert r1.content == "Response 1"
        assert r2.tool_calls[0].name == "test"

    def test_create_with_script_data(self):
        """create_for_testing should accept full script format."""
        client = LLMClientFactory.create_for_testing(script_data={'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '        assert response.content == "Step one"

    def test_create_empty(self):
        """create_for_testing with no args should create default client."""
        client = LLMClientFactory.create_for_testing()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '        assert response is not None


class TestLLMClientFactoryPlayback:
    """Tests for factory in playback mode."""

    def test_playback_loads_recording(self):
        """Factory should load recording file for playback."""
        recording = {
            "responses": ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '            assert response.content == "Recorded response"

    def test_playback_missing_path_raises(self):
        """Factory should raise when recording path missing."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '
            assert LLMClientFactory.get_current_mode() == "real"

    def test_get_current_mode_from_env(self):
        """get_current_mode should read from environment."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L228`
  - Forbidden pattern found: '            assert LLMClientFactory.get_current_mode() == "simulated"

    def test_is_simulated_true(self):
        """is_simulated should return True for simulated/playback."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '            assert LLMClientFactory.is_simulated() is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '            assert LLMClientFactory.is_simulated() is True

    def test_is_simulated_false(self):
        """is_simulated should return False for real/record."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '            assert LLMClientFactory.is_simulated() is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '            assert LLMClientFactory.is_simulated() is False


class TestLLMClientFactoryValidation:
    """Tests for factory input validation."""

    def test_invalid_mode_raises(self):
        """Factory should raise for invalid mode."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/llm/test_interface.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L85`
  - Class 'TestLLMResponse' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L187`
  - Class 'TestThinkingConfig' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '
        assert tc.id == "call_123"
        assert tc.name == "read_file"
        assert tc.input == {"path": "/src/main.py"}

    def test_repr(self):
        """ToolCall should have informative repr."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '
        assert "ToolCall" in repr_str
        assert "test" in repr_str


class TestToolResult:
    """Tests for ToolResult dataclass."""

    def test_success_result(self):
        """ToolResult should capture successful execution."""
        result = ToolResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '
        assert result.tool_use_id == "call_123"
        assert result.content == "File contents here"
        assert result.is_error is False

    def test_error_result(self):
        """ToolResult should capture error state."""
        result = ToolResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert result.is_error is True

    def test_to_message_content(self):
        """to_message_content should produce Anthropic API format."""
        result = ToolResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
        assert msg["type"] == "tool_result"
        assert msg["tool_use_id"] == "call_789"
        assert msg["content"] == "Success"
        assert msg["is_error"] is False


class TestLLMResponse:
    """Tests for LLMResponse dataclass."""

    def test_basic_response(self):
        """LLMResponse should store content and metadata."""
        response = LLMResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '        assert response.tool_calls == []
        assert response.stop_reason == StopReason.END_TURN

    def test_has_tool_calls_true(self):
        """has_tool_calls should return True when tools present."""
        response = LLMResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '
        assert response.has_tool_calls is True

    def test_has_tool_calls_false(self):
        """has_tool_calls should return False when no tools."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '
        assert response.has_tool_calls is False

    def test_get_first_tool_call(self):
        """get_first_tool_call should return first tool or None."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '
        assert with_tools.get_first_tool_call() == tc1
        assert without_tools.get_first_tool_call() is None

    def test_total_tokens(self):
        """total_tokens should sum input and output tokens."""
        response = LLMResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '
        assert response.total_tokens == 150

    def test_thinking_storage(self):
        """LLMResponse should store thinking content."""
        response = LLMResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L147`
  - Forbidden pattern found: '
        assert response.thinking == "Let me think about this..."


class TestToolDefinition:
    """Tests for ToolDefinition dataclass."""

    def test_basic_definition(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '
        assert tool.name == "read_file"
        assert tool.description == "Read contents of a file"
        assert "path" in tool.input_schema["properties"]

    def test_to_api_format(self):
        """to_api_format should produce Anthropic API format."""
        tool = ToolDefinition('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L181`
  - Forbidden pattern found: '
        assert api_format["name"] == "test_tool"
        assert api_format["description"] == "A test tool"
        assert api_format["input_schema"] == {"type": "object"}


class TestThinkingConfig:
    """Tests for ThinkingConfig dataclass."""

    def test_defaults(self):
        """ThinkingConfig should have sensible defaults."""
        config = ThinkingConfig()

        assert config.enabled is False
        assert config.budget_tokens == 8000

    def test_enabled_config(self):
        """ThinkingConfig should store enabled state and budget."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L200`
  - Forbidden pattern found: '
        assert config.enabled is True
        assert config.budget_tokens == 10000

    def test_to_api_format_disabled(self):
        """to_api_format should return None when disabled."""
        config = ThinkingConfig(enabled=False)

        assert config.to_api_format() is None

    def test_to_api_format_enabled(self):
        """to_api_format should produce API format when enabled."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '
        assert api_format["type"] == "enabled"
        assert api_format["budget_tokens"] == 12000


class TestStopReason:
    """Tests for StopReason enum."""

    def test_enum_values(self):
        """StopReason should have expected values."""
        assert StopReason.END_TURN.value == "end_turn"
        assert StopReason.TOOL_USE.value == "tool_use"
        assert StopReason.MAX_TOKENS.value == "max_tokens"
        assert StopReason.STOP_SEQUENCE.value == "stop_sequence"

    def test_string_subclass(self):
        """StopReason should be usable as string comparison."""
        reason = StopReason.TOOL_USE

        # Can compare directly to string
        assert reason == "tool_use"
        # Value is accessible
        assert reason.value == "tool_use"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L49`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L61`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L71`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/llm/test_recording.py`** (11 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **no-bare-assert** at `L19`
  - Forbidden pattern found: '        assert RecordingLLMClient is not None

    def test_recording_client_has_expected_methods(self):
        """Recording client should have expected interface methods."""
        from agentforge.core.llm.recording import RecordingLLMClient'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L8`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/llm/test_simulated.py`** (31 violations)

- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'TestSimulatedResponse' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L84`
  - Class 'TestScriptedResponseStrategy' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L204`
  - Class 'TestPatternMatchingStrategy' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L256`
  - Class 'TestSimulatedLLMClient' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '
        assert response.content == ""
        assert response.tool_calls == []
        assert response.thinking is None
        assert response.stop_reason == "end_turn"

    def test_with_tool_calls(self):
        """SimulatedResponse should store tool calls."""
        response = SimulatedResponse(
            tool_calls=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert len(response.tool_calls) == 1
        assert response.tool_calls[0]["name"] == "read_file"

    def test_to_llm_response_text_only(self):
        """to_llm_response should convert text response."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '
        assert response.content == "Hello"
        assert response.stop_reason == StopReason.END_TURN
        assert response.tool_calls == []

    def test_to_llm_response_with_tools(self):
        """to_llm_response should convert tool calls."""
        sim = SimulatedResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert response.stop_reason == StopReason.TOOL_USE
        assert len(response.tool_calls) == 1
        assert response.tool_calls[0].name == "write_file"
        assert response.tool_calls[0].input["path"] == "x.py"
        assert response.tool_calls[0].id == "sim_1_0"

    def test_to_llm_response_with_thinking(self):
        """to_llm_response should include thinking content."""
        sim = SimulatedResponse('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '
        assert response.thinking == "Let me analyze this..."


class TestScriptedResponseStrategy:
    """Tests for ScriptedResponseStrategy."""

    def test_from_script_data(self):
        """Strategy should load from script dict."""
        script = {
            "responses": ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert r1.content == "First response"
        assert r2.content == "Second response"

    def test_from_yaml_file(self):
        """Strategy should load from YAML file."""
        script = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
            assert len(response.tool_calls) == 1
            assert response.tool_calls[0]["name"] == "test"

    def test_exhausted_script(self):
        """Strategy should return completion when script exhausted."""
        strategy = ScriptedResponseStrategy(script_data={"responses": []})
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert "complete" in [tc["name"] for tc in response.tool_calls]

    def test_reset(self):
        """reset should replay script from beginning."""
        strategy = ScriptedResponseStrategy(
            script_data={
                "responses": ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '        assert response.content == "First"

    def test_remaining_responses(self):
        """remaining_responses should track progress."""
        strategy = ScriptedResponseStrategy(
            script_data={
                "responses": ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '
        assert strategy.remaining_responses == 3'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '        assert strategy.remaining_responses == 2


class TestSequentialStrategy:
    """Tests for SequentialStrategy."""

    def test_returns_in_order(self):
        """Strategy should return responses in sequence."""
        responses = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L189`
  - Forbidden pattern found: '
        assert "complete" in [tc["name"] for tc in response.tool_calls]

    def test_reset(self):
        """reset should replay from beginning."""
        strategy = SequentialStrategy(['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert response.content == "Error detected!"

    def test_default_when_no_match(self):
        """Strategy should use default when no patterns match."""
        strategy = PatternMatchingStrategy()
        strategy.add_pattern('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '
        assert "escalate" in [tc["name"] for tc in response.tool_calls]

    def test_custom_default(self):
        """set_default should override default response."""
        strategy = PatternMatchingStrategy()
        strategy.set_default(SimulatedResponse(content="Custom default"))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '
        assert response.content == "Custom default"

    def test_chaining(self):
        """Methods should support chaining."""
        strategy = (
            PatternMatchingStrategy()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert response.content == "Default response"

    def test_with_strategy(self):
        """Client should use strategy for responses."""
        strategy = SequentialStrategy(['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '
        assert response.content == "From strategy"

    def test_usage_tracking(self):
        """Client should track usage statistics."""
        client = SimulatedLLMClient()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L291`
  - Forbidden pattern found: '        assert stats["call_count"] == 2
        assert stats["total_input_tokens"] == 200  # 100 per call

    def test_call_history(self):
        """Client should record call history."""
        client = SimulatedLLMClient()

        client.complete('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L305`
  - Forbidden pattern found: '        assert len(history) == 1
        assert history[0]["system"] == "Test prompt"
        assert history[0]["tools"] == ["test"]

    def test_reset(self):
        """reset should clear all state."""
        strategy = SequentialStrategy(['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L319`
  - Forbidden pattern found: '
        assert client.get_usage_stats()["call_count"] == 0
        assert client.get_call_history() == []'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L329`
  - Forbidden pattern found: '
        assert "no strategy configured" in response.content.lower()


class TestCreateSimpleClient:
    """Tests for create_simple_client helper function."""

    def test_creates_working_client(self):
        """Helper should create functional client."""
        client = create_simple_client(['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L345`
  - Forbidden pattern found: '
        assert r1.content == "Response 1"
        assert r2.tool_calls[0].name == "test"

    def test_with_thinking(self):
        """Helper should support thinking field."""
        client = create_simple_client(['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '
        assert response.thinking == "Let me think..."
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/llm/test_tools.py`** (20 violations)

- ğŸ”µ **single-responsibility-modules** at `L45`
  - Class 'TestToolDefinitions' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L135`
  - Class 'TestToolCollections' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L183`
  - Class 'TestGetToolsForTask' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L294`
  - Class 'TestGetToolsByCategory' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L328`
  - Class 'TestListFunctions' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L50`
  - Forbidden pattern found: '        assert READ_FILE.name == "read_file"
        assert "path" in READ_FILE.input_schema["properties"]
        assert "path" in READ_FILE.input_schema["required"]

    def test_write_file_has_valid_schema(self):
        """WRITE_FILE tool has valid input schema."""
        assert WRITE_FILE.name == "write_file"
        props = WRITE_FILE.input_schema["properties"]
        assert "path" in props
        assert "content" in props'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '        assert EDIT_FILE.name == "edit_file"
        props = EDIT_FILE.input_schema["properties"]
        assert "start_line" in props
        assert "end_line" in props
        assert "new_content" in props

    def test_complete_has_valid_schema(self):
        """COMPLETE tool has valid input schema."""
        assert COMPLETE.name == "complete"
        assert "summary" in COMPLETE.input_schema["properties"]
        assert "summary" in COMPLETE.input_schema["required"]

    def test_escalate_has_valid_schema(self):
        """ESCALATE tool has valid input schema."""
        assert ESCALATE.name == "escalate"
        assert "reason" in ESCALATE.input_schema["properties"]
        assert "reason" in ESCALATE.input_schema["required"]

    def test_extract_function_has_valid_schema(self):
        """EXTRACT_FUNCTION tool has valid input schema."""
        assert EXTRACT_FUNCTION.name == "extract_function"
        props = EXTRACT_FUNCTION.input_schema["properties"]
        assert "file_path" in props
        assert "source_function" in props
        assert "start_line" in props
        assert "end_line" in props
        assert "new_function_name" in props

    def test_run_check_has_valid_schema(self):
        """RUN_CHECK tool has valid input schema."""
        assert RUN_CHECK.name == "run_check"
        # run_check has optional parameters'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '            assert "name" in api_format
            assert "description" in api_format
            assert "input_schema" in api_format
            assert api_format["name"] == tool.name


class TestToolCollections:
    """Tests for tool collection constants."""

    def test_base_tools_contains_essential_tools(self):
        """BASE_TOOLS contains essential tools for all tasks."""
        base_names = {t.name for t in BASE_TOOLS}
        assert "read_file" in base_names
        assert "write_file" in base_names
        assert "complete" in base_names
        assert "escalate" in base_names

    def test_refactoring_tools_contains_refactoring_tools(self):
        """REFACTORING_TOOLS contains refactoring-specific tools."""
        refactor_names = {t.name for t in REFACTORING_TOOLS}
        assert "extract_function" in refactor_names
        assert "simplify_conditional" in refactor_names
        assert "run_check" in refactor_names

    def test_discovery_tools_contains_analysis_tools(self):
        """DISCOVERY_TOOLS contains analysis-specific tools."""
        discovery_names = {t.name for t in DISCOVERY_TOOLS}
        assert "analyze_dependencies" in discovery_names
        assert "detect_patterns" in discovery_names
        assert "map_structure" in discovery_names

    def test_testing_tools_contains_test_tools(self):
        """TESTING_TOOLS contains test-specific tools."""
        testing_names = {t.name for t in TESTING_TOOLS}
        assert "generate_test" in testing_names
        assert "run_single_test" in testing_names

    def test_review_tools_contains_review_tools(self):
        """REVIEW_TOOLS contains code review tools."""
        review_names = {t.name for t in REVIEW_TOOLS}
        assert "analyze_diff" in review_names
        assert "add_review_comment" in review_names
        assert "generate_review_summary" in review_names

    def test_no_duplicate_tool_names(self):
        """No duplicate tool names across collections."""
        all_tools = (
            BASE_TOOLS + REFACTORING_TOOLS + DISCOVERY_TOOLS +
            TESTING_TOOLS + REVIEW_TOOLS
        )
        names = [t.name for t in all_tools]'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L191`
  - Forbidden pattern found: '        assert "read_file" in names
        assert "write_file" in names
        assert "complete" in names
        # Refactoring tools
        assert "extract_function" in names
        assert "run_check" in names

    def test_implement_feature_includes_base_and_testing(self):
        """implement_feature task includes base and testing tools."""
        tools = get_tools_for_task("implement_feature")
        names = {t.name for t in tools}
        # Base tools
        assert "read_file" in names
        assert "write_file" in names
        # Testing tools
        assert "generate_test" in names
        assert "run_single_test" in names
        # Should NOT include refactoring-only tools
        assert "extract_function" not in names

    def test_write_tests_includes_testing_tools(self):
        """write_tests task includes testing-specific tools."""
        tools = get_tools_for_task("write_tests")
        names = {t.name for t in tools}
        assert "generate_test" in names
        assert "run_single_test" in names

    def test_discovery_includes_analysis_tools(self):
        """discovery task includes analysis tools."""
        tools = get_tools_for_task("discovery")
        names = {t.name for t in tools}
        assert "analyze_dependencies" in names
        assert "detect_patterns" in names
        assert "map_structure" in names'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '        assert "write_file" not in names

    def test_bridge_includes_discovery_and_mapping(self):
        """bridge task includes discovery and mapping tools."""
        tools = get_tools_for_task("bridge")
        names = {t.name for t in tools}
        assert "analyze_dependencies" in names
        assert "create_mapping" in names

    def test_code_review_includes_review_tools(self):
        """code_review task includes review-specific tools."""
        tools = get_tools_for_task("code_review")
        names = {t.name for t in tools}
        assert "analyze_diff" in names
        assert "add_review_comment" in names
        assert "generate_review_summary" in names
        # Code review is read-only
        assert "write_file" not in names

    def test_refactor_includes_refactoring_tools(self):
        """refactor task includes refactoring tools."""
        tools = get_tools_for_task("refactor")
        names = {t.name for t in tools}
        assert "extract_function" in names
        assert "inline_function" in names
        assert "rename_symbol" in names

    def test_unknown_task_type_raises_error(self):
        """Unknown task type raises ValueError."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '        assert tool.name == "read_file"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '        assert tool.name == "extract_function"

    def test_unknown_tool_raises_key_error(self):
        """Unknown tool name raises KeyError."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '        assert tools == BASE_TOOLS

    def test_get_refactoring_category(self):
        """Can retrieve refactoring category tools."""
        tools = get_tools_by_category("refactoring")
        assert tools == REFACTORING_TOOLS

    def test_get_discovery_category(self):
        """Can retrieve discovery category tools."""
        tools = get_tools_by_category("discovery")
        assert tools == DISCOVERY_TOOLS

    def test_get_testing_category(self):
        """Can retrieve testing category tools."""
        tools = get_tools_by_category("testing")
        assert tools == TESTING_TOOLS

    def test_get_review_category(self):
        """Can retrieve review category tools."""
        tools = get_tools_by_category("review")
        assert tools == REVIEW_TOOLS

    def test_unknown_category_raises_error(self):
        """Unknown category raises ValueError."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L334`
  - Forbidden pattern found: '        assert "fix_violation" in task_types
        assert "implement_feature" in task_types
        assert "write_tests" in task_types
        assert "refactor" in task_types
        assert "discovery" in task_types
        assert "bridge" in task_types
        assert "code_review" in task_types

    def test_list_task_types_is_sorted(self):
        """list_task_types returns sorted list."""
        task_types = list_task_types()
        assert task_types == sorted(task_types)

    def test_list_all_tools(self):
        """list_all_tools returns all tool names."""
        tools = list_all_tools()
        assert "read_file" in tools
        assert "extract_function" in tools
        assert "analyze_diff" in tools

    def test_list_all_tools_is_sorted(self):
        """list_all_tools returns sorted list."""
        tools = list_all_tools()
        assert tools == sorted(tools)


class TestToolSchemaValidity:
    """Tests for JSON Schema validity of tool input schemas."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L366`
  - Forbidden pattern found: '        assert tool.input_schema["type"] == "object"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L371`
  - Forbidden pattern found: '        assert "properties" in tool.input_schema'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L407`
  - Forbidden pattern found: '
        assert response.has_tool_calls
        assert response.tool_calls[0].name == "read_file"

    def test_tool_api_format_is_valid(self):
        """Tool API format matches Anthropic expected structure."""
        tool = READ_FILE
        api_format = tool.to_api_format()

        # Check required fields for Anthropic API
        assert "name" in api_format
        assert "description" in api_format
        assert "input_schema" in api_format

        # Name should be lowercase with underscores
        assert api_format["name"] == "read_file"

        # Description should be non-empty
        assert len(api_format["description"]) > 0

        # Input schema should be valid
        schema = api_format["input_schema"]
        assert schema["type"] == "object"
        assert "properties" in schema
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/pipeline/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/pipeline/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_artifacts.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_artifacts.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_artifacts.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_config.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_config.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_config.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_config_validator.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_config_validator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_config_validator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_controller.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_controller.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_controller.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_controller_api.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_controller_api.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_controller_api.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_discovery_integration.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_discovery_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_discovery_integration.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_escalation.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_escalation.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_escalation.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_llm_stage_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_llm_stage_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_llm_stage_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_module_exports.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_module_exports.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_module_exports.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_stage_executor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_stage_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_stage_executor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_state.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_state_machine_properties.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state_machine_properties.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state_machine_properties.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_state_store.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_state_store.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_types.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/__pycache__/test_validator.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_validator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/__pycache__/test_validator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/conftest.py`** (15 violations)

- ğŸ”µ **single-responsibility-modules** at `L80`
  - Class 'TestExecutor' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-global-fixtures** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L28`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L34`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L44`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L57`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L66`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L73`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L122`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L128`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L134`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L140`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L155`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/pipeline/stages/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/pipeline/stages/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_analyze.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_analyze.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_analyze.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_clarify.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_clarify.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_clarify.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_deliver.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_deliver.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_deliver.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_green.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_green.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_green.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_intake.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_intake.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_intake.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_red.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_red.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_red.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_refactor.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_refactor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_refactor.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_spec.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_spec.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_spec.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/__pycache__/test_stages_init.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_stages_init.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/pipeline/stages/__pycache__/test_stages_init.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/pipeline/stages/conftest.py`** (37 violations)

- ğŸŸ¡ **max-function-length** at `L177`
  - Function 'sample_spec_artifact' has 78 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **no-bare-assert** at `L317`
  - Forbidden pattern found: '        assert "access_token" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L327`
  - Forbidden pattern found: '        assert "access_token" in result
```

### FILE: tests/unit/auth/test_token_manager.py
```python
"""Tests for TokenManager."""
import pytest
from src.auth.token_manager import TokenManager


class TestTokenManager:
    """Unit tests for TokenManager class."""

    def test_store_token(self):
        """Test token storage."""
        manager = TokenManager()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L344`
  - Forbidden pattern found: '        assert manager.get("user_id") is not None
```'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-global-fixtures** at `L16`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L35`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L54`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L84`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L107`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L150`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L176`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L257`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L293`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L309`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L352`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L367`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L389`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L411`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L447`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L488`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L498`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **no-global-fixtures** at `L521`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Specify fixture scope: @pytest.fixture(scope='function')*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L89`
  - Line exceeds 120 characters (121 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **function-size-limit** at `L108`
  - Function 'sample_analyze_artifact' has 40 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L177`
  - Function 'sample_spec_artifact' has 78 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L258`
  - Function 'sample_red_artifact' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L294`
  - Function 'sample_llm_test_generation_response' has 43 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L412`
  - Function 'sample_green_artifact' has 33 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L448`
  - Function 'sample_refactor_artifact' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L522`
  - Function 'temp_git_project' has 45 lines (max: 30)

**`tests/unit/pipeline/stages/test_analyze.py`** (25 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestAnalyzeExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert len(result.artifacts["affected_files"]) > 0
        assert len(result.artifacts["components"]) > 0

    def test_defines_required_tools(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '
        assert "search_code" in tool_names
        assert "read_file" in tool_names
        assert "find_related" in tool_names
        assert "submit_analysis" in tool_names

    def test_produces_affected_files_list('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert "affected_files" in result.artifacts
        assert len(result.artifacts["affected_files"]) > 0
        assert result.artifacts["affected_files"][0]["path"] == "file1.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '
        assert "components" in result.artifacts
        assert len(result.artifacts["components"]) > 0
        assert result.artifacts["components"][0]["name"] == "AuthHandler"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L196`
  - Forbidden pattern found: '
        assert "risks" in result.artifacts
        assert len(result.artifacts["risks"]) > 0
        assert result.artifacts["risks"][0]["severity"] == "high"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '        assert result.artifacts.get("request_id") is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("analysis" in e.lower() for e in validation.errors)

    def test_carries_forward_requirements('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L316`
  - Forbidden pattern found: '        assert "clarified_requirements" in result.artifacts


class TestCreateAnalyzeExecutor:
    """Tests for create_analyze_executor factory function."""

    def test_creates_executor_instance(self):
        """Factory creates AnalyzeExecutor instance."""
        from agentforge.core.pipeline.stages.analyze import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '        assert executor.config.get("max_files_to_read") == 30
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L16`
  - Function 'test_uses_submit_analysis_tool' has 46 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L79`
  - Function 'test_produces_affected_files_list' has 34 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L118`
  - Function 'test_produces_components_list' has 36 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L159`
  - Function 'test_identifies_risks' has 37 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L61`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L112`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L153`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L195`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L224`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L260`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L313`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_clarify.py`** (21 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestClarifyExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["ready_for_analysis"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '        assert result.needs_escalation() or result.status == StageStatus.COMPLETED
        if result.needs_escalation():'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert "Google" in result.artifacts["clarified_requirements"]

    def test_handles_feedback_as_answers('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert result.artifacts.get("ready_for_analysis") is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        # Passthrough should carry forward key fields
        assert result.artifacts["request_id"] == sample_intake_artifact["request_id"]
        assert "clarified_requirements" in result.artifacts
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L213`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("clarified_requirements" in e for e in validation.errors)

    def test_carries_forward_request_id('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L234`
  - Forbidden pattern found: '
        assert (
            result.artifacts["request_id"] == sample_intake_artifact["request_id"]
        )
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '        assert len(validation.warnings) >= 1 or not validation.valid


class TestCreateClarifyExecutor:
    """Tests for create_clarify_executor factory function."""

    def test_creates_executor_instance(self):
        """Factory creates ClarifyExecutor instance."""
        from agentforge.core.pipeline.stages.clarify import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '        assert executor.max_clarification_rounds == 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L68`
  - Function 'test_incorporates_answers_into_requirements' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L36`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L61`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L193`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L233`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L103`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L173`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_deliver.py`** (68 violations)

- ğŸ”µ **single-responsibility-modules** at `L14`
  - Class 'TestDeliveryMode' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L42`
  - Class 'TestDeliverPhaseExecutor' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L76`
  - Class 'TestDeliverPhaseConfiguration' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L115`
  - Class 'TestDeliverPhaseDeliveryModes' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L238`
  - Class 'TestDeliverPhaseCommitDelivery' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L390`
  - Class 'TestDeliverPhasePRDelivery' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L601`
  - Class 'TestDeliverPhaseSummaryGeneration' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 71 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 71 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 71 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L20`
  - Forbidden pattern found: '
        assert DeliveryMode.COMMIT == "commit"

    def test_delivery_mode_pr_value(self):
        """DeliveryMode.PR has correct value."""
        from agentforge.core.pipeline.stages.deliver import DeliveryMode

        assert DeliveryMode.PR == "pr"

    def test_delivery_mode_files_value(self):
        """DeliveryMode.FILES has correct value."""
        from agentforge.core.pipeline.stages.deliver import DeliveryMode

        assert DeliveryMode.FILES == "files"

    def test_delivery_mode_patch_value(self):
        """DeliveryMode.PATCH has correct value."""
        from agentforge.core.pipeline.stages.deliver import DeliveryMode

        assert DeliveryMode.PATCH == "patch"


class TestDeliverPhaseExecutor:
    """Tests for DeliverPhaseExecutor class."""

    def test_stage_name_is_deliver(self):
        """DeliverPhaseExecutor has stage_name 'deliver'."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()
        assert executor.stage_name == "deliver"

    def test_artifact_type_is_deliverable(self):
        """DeliverPhaseExecutor has artifact_type 'deliverable'."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()
        assert executor.artifact_type == "deliverable"

    def test_required_input_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '        assert "spec_id" in executor.required_input_fields
        assert "final_files" in executor.required_input_fields

    def test_output_fields(self):
        """DeliverPhaseExecutor outputs expected fields."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()
        assert "spec_id" in executor.output_fields
        assert "deliverable_type" in executor.output_fields


class TestDeliverPhaseConfiguration:
    """Tests for DELIVER phase configuration."""

    def test_default_delivery_mode_is_commit(self):
        """Default delivery mode is commit."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '        assert executor.delivery_mode == DeliveryMode.COMMIT

    def test_delivery_mode_from_config(self):
        """Delivery mode can be set from config."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L91`
  - Forbidden pattern found: '        assert executor.delivery_mode == DeliveryMode.PR

    def test_auto_commit_default_false(self):
        """Auto commit defaults to False."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()
        assert executor.auto_commit is False

    def test_auto_commit_from_config(self):
        """Auto commit can be set from config."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor({"auto_commit": True})
        assert executor.auto_commit is True

    def test_branch_prefix_from_config(self):
        """Branch prefix can be set from config."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor({"branch_prefix": "fix/"})
        assert executor.branch_prefix == "fix/"


class TestDeliverPhaseDeliveryModes:
    """Tests for DELIVER phase delivery modes."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["deliverable_type"] == "commit"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["deliverable_type"] == "pr"
        assert result.artifacts["pr_url"] == "https://github.com/test/pr/1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["deliverable_type"] == "files"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["deliverable_type"] == "patch"
        assert "patch_file" in result.artifacts
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '
        assert result.status == StageStatus.FAILED
        assert "unknown" in result.error.lower()


class TestDeliverPhaseCommitDelivery:
    """Tests for DELIVER phase commit delivery."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L248`
  - Forbidden pattern found: '
        assert "feat:" in message
        assert sample_refactor_artifact["spec_id"] in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
        assert "SPEC-" in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert "Files modified" in message or "file" in message.lower()

    def test_commit_message_truncates_long_title(self):
        """Commit message truncates long title."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L288`
  - Forbidden pattern found: '        assert len(first_line) < 60
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '
        assert len(staged) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '
        assert mock_commit.called
        assert result.artifacts["commit_sha"] == "abc123"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L363`
  - Forbidden pattern found: '
        assert result.artifacts["commit_sha"] is None
        assert result.artifacts["status"] == "staged"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L385`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["status"] == "no_changes"


class TestDeliverPhasePRDelivery:
    """Tests for DELIVER phase PR delivery."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L411`
  - Forbidden pattern found: '
        assert result is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L438`
  - Forbidden pattern found: '        assert len(push_calls) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L461`
  - Forbidden pattern found: '
        assert pr_url == "https://github.com/test/pr/1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L482`
  - Forbidden pattern found: '
        assert pr_url is None


class TestDeliverPhasePatchDelivery:
    """Tests for DELIVER phase patch delivery."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L509`
  - Forbidden pattern found: '
        assert "diff" in patch_content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L530`
  - Forbidden pattern found: '
        assert "patch_file" in result.artifacts
        assert Path(result.artifacts["patch_file"]).exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L554`
  - Forbidden pattern found: '        assert "SPEC-" in patch_file.upper() or "spec" in patch_file.lower()


class TestDeliverPhaseFilesDelivery:
    """Tests for DELIVER phase files delivery."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L579`
  - Forbidden pattern found: '        assert result.status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L596`
  - Forbidden pattern found: '
        assert "files_modified" in result.artifacts
        assert len(result.artifacts["files_modified"]) > 0


class TestDeliverPhaseSummaryGeneration:
    """Tests for DELIVER phase summary generation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L611`
  - Forbidden pattern found: '
        assert "Delivery Summary" in summary or "##" in summary
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L621`
  - Forbidden pattern found: '
        assert sample_refactor_artifact["spec_id"] in summary
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L631`
  - Forbidden pattern found: '
        assert "Files" in summary or "file" in summary.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L641`
  - Forbidden pattern found: '
        assert "Test" in summary or "passed" in summary.lower()


class TestDeliverPhaseGitOperations:
    """Tests for DELIVER phase git operations."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L674`
  - Forbidden pattern found: '
        assert len(staged) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L699`
  - Forbidden pattern found: '        assert staged == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L722`
  - Forbidden pattern found: '
        assert sha == "abc123def456"


class TestDeliverPhaseValidation:
    """Tests for DELIVER phase artifact validation."""

    def test_validates_deliverable_type_present(self):
        """Validates that deliverable_type is present."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L743`
  - Forbidden pattern found: '
        assert not validation.valid

    def test_validates_files_modified_present(self):
        """Validates that files_modified is present."""
        from agentforge.core.pipeline.stages.deliver import DeliverPhaseExecutor

        executor = DeliverPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L762`
  - Forbidden pattern found: '        assert not validation.valid or len(validation.warnings) > 0


class TestDeliverPhaseEdgeCases:
    """Tests for DELIVER phase edge cases."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L790`
  - Forbidden pattern found: '        assert result.status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L817`
  - Forbidden pattern found: '        assert "file1.py" in summary or "Files" in summary
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L839`
  - Forbidden pattern found: '        assert staged == []


class TestCreateDeliverExecutor:
    """Tests for factory function."""

    def test_creates_executor_instance(self):
        """Factory creates DeliverPhaseExecutor instance."""
        from agentforge.core.pipeline.stages.deliver import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L866`
  - Forbidden pattern found: '
        assert executor.delivery_mode == DeliveryMode.PR
        assert executor.auto_commit is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 71 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L189`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L232`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L595`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L787`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L211`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L362`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L384`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L410`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L529`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L551`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L575`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L138`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L337`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L169`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_green.py`** (37 violations)

- ğŸ”µ **single-responsibility-modules** at `L14`
  - Class 'TestGreenPhaseExecutor' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L59`
  - Class 'TestGreenPhaseTools' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L167`
  - Class 'TestGreenPhaseCompletion' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L20`
  - Forbidden pattern found: '        assert executor.stage_name == "green"

    def test_artifact_type_is_implementation(self):
        """GreenPhaseExecutor has artifact_type 'implementation'."""
        executor = GreenPhaseExecutor()
        assert executor.artifact_type == "implementation"

    def test_required_input_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '        assert "spec_id" in executor.required_input_fields
        assert "test_files" in executor.required_input_fields
        assert "failing_tests" in executor.required_input_fields

    def test_output_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert "spec_id" in executor.output_fields
        assert "implementation_files" in executor.output_fields
        assert "test_results" in executor.output_fields

    def test_has_max_iterations_config(self):
        """GreenPhaseExecutor has max_iterations configuration."""
        executor = GreenPhaseExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L45`
  - Forbidden pattern found: '        assert executor.max_iterations == 20

    def test_max_iterations_from_config(self):
        """GreenPhaseExecutor uses max_iterations from config."""
        executor = GreenPhaseExecutor({"max_iterations": 10})
        assert executor.max_iterations == 10

    def test_has_test_timeout_config(self):
        """GreenPhaseExecutor has test_timeout configuration."""
        executor = GreenPhaseExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '        assert executor.test_timeout == 120


class TestGreenPhaseTools:
    """Tests for GREEN phase tool definitions."""

    def test_defines_read_file_tool(self):
        """Defines read_file tool."""
        executor = GreenPhaseExecutor()

        tool_names = [t["name"] for t in executor.tools]
        assert "read_file" in tool_names

    def test_defines_write_file_tool(self):
        """Defines write_file tool."""
        executor = GreenPhaseExecutor()

        tool_names = [t["name"] for t in executor.tools]
        assert "write_file" in tool_names

    def test_defines_edit_file_tool(self):
        """Defines edit_file tool."""
        executor = GreenPhaseExecutor()

        tool_names = [t["name"] for t in executor.tools]
        assert "edit_file" in tool_names

    def test_defines_run_tests_tool(self):
        """Defines run_tests tool."""
        executor = GreenPhaseExecutor()

        tool_names = [t["name"] for t in executor.tools]
        assert "run_tests" in tool_names

    def test_defines_complete_implementation_tool(self):
        """Defines complete_implementation tool."""
        executor = GreenPhaseExecutor()

        tool_names = [t["name"] for t in executor.tools]
        assert "complete_implementation" in tool_names


class TestGreenPhaseIteration:
    """Tests for GREEN phase iteration logic."""

    def test_builds_user_message_with_failing_tests('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
        assert "test_authenticate" in message
        assert "test_invalid_code" in message
        assert "test_refresh" in message

    def test_builds_iteration_message(self):
        """Builds message for subsequent iterations."""
        executor = GreenPhaseExecutor()

        test_results = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L139`
  - Forbidden pattern found: '
        assert "Iteration 2" in message
        assert "Passed: 1/3" in message
        assert "Failed: 2/3" in message

    def test_includes_failure_details(self):
        """Iteration message includes failure details."""
        executor = GreenPhaseExecutor()

        test_results = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '
        assert "test_example" in message
        assert "Error:" in message or "ModuleNotFoundError" in message


class TestGreenPhaseCompletion:
    """Tests for GREEN phase completion detection."""

    def test_detects_completion_signal(self):
        """Detects completion signal from tool call."""
        executor = GreenPhaseExecutor()

        result = {
            "tool_results": [
                {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert executor._check_completion(result)

    def test_no_completion_without_signal(self):
        """Returns False when no completion signal."""
        executor = GreenPhaseExecutor()

        result = {
            "tool_results": [
                {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '
        assert not executor._check_completion(result)

    def test_extracts_completion_data(self):
        """Extracts completion data from tool result."""
        executor = GreenPhaseExecutor()

        result = {
            "tool_results": [
                {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L222`
  - Forbidden pattern found: '        assert data["summary"] == "Implemented OAuth"

    def test_extracts_written_files(self):
        """Extracts list of files written during iteration."""
        executor = GreenPhaseExecutor()

        result = {
            "tool_results": [
                {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L249`
  - Forbidden pattern found: '
        assert len(files) == 2
        assert "src/auth/oauth.py" in files
        assert "src/auth/token.py" in files


class TestGreenPhaseTestExecution:
    """Tests for GREEN phase test execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '
        assert results["passed"] == 2
        assert results["failed"] == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '            assert "-k" in call_args
            assert "test_specific" in call_args
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '
        assert "error" in results


class TestGreenPhasePytestParsing:
    """Tests for GREEN phase pytest output parsing."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L353`
  - Forbidden pattern found: '
        assert results["passed"] == 3
        assert len([d for d in results["test_details"] if d["status"] == "passed"]) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L370`
  - Forbidden pattern found: '
        assert results["failed"] == 3
        assert len([d for d in results["test_details"] if d["status"] == "failed"]) == 3


class TestGreenPhaseValidation:
    """Tests for GREEN phase artifact validation."""

    def test_validates_implementation_files_present(self):
        """Validates that implementation files are present."""
        executor = GreenPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L390`
  - Forbidden pattern found: '
        assert not validation.valid
        assert any("implementation" in e.lower() for e in validation.errors)

    def test_validates_all_tests_pass(self):
        """Validates that all tests pass."""
        executor = GreenPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L406`
  - Forbidden pattern found: '
        assert not validation.valid
        assert any("failing" in e.lower() or "tests" in e.lower() for e in validation.errors)

    def test_reports_failing_count(self):
        """Reports number of failing tests in validation."""
        executor = GreenPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L422`
  - Forbidden pattern found: '
        assert any("5" in e for e in validation.errors)


class TestGreenPhaseEdgeCases:
    """Tests for GREEN phase edge cases."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L450`
  - Forbidden pattern found: '        assert "SPEC-123" in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L473`
  - Forbidden pattern found: '        assert "test_one" in message


class TestGreenPhasePrompts:
    """Tests for GREEN phase prompt generation."""

    def test_system_prompt_mentions_tdd(self):
        """System prompt mentions TDD and GREEN phase."""
        executor = GreenPhaseExecutor()

        prompt = executor.SYSTEM_PROMPT

        assert "green" in prompt.lower() or "tdd" in prompt.lower()
        assert "test" in prompt.lower()
        assert "pass" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L502`
  - Forbidden pattern found: '
        assert sample_red_artifact["spec_id"] in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L520`
  - Forbidden pattern found: '        assert "3" in message or "FAILING" in message


class TestCreateGreenExecutor:
    """Tests for factory function."""

    def test_creates_executor_instance(self):
        """Factory creates GreenPhaseExecutor instance."""
        executor = create_green_executor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L537`
  - Forbidden pattern found: '
        assert executor.max_iterations == 15
        assert executor.test_timeout == 60
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L174`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L190`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L206`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L219`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_intake.py`** (27 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestIntakeExecutor' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["request_id"] == "REQ-20260101120000-0001"
        assert result.artifacts["detected_scope"] == "feature_addition"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["detected_scope"] == "bug_fix"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert result.artifacts["detected_scope"] == "feature_addition"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '
        assert result.artifacts["detected_scope"] == "refactoring"

    def test_generates_blocking_questions_for_unclear('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L177`
  - Forbidden pattern found: '
        assert result.artifacts["detected_scope"] == "unclear"
        assert len(result.artifacts["initial_questions"]) >= 1
        blocking = [
            q
            for q in result.artifacts["initial_questions"]
            if q.get("priority") == "blocking"
        ]
        assert len(blocking) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert result1.artifacts["request_id"] != result2.artifacts["request_id"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L248`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("request_id" in e for e in validation.errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("scope" in e.lower() for e in validation.errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '        assert len(validation.warnings) >= 1 or not validation.valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts["detected_scope"] == "unclear"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L339`
  - Forbidden pattern found: '        assert "Python web application" in user_msg


class TestCreateIntakeExecutor:
    """Tests for create_intake_executor factory function."""

    def test_creates_executor_instance(self):
        """Factory creates IntakeExecutor instance."""
        from agentforge.core.pipeline.stages.intake import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L361`
  - Forbidden pattern found: '        assert executor.config.get("custom_setting") is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L16`
  - Function 'test_parses_simple_request' has 32 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L53`
  - Function 'test_detects_bug_fix_scope' has 35 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L145`
  - Function 'test_generates_blocking_questions_for_unclear' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L187`
  - Function 'test_generates_unique_request_ids' has 37 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L88`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L141`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L176`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L308`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_red.py`** (33 violations)

- ğŸ”µ **single-responsibility-modules** at `L14`
  - Class 'TestRedPhaseExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L190`
  - Class 'TestFileBlockExtraction' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L267`
  - Class 'TestPytestOutputParsing' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-assert-true-false** at `L95`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L202`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L95`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L202`
  - Forbidden pattern found: 'assert True'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸ”µ **no-bare-assert** at `L20`
  - Forbidden pattern found: '        assert executor.stage_name == "red"

    def test_artifact_type_is_test_suite(self):
        """RedPhaseExecutor has artifact_type 'test_suite'."""
        executor = RedPhaseExecutor()
        assert executor.artifact_type == "test_suite"

    def test_required_input_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '        assert "spec_id" in executor.required_input_fields
        assert "components" in executor.required_input_fields
        assert "test_cases" in executor.required_input_fields

    def test_output_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert "spec_id" in executor.output_fields
        assert "test_files" in executor.output_fields
        assert "test_results" in executor.output_fields

    def test_generates_test_files_from_spec('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '        assert result.artifacts is not None
        assert "test_files" in result.artifacts

    def test_writes_test_files_to_disk('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '
        assert len(written) == 1
        assert "tests/unit/auth/test_example.py" in written[0]
        assert (temp_project_path / "tests" / "unit" / "auth" / "test_example.py").exists()

    def test_runs_pytest_on_generated_tests('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '
        assert results["failed"] == 3
        assert results["passed"] == 0

    def test_reports_failing_tests('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '
        assert len(validation["failing_tests"]) == 3
        assert "test_one" in validation["failing_tests"]

    def test_warns_on_unexpected_passes(self):
        """Warns when tests pass unexpectedly."""
        executor = RedPhaseExecutor()

        test_results = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '
        assert len(validation["unexpected_passes"]) == 2
        assert len(validation["warnings"]) > 0


class TestFileBlockExtraction:
    """Tests for file block extraction from LLM response."""

    def test_extracts_single_file_block(self):
        """Extracts single file from response."""
        executor = RedPhaseExecutor()

        response_text = '''Here is the test file.

### FILE: tests/test_example.py
```python
def test_example():
    assert True
```
'''

        files = executor._extract_file_blocks(response_text)

        assert len(files) == 1
        assert files[0]["path"] == "tests/test_example.py"
        assert "def test_example" in files[0]["content"]

    def test_extracts_multiple_file_blocks(self):
        """Extracts multiple files from response."""
        executor = RedPhaseExecutor()

        response_text = '''I'll generate two test files.

### FILE: tests/test_one.py
```python
def test_one():
    pass
```

### FILE: tests/test_two.py
```python
def test_two():
    pass
```
'''

        files = executor._extract_file_blocks(response_text)

        assert len(files) == 2
        assert files[0]["path"] == "tests/test_one.py"
        assert files[1]["path"] == "tests/test_two.py"

    def test_handles_missing_file_marker(self):
        """Handles response without file markers."""
        executor = RedPhaseExecutor()

        response_text = '''Here is some code:

```python
def test_example():
    pass
```
'''

        files = executor._extract_file_blocks(response_text)

        assert len(files) == 0

    def test_handles_malformed_code_block(self):
        """Handles malformed code block."""
        executor = RedPhaseExecutor()

        response_text = '''### FILE: tests/test.py
This is not a proper code block
```
'''

        files = executor._extract_file_blocks(response_text)

        assert len(files) == 0


class TestPytestOutputParsing:
    """Tests for pytest output parsing."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
        assert results["passed"] == 3
        assert results["failed"] == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
        assert results["failed"] == 3
        assert results["passed"] == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L322`
  - Forbidden pattern found: '
        assert "error" in results
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '
        assert "error" in results


class TestRedPhaseValidation:
    """Tests for RED phase artifact validation."""

    def test_validates_test_files_present(self):
        """Validates that test files are present."""
        executor = RedPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L359`
  - Forbidden pattern found: '
        assert not validation.valid
        assert any("test files" in e.lower() for e in validation.errors)

    def test_validates_red_expects_failures(self):
        """Validates that RED phase expects test failures."""
        executor = RedPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L375`
  - Forbidden pattern found: '
        assert validation.valid

    def test_warns_all_tests_passed(self):
        """Warns when all tests pass in RED phase."""
        executor = RedPhaseExecutor()

        test_results = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L394`
  - Forbidden pattern found: '
        assert len(validation["warnings"]) > 0
        assert any("passed" in w.lower() for w in validation["warnings"])


class TestRedPhaseEdgeCases:
    """Tests for RED phase edge cases."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L423`
  - Forbidden pattern found: '        assert "SPEC-123" in user_message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L444`
  - Forbidden pattern found: '
        assert "SPEC-123" in user_message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L467`
  - Forbidden pattern found: '
        assert len(written) == 1
        assert (temp_project_path / "tests" / "new" / "nested" / "directory" / "test_file.py").exists()


class TestRedPhasePrompts:
    """Tests for RED phase prompt generation."""

    def test_system_prompt_mentions_tdd(self):
        """System prompt mentions TDD and test-first approach."""
        executor = RedPhaseExecutor()

        context = MagicMock()

        prompt = executor.get_system_prompt(context)

        assert "test" in prompt.lower()
        assert "tdd" in prompt.lower() or "fail" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L499`
  - Forbidden pattern found: '
        assert "SPEC-20260101120000-0001" in message
        assert "OAuthProvider" in message
        assert "TC001" in message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L519`
  - Forbidden pattern found: '        assert "Given" in message or "given" in message
        assert "When" in message or "when" in message
        assert "Then" in message or "then" in message


class TestCreateRedExecutor:
    """Tests for factory function."""

    def test_creates_executor_instance(self):
        """Factory creates RedPhaseExecutor instance."""
        executor = create_red_executor()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L538`
  - Forbidden pattern found: '
        assert executor.test_runner == "pytest"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_refactor.py`** (41 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestRefactorPhaseExecutor' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L127`
  - Class 'TestRefactorPhaseExecution' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L21`
  - Forbidden pattern found: '        assert executor.stage_name == "refactor"

    def test_artifact_type_is_refactored_code(self):
        """RefactorPhaseExecutor has artifact_type 'refactored_code'."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()
        assert executor.artifact_type == "refactored_code"

    def test_required_input_fields(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert "spec_id" in executor.required_input_fields
        assert "implementation_files" in executor.required_input_fields
        assert "test_results" in executor.required_input_fields

    def test_output_fields(self):
        """RefactorPhaseExecutor outputs expected fields."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()
        assert "spec_id" in executor.output_fields
        assert "refactored_files" in executor.output_fields
        assert "final_files" in executor.output_fields

    def test_has_max_iterations_config(self):
        """RefactorPhaseExecutor has max_iterations configuration."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '        assert executor.max_iterations == 10

    def test_max_iterations_from_config(self):
        """RefactorPhaseExecutor uses max_iterations from config."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor({"max_iterations": 5})
        assert executor.max_iterations == 5


class TestRefactorPhaseSkipLogic:
    """Tests for REFACTOR phase skip logic."""

    def test_skips_when_no_conformance_violations('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        # Should be passthrough (no refactoring needed)
        assert result.artifacts.get("refactored_files") == []

    def test_skips_when_tests_pass_and_conformance_clean('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED


class TestRefactorPhaseExecution:
    """Tests for REFACTOR phase execution."""

    def test_applies_refactorings_for_violations('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.artifacts is not None

    def test_verifies_tests_still_pass_after_refactoring('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '        assert mock_tests.call_count >= 2

    def test_fails_if_tests_break_during_refactoring('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '
        assert result.status == StageStatus.FAILED
        assert "tests" in result.error.lower()

    def test_fails_if_initial_tests_fail('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '
        assert result.status == StageStatus.FAILED
        assert "must pass" in result.error.lower()


class TestRefactorPhaseTestExecution:
    """Tests for REFACTOR phase test execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L303`
  - Forbidden pattern found: '
        assert "passed" in results
        assert "failed" in results
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L327`
  - Forbidden pattern found: '
        assert "error" in results
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L352`
  - Forbidden pattern found: '
        assert results["passed"] == 3


class TestRefactorPhaseConformance:
    """Tests for REFACTOR phase conformance checks."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '
        assert results["passed"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L432`
  - Forbidden pattern found: '
        assert results["passed"] is False
        assert len(results["violations"]) == 1


class TestRefactorPhaseArtifactBuilding:
    """Tests for REFACTOR phase artifact building."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L457`
  - Forbidden pattern found: '
        assert artifact["spec_id"] == sample_green_artifact["spec_id"]
        assert artifact["refactored_files"] == []
        assert artifact["conformance_passed"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L484`
  - Forbidden pattern found: '
        assert artifact["spec_id"] == sample_green_artifact["spec_id"]
        assert "final_files" in artifact
        assert artifact["conformance_passed"] is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L511`
  - Forbidden pattern found: '
        assert "improvements" in artifact
        assert len(artifact["improvements"]) == 2


class TestRefactorPhaseTaskBuilding:
    """Tests for REFACTOR phase task building."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L529`
  - Forbidden pattern found: '
        assert "src/auth/oauth_provider.py" in task
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L542`
  - Forbidden pattern found: '
        assert "3 passed" in task
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L555`
  - Forbidden pattern found: '
        assert "OAuth flow" in task or "criterion" in task.lower()


class TestRefactorPhasePrompts:
    """Tests for REFACTOR phase prompts."""

    def test_system_prompt_mentions_refactor(self):
        """System prompt mentions REFACTOR phase."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()

        prompt = executor.SYSTEM_PROMPT

        assert "refactor" in prompt.lower()
        assert "test" in prompt.lower()
        assert "quality" in prompt.lower()

    def test_task_template_has_placeholders(self):
        """Task template has required placeholders."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()

        template = executor.TASK_TEMPLATE

        assert "{implementation_files}" in template
        assert "{test_status}" in template
        assert "{acceptance_criteria}" in template


class TestRefactorPhaseValidation:
    """Tests for REFACTOR phase artifact validation."""

    def test_validates_final_files_present(self):
        """Validates that final_files is present."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L606`
  - Forbidden pattern found: '        assert not validation.valid or len(validation.warnings) > 0

    def test_validates_conformance_status(self):
        """Validates conformance status is present."""
        from agentforge.core.pipeline.stages.refactor import RefactorPhaseExecutor

        executor = RefactorPhaseExecutor()

        artifact = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L624`
  - Forbidden pattern found: '        assert validation.valid


class TestRefactorPhaseEdgeCases:
    """Tests for REFACTOR phase edge cases."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L698`
  - Forbidden pattern found: '
        assert executor.max_iterations == 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 40 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L130`
  - Function 'test_applies_refactorings_for_violations' has 33 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L476`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L503`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L272`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L92`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L122`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L168`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L246`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_spec.py`** (25 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestSpecExecutor' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
        assert len(result.artifacts["components"]) > 0
        comp = result.artifacts["components"][0]
        assert comp["name"] == "AuthManager"
        assert comp["type"] == "class"

    def test_generates_test_cases('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '
        assert len(result.artifacts["test_cases"]) > 0
        tc = result.artifacts["test_cases"][0]
        assert "id" in tc
        assert "description" in tc

    def test_includes_acceptance_criteria('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '
        assert len(result.artifacts["acceptance_criteria"]) > 0

    def test_saves_to_specs_directory('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '            assert result.status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("name" in e.lower() for e in validation.errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L251`
  - Forbidden pattern found: '        assert not validation.valid
        assert any("component" in e.lower() for e in validation.errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '        assert len(validation.warnings) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L287`
  - Forbidden pattern found: '        assert len(validation.warnings) >= 1


class TestCreateSpecExecutor:
    """Tests for create_spec_executor factory function."""

    def test_creates_executor_instance(self):
        """Factory creates SpecExecutor instance."""
        from agentforge.core.pipeline.stages.spec import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L309`
  - Forbidden pattern found: '        assert executor.config.get("include_tests") is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L16`
  - Function 'test_generates_spec_id' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L52`
  - Function 'test_generates_component_specs' has 37 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L94`
  - Function 'test_generates_test_cases' has 44 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L143`
  - Function 'test_includes_acceptance_criteria' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L179`
  - Function 'test_saves_to_specs_directory' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L87`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L136`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L175`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/stages/test_stages_init.py`** (7 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L21`
  - Forbidden pattern found: '
        assert IntakeExecutor is not None
        assert ClarifyExecutor is not None
        assert AnalyzeExecutor is not None
        assert SpecExecutor is not None

    def test_exports_factory_functions(self):
        """Package exports factory functions."""
        from agentforge.core.pipeline.stages import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '
        assert callable(create_intake_executor)
        assert callable(create_clarify_executor)
        assert callable(create_analyze_executor)
        assert callable(create_spec_executor)

    def test_factory_functions_return_correct_types(self):
        """Factory functions return correct executor types."""
        from agentforge.core.pipeline.stages import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L70`
  - Forbidden pattern found: '
        assert registry.has_stage("intake")
        assert registry.has_stage("clarify")
        assert registry.has_stage("analyze")
        assert registry.has_stage("spec")

    def test_registered_stages_create_correct_executors(self):
        """Registered stages create correct executor instances."""
        from agentforge.core.pipeline import StageExecutorRegistry
        from agentforge.core.pipeline.stages import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/pipeline/test_artifacts.py`** (32 violations)

- ğŸ”µ **single-responsibility-modules** at `L223`
  - Class 'TestRedArtifact' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L283`
  - Class 'TestGreenArtifact' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L27`
  - Forbidden pattern found: '
        assert artifact.request_id == "REQ-001"
        assert artifact.original_request == "Add a login button"
        assert artifact.detected_scope == "feature_addition"
        assert artifact.priority == "medium"

    def test_intake_artifact_defaults(self):
        """IntakeArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import IntakeArtifact

        artifact = IntakeArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L43`
  - Forbidden pattern found: '
        assert artifact.initial_questions == []
        assert artifact.detected_components == []
        assert artifact.keywords == []
        assert artifact.confidence == 0.5
        assert artifact.estimated_complexity == "medium"


class TestClarifyArtifact:
    """Tests for ClarifyArtifact dataclass."""

    def test_clarify_artifact_creation(self):
        """ClarifyArtifact can be created with required fields."""
        from agentforge.core.pipeline.artifacts import ClarifyArtifact

        artifact = ClarifyArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert artifact.request_id == "REQ-001"
        assert artifact.clarified_requirements == "Add a login button to the header"

    def test_clarify_artifact_defaults(self):
        """ClarifyArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import ClarifyArtifact

        artifact = ClarifyArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert artifact.scope_confirmed is False
        assert artifact.answered_questions == []
        assert artifact.remaining_questions == []
        assert artifact.refined_scope is None
        assert artifact.ready_for_analysis is False


class TestAnalyzeArtifact:
    """Tests for AnalyzeArtifact dataclass."""

    def test_analyze_artifact_creation(self):
        """AnalyzeArtifact can be created with required fields."""
        from agentforge.core.pipeline.artifacts import AnalyzeArtifact

        artifact = AnalyzeArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert artifact.request_id == "REQ-001"
        assert artifact.analysis["summary"] == "Analysis summary"

    def test_analyze_artifact_defaults(self):
        """AnalyzeArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import AnalyzeArtifact

        artifact = AnalyzeArtifact(request_id="REQ-001")

        assert artifact.analysis == {}
        assert artifact.affected_files == []
        assert artifact.components == []
        assert artifact.dependencies == []
        assert artifact.risks == []


class TestSpecArtifact:
    """Tests for SpecArtifact dataclass."""

    def test_spec_artifact_creation(self):
        """SpecArtifact can be created with required fields."""
        from agentforge.core.pipeline.artifacts import SpecArtifact

        artifact = SpecArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L122`
  - Forbidden pattern found: '
        assert artifact.spec_id == "SPEC-001"
        assert artifact.request_id == "REQ-001"
        assert artifact.title == "Login Button Feature"

    def test_spec_artifact_defaults(self):
        """SpecArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import SpecArtifact

        artifact = SpecArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert artifact.title == ""
        assert artifact.version == "1.0"
        assert artifact.overview == {}
        assert artifact.components == []
        assert artifact.test_cases == []
        assert artifact.interfaces == []
        assert artifact.data_models == []
        assert artifact.implementation_order == []
        assert artifact.acceptance_criteria == []


class TestArtifactConversion:
    """Tests for artifact to/from dict conversion."""

    def test_artifact_to_dict_conversion(self):
        """Artifacts can be converted to dict."""
        from agentforge.core.pipeline.artifacts import IntakeArtifact

        artifact = IntakeArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '        assert data["request_id"] == "REQ-001"
        assert data["original_request"] == "Test request"
        assert data["detected_scope"] == "feature_addition"
        assert data["priority"] == "high"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '        assert artifact.request_id == "REQ-002"
        assert artifact.detected_scope == "bug_fix"
        assert artifact.priority == "critical"
        assert len(artifact.initial_questions) == 1
        assert artifact.confidence == 0.9

    def test_spec_artifact_full_roundtrip(self):
        """SpecArtifact roundtrips correctly through dict."""
        from agentforge.core.pipeline.artifacts import SpecArtifact

        original = SpecArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '
        assert restored.spec_id == original.spec_id
        assert restored.title == original.title
        assert restored.version == original.version
        assert restored.components == original.components
        assert restored.test_cases == original.test_cases
        assert restored.acceptance_criteria == original.acceptance_criteria


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# TDD Artifact Tests (Phase 3)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


class TestRedArtifact:
    """Tests for RedArtifact dataclass."""

    def test_red_artifact_creation(self):
        """RedArtifact can be created with required fields."""
        from agentforge.core.pipeline.artifacts import RedArtifact

        artifact = RedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L233`
  - Forbidden pattern found: '
        assert artifact.spec_id == "SPEC-001"

    def test_red_artifact_defaults(self):
        """RedArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import RedArtifact

        artifact = RedArtifact(spec_id="SPEC-001")

        assert artifact.request_id == ""
        assert artifact.test_files == []
        assert artifact.test_results == {}
        assert artifact.failing_tests == []
        assert artifact.unexpected_passes == []
        assert artifact.warnings == []

    def test_red_artifact_with_test_results(self):
        """RedArtifact can store test results."""
        from agentforge.core.pipeline.artifacts import RedArtifact

        artifact = RedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '
        assert len(artifact.test_files) == 1
        assert artifact.test_results["failed"] == 3
        assert len(artifact.failing_tests) == 3

    def test_red_artifact_to_dict(self):
        """RedArtifact can be converted to dict."""
        from agentforge.core.pipeline.artifacts import RedArtifact

        artifact = RedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '        assert data["spec_id"] == "SPEC-001"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '
        assert artifact.spec_id == "SPEC-001"

    def test_green_artifact_defaults(self):
        """GreenArtifact has correct default values."""
        from agentforge.core.pipeline.artifacts import GreenArtifact

        artifact = GreenArtifact(spec_id="SPEC-001")

        assert artifact.request_id == ""
        assert artifact.implementation_files == []
        assert artifact.test_results == {}
        assert artifact.passing_tests == 0
        assert artifact.iterations == 0
        assert artifact.all_tests_pass is False
        assert artifact.error is None

    def test_green_artifact_with_implementation(self):
        """GreenArtifact can store implementation results."""
        from agentforge.core.pipeline.artifacts import GreenArtifact

        artifact = GreenArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L327`
  - Forbidden pattern found: '
        assert len(artifact.implementation_files) == 2
        assert artifact.passing_tests == 5
        assert artifact.iterations == 3
        assert artifact.all_tests_pass is True

    def test_green_artifact_with_error(self):
        """GreenArtifact can store error state."""
        from agentforge.core.pipeline.artifacts import GreenArtifact

        artifact = GreenArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '
        assert artifact.all_tests_pass is False
        assert artifact.error == "Max iterations reached"

    def test_green_artifact_to_dict(self):
        """GreenArtifact can be converted to dict."""
        from agentforge.core.pipeline.artifacts import GreenArtifact

        artifact = GreenArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '        assert data["spec_id"] == "SPEC-001"
        assert data["implementation_files"] == ["file.py"]
        assert data["all_tests_pass"] is True


class TestTDDArtifactRoundtrip:
    """Tests for TDD artifact roundtrip conversion."""

    def test_red_artifact_roundtrip(self):
        """RedArtifact roundtrips correctly through dict."""
        from agentforge.core.pipeline.artifacts import RedArtifact

        original = RedArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L379`
  - Forbidden pattern found: '
        assert restored.spec_id == original.spec_id
        assert restored.request_id == original.request_id
        assert restored.test_files == original.test_files
        assert restored.failing_tests == original.failing_tests
        assert restored.warnings == original.warnings

    def test_green_artifact_roundtrip(self):
        """GreenArtifact roundtrips correctly through dict."""
        from agentforge.core.pipeline.artifacts import GreenArtifact

        original = GreenArtifact('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L401`
  - Forbidden pattern found: '
        assert restored.spec_id == original.spec_id
        assert restored.implementation_files == original.implementation_files
        assert restored.passing_tests == original.passing_tests
        assert restored.iterations == original.iterations
        assert restored.all_tests_pass == original.all_tests_pass
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L162`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L173`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L207`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L278`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L356`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L377`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L399`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_config.py`** (47 violations)

- ğŸ”µ **single-responsibility-modules** at `L125`
  - Class 'TestConfigurationLoader' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L348`
  - Class 'TestBuiltInTemplates' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L401`
  - Class 'TestExpandEnvVars' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L438`
  - Class 'TestPipelineTemplateLoader' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 37 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 37 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 37 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L22`
  - Forbidden pattern found: '        assert config.name == "test"
        assert config.enabled is True
        assert config.timeout_seconds == 600
        assert config.max_iterations == 3
        assert config.tools == {}
        assert config.custom == {}

    def test_stage_config_with_values(self):
        """StageConfig accepts custom values."""
        from agentforge.core.pipeline.config import StageConfig

        config = StageConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L41`
  - Forbidden pattern found: '        assert config.name == "analyze"
        assert config.enabled is False
        assert config.timeout_seconds == 300
        assert config.max_iterations == 5
        assert config.tools == {"search": {"max_results": 10}}
        assert config.custom == {"include_tests": True}


class TestPipelineTemplate:
    """Tests for PipelineTemplate dataclass."""

    def test_pipeline_template_defaults(self):
        """PipelineTemplate has sensible defaults."""
        from agentforge.core.pipeline.config import PipelineTemplate

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '        assert template.name == "test"
        assert template.description == "Test pipeline"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '        assert template.defaults == {}
        assert template.stage_config == {}
        assert template.exit_conditions == {}
        assert template.required_context == []

    def test_pipeline_template_with_all_fields(self):
        """PipelineTemplate accepts all optional fields."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L84`
  - Forbidden pattern found: '        assert "spec" in template.stage_config
        assert template.stage_config["spec"].timeout_seconds == 900
        assert template.exit_conditions == {"on_timeout": "fail"}
        assert template.required_context == ["violation"]


class TestGlobalSettings:
    """Tests for GlobalSettings dataclass."""

    def test_global_settings_defaults(self):
        """GlobalSettings has sensible defaults."""
        from agentforge.core.pipeline.config import GlobalSettings

        settings = GlobalSettings()
        assert settings.project_name == ""
        assert settings.language == "python"
        assert settings.llm_model == "claude-sonnet-4-20250514"
        assert settings.max_cost_per_pipeline == 10.0
        assert settings.supervised_by_default is False
        assert settings.auto_commit is False

    def test_global_settings_with_values(self):
        """GlobalSettings accepts custom values."""
        from agentforge.core.pipeline.config import GlobalSettings

        settings = GlobalSettings('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '        assert settings.project_name == "MyProject"
        assert settings.language == "typescript"
        assert settings.llm_model == "claude-opus-4-20250514"
        assert settings.max_cost_per_pipeline == 5.0
        assert settings.supervised_by_default is True
        assert settings.auto_commit is True


class TestConfigurationLoader:
    """Tests for ConfigurationLoader class."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L134`
  - Forbidden pattern found: '
        assert settings.project_name == ""
        assert settings.language == "python"
        assert settings.supervised_by_default is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '
        assert settings.project_name == "TestProject"
        assert settings.language == "go"
        assert settings.llm_model == "claude-opus-4-20250514"
        assert settings.supervised_by_default is True
        assert settings.auto_commit is True
        assert settings.max_cost_per_pipeline == 20.0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '
        assert settings1 is settings2  # Same object
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '
        assert template.name == "custom"
        assert template.description == "Custom pipeline template"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L217`
  - Forbidden pattern found: '        assert "spec" in template.stage_config
        assert template.stage_config["spec"].timeout_seconds == 1200
        assert template.stage_config["spec"].max_iterations == 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L227`
  - Forbidden pattern found: '
        assert template.name == "implement"
        assert "intake" in template.stages
        assert "deliver" in template.stages
        assert len(template.stages) == 8
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
        assert template1 is template2  # Same object
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '
        assert config.name == "analyze"
        assert config.enabled is True
        assert config.timeout_seconds == 900
        assert config.max_iterations == 5
        assert config.tools == {"search_code": {"max_results": 50}}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L288`
  - Forbidden pattern found: '
        assert config.name == "intake"
        assert config.enabled is True
        assert config.timeout_seconds == 600
        assert config.max_iterations == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '
        assert config1 is config2  # Same object
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L319`
  - Forbidden pattern found: '        assert "implement" in pipelines
        assert "design" in pipelines
        assert "test" in pipelines
        assert "fix" in pipelines
        # And custom pipeline
        assert "review" in pipelines
        # Should be sorted
        assert pipelines == sorted(pipelines)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '        assert config_dir.exists()
        assert (config_dir / "settings.yaml").exists()
        assert (config_dir / "stages").exists()

        # Verify settings content
        settings = yaml.safe_load((config_dir / "settings.yaml").read_text())
        assert "project" in settings
        assert "llm" in settings
        assert "pipeline" in settings
        assert "cost" in settings


class TestBuiltInTemplates:
    """Tests for built-in pipeline templates."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L362`
  - Forbidden pattern found: '        assert template.stages == expected_stages
        assert template.defaults.get("supervised") is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L371`
  - Forbidden pattern found: '
        assert "spec" in template.stages
        assert "red" not in template.stages
        assert "deliver" not in template.stages
        assert template.defaults.get("supervised") is True
        assert template.defaults.get("exit_after") == "spec"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L384`
  - Forbidden pattern found: '
        assert template.stages == ["red"]
        assert "spec" in template.required_context
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L394`
  - Forbidden pattern found: '
        assert "analyze" in template.stages
        assert "green" in template.stages
        assert "refactor" in template.stages
        assert "violation" in template.required_context


class TestExpandEnvVars:
    """Tests for environment variable expansion."""

    def test_expand_env_vars(self):
        """Expands ${VAR} patterns."""
        from agentforge.core.pipeline.config import expand_env_vars
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L410`
  - Forbidden pattern found: '            assert result == "prefix_test_value_suffix"

    def test_expand_multiple_vars(self):
        """Expands multiple ${VAR} patterns."""
        from agentforge.core.pipeline.config import expand_env_vars
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L418`
  - Forbidden pattern found: '            assert result == "one and two"

    def test_expand_missing_env_var(self):
        """Returns empty string for missing vars."""
        from agentforge.core.pipeline.config import expand_env_vars
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L428`
  - Forbidden pattern found: '            assert result == "value__end"

    def test_expand_no_vars(self):
        """Returns original string if no vars present."""
        from agentforge.core.pipeline.config import expand_env_vars

        result = expand_env_vars("no variables here")
        assert result == "no variables here"


class TestPipelineTemplateLoader:
    """Tests for PipelineTemplateLoader class."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L449`
  - Forbidden pattern found: '        assert config.pipeline_type == "implement"
        assert "intake" in config.stages
        assert "deliver" in config.stages
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L472`
  - Forbidden pattern found: '        assert config.supervised is False  # Template default
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L480`
  - Forbidden pattern found: '
        assert config.exit_after == "spec"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L489`
  - Forbidden pattern found: '
        assert config.iteration_enabled is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L513`
  - Forbidden pattern found: '
        assert config.pipeline_type == "review"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L516`
  - Forbidden pattern found: '        assert config.supervised is True
        assert config.exit_after == "spec"
        assert config.timeout_seconds == 1800
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 37 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L434`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L409`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L417`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L427`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_config_validator.py`** (30 violations)

- ğŸ”µ **single-responsibility-modules** at `L36`
  - Class 'TestConfigValidator' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L263`
  - Class 'TestConfigValidatorIntegration' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **max-imports** at `L1`
  - File has 35 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 35 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **max-imports** at `L1`
  - File has 35 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L21`
  - Forbidden pattern found: '        assert error.path == "stages.unknown"
        assert error.message == "Unknown stage: unknown"
        assert error.severity == "error"

    def test_validation_error_severity_options(self):
        """ValidationError accepts error and warning severities."""
        from agentforge.core.pipeline.config_validator import ValidationError
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '        assert error.severity == "error"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L33`
  - Forbidden pattern found: '        assert warning.severity == "warning"


class TestConfigValidator:
    """Tests for ConfigValidator class."""

    def test_validates_valid_template(self):
        """Returns no errors for valid template."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '
        assert len(errors) == 0

    def test_validates_stage_names(self):
        """Rejects invalid stage names."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert len(errors) == 1
        assert errors[0].severity == "error"
        assert "unknown_stage" in errors[0].message
        assert "stages.unknown_stage" in errors[0].path

    def test_validates_multiple_invalid_stages(self):
        """Reports all invalid stage names."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '
        assert len(errors) == 2
        messages = [e.message for e in errors]
        assert any("bad1" in m for m in messages)
        assert any("bad2" in m for m in messages)

    def test_warns_green_without_red(self):
        """Warns when GREEN without RED."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '        assert len(warnings) == 1
        assert "RED" in warnings[0].message or "red" in warnings[0].message.lower()

    def test_no_warning_when_green_with_red(self):
        """No warning when GREEN has RED."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '        assert len(warnings) == 0

    def test_validates_exit_after(self):
        """Error when exit_after not in stages."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert len(error_messages) == 1
        assert "exit_after" in error_messages[0].path
        assert "spec" in error_messages[0].message

    def test_valid_exit_after(self):
        """No error when exit_after is in stages."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '        assert len(error_messages) == 0

    def test_valid_stages_constant(self):
        """VALID_STAGES contains all expected stages."""
        from agentforge.core.pipeline.config_validator import ConfigValidator

        expected = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L177`
  - Forbidden pattern found: '            assert stage in validator.VALID_STAGES

    def test_validates_settings_valid(self):
        """Returns no errors for valid settings."""
        from agentforge.core.pipeline.config import GlobalSettings
        from agentforge.core.pipeline.config_validator import ConfigValidator

        settings = GlobalSettings('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '
        assert len(errors) == 0

    def test_validates_settings_negative_cost(self):
        """Warns on negative cost limit."""
        from agentforge.core.pipeline.config import GlobalSettings
        from agentforge.core.pipeline.config_validator import ConfigValidator

        settings = GlobalSettings('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L206`
  - Forbidden pattern found: '
        assert len(errors) == 1
        assert errors[0].severity == "warning"
        assert "cost" in errors[0].path.lower()

    def test_validates_settings_zero_cost_ok(self):
        """Zero cost is valid (unlimited)."""
        from agentforge.core.pipeline.config import GlobalSettings
        from agentforge.core.pipeline.config_validator import ConfigValidator

        settings = GlobalSettings('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L225`
  - Forbidden pattern found: '        assert len(cost_errors) == 0

    def test_validates_empty_stages(self):
        """Error when stages is empty."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '        assert len(error_messages) == 1
        assert "empty" in error_messages[0].message.lower() or "no stages" in error_messages[0].message.lower()

    def test_validates_duplicate_stages(self):
        """Warns on duplicate stages."""
        from agentforge.core.pipeline.config import PipelineTemplate
        from agentforge.core.pipeline.config_validator import ConfigValidator

        template = PipelineTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L260`
  - Forbidden pattern found: '        assert any("duplicate" in w.message.lower() for w in warnings)


class TestConfigValidatorIntegration:
    """Integration tests for ConfigValidator with real templates."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L278`
  - Forbidden pattern found: '        assert len(error_messages) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L292`
  - Forbidden pattern found: '        assert len(error_messages) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '        assert len(error_messages) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L321`
  - Forbidden pattern found: '        assert len(error_messages) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **max-imports** at `L1`
  - File has 35 imports (max: 30)
  - ğŸ’¡ *Consider splitting module or consolidating imports*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/pipeline/test_controller.py`** (68 violations)

- ğŸ”µ **single-responsibility-modules** at `L24`
  - Class 'TestPipelineController' has 20 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L470`
  - Class 'TestContractEnforcement' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.pipeline_id.startswith("PL-")
        assert len(result.stages_completed) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.template == "design"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.config.get("custom_key") == "value"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED

        for stage_name in state.stage_order:
            stage = state.stages[stage_name]
            assert stage.status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert result.success is False
        assert result.error == "Intentional failure"
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.FAILED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '
        assert result.success is False  # Not complete yet
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.WAITING_APPROVAL

        pending = controller.escalation_handler.get_pending(state.pipeline_id)
        assert len(pending) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert paused is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L158`
  - Forbidden pattern found: '
        assert result.success is True
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '        assert state.status == PipelineStatus.WAITING_APPROVAL

        with pytest.raises(PipelineStateError) as exc_info:
            controller.resume(state.pipeline_id)

        assert "pending escalations" in str(exc_info.value).lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L212`
  - Forbidden pattern found: '        assert state.status == PipelineStatus.WAITING_APPROVAL

        success = controller.approve(state.pipeline_id)
        assert success is True

        state = controller.get_status(state.pipeline_id)
        assert state.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '        assert success is True

        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.ABORTED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '        assert success is True

        state = controller.get_status(state.pipeline_id)
        assert state.status == PipelineStatus.ABORTED
        assert state.stages["clarify"].status == StageStatus.FAILED
        assert "User cancelled" in state.stages["clarify"].error
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L268`
  - Forbidden pattern found: '        assert success is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L274`
  - Forbidden pattern found: '
        assert loaded.pipeline_id == result.pipeline_id
        assert loaded.status == PipelineStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '
        assert result.success is False
        state = controller.get_status(result.pipeline_id)
        assert state.status == PipelineStatus.FAILED
        assert "not registered" in state.stages["clarify"].error.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '        assert state.stages["intake"].status == StageStatus.COMPLETED
        assert state.stages["clarify"].status == StageStatus.PENDING
        assert state.stages["analyze"].status == StageStatus.PENDING
        assert state.stages["spec"].status == StageStatus.COMPLETED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '
        assert len(received_artifacts) == 1
        assert received_artifacts[0]["produced_by"] == "producer"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L362`
  - Forbidden pattern found: '        assert state.status == PipelineStatus.FAILED
        assert "required_artifact" in state.stages["clarify"].error


class TestPipelineResult:
    """Tests for PipelineResult dataclass."""

    def test_result_success_attributes(self):
        """PipelineResult has all success attributes."""
        result = PipelineResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L380`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.pipeline_id == "PL-123"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L384`
  - Forbidden pattern found: '        assert result.deliverable == {"output": "value"}
        assert result.error is None

    def test_result_failure_attributes(self):
        """PipelineResult has error on failure."""
        result = PipelineResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L395`
  - Forbidden pattern found: '
        assert result.success is False
        assert result.error == "Something went wrong"


class TestControllerListPipelines:
    """Tests for list_pipelines()."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L410`
  - Forbidden pattern found: '        assert len(pipelines) >= 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L435`
  - Forbidden pattern found: '        assert any(p.status == PipelineStatus.FAILED for p in failed)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L443`
  - Forbidden pattern found: '        assert len(limited) == 5


class TestControllerProvideFeedback:
    """Tests for provide_feedback()."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L456`
  - Forbidden pattern found: '        assert state.config.get("feedback") == "This looks good"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L466`
  - Forbidden pattern found: '        assert state.config.get("feedback") == "Second feedback"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L475`
  - Forbidden pattern found: '        assert controller.operation_manager is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L479`
  - Forbidden pattern found: '        assert controller.contract_registry is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L495`
  - Forbidden pattern found: '        assert enforcer is not None
        assert enforcer.contracts.contract_set_id == "operation-only"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L515`
  - Forbidden pattern found: '        assert enforcer is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L522`
  - Forbidden pattern found: '        assert len(rules) > 0

        # Check for a known rule
        rule_ids = [r.rule_id for r in rules]
        assert "read-before-edit" in rule_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L534`
  - Forbidden pattern found: '        assert "lsp-for-definitions" in rule_ids
        assert "lsp-for-references" in rule_ids
        assert "lsp-for-symbols" in rule_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L552`
  - Forbidden pattern found: '        assert result.success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L560`
  - Forbidden pattern found: '
        assert result.success is True


class TestContractEscalationTriggers:
    """Tests for contract-triggered escalations."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L623`
  - Forbidden pattern found: '        assert result.success is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L567`
  - Function 'test_escalation_trigger_from_contract' has 45 lines (max: 30)
- ğŸŸ¡ **class-size-limit** at `L24`
  - Class 'TestPipelineController' has 20 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L29`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L37`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L45`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L65`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L73`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L139`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L180`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L210`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L237`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L265`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L272`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L289`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L359`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L371`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L389`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L451`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L460`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L546`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L556`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L612`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_discovery_integration.py`** (22 violations)

- ğŸ”µ **single-responsibility-modules** at `L84`
  - Class 'TestDiscoveredContext' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L153`
  - Class 'TestExtractContextFromProfile' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L239`
  - Class 'TestGetContractsForLanguage' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L90`
  - Forbidden pattern found: '        assert ctx.primary_language is None
        assert ctx.languages == []
        assert ctx.frameworks == []
        assert ctx.estimated_coverage == 0.0

    def test_get_test_path_for_source(self):
        """get_test_path_for_source returns mapped test path."""
        ctx = DiscoveredContext(
            source_to_test_mapping={'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L103`
  - Forbidden pattern found: '
        assert ctx.get_test_path_for_source("src/foo.py") == "tests/test_foo.py"
        # Returns first when multiple
        assert ctx.get_test_path_for_source("src/bar.py") == "tests/test_bar.py"
        # Returns None for unknown
        assert ctx.get_test_path_for_source("src/unknown.py") is None

    def test_has_test_for_source(self):
        """has_test_for_source checks mapping."""
        ctx = DiscoveredContext(
            source_to_test_mapping={"src/foo.py": ["tests/test_foo.py"]}
        )

        assert ctx.has_test_for_source("src/foo.py") is True
        assert ctx.has_test_for_source("src/bar.py") is False

    def test_get_language_for_file(self):
        """get_language_for_file returns correct language."""
        ctx = DiscoveredContext()

        assert ctx.get_language_for_file("foo.py") == "python"
        assert ctx.get_language_for_file("foo.cs") == "csharp"
        assert ctx.get_language_for_file("foo.ts") == "typescript"
        assert ctx.get_language_for_file("foo.tsx") == "typescript"
        assert ctx.get_language_for_file("foo.js") == "javascript"
        assert ctx.get_language_for_file("foo.go") == "go"
        assert ctx.get_language_for_file("foo.rs") == "rust"
        assert ctx.get_language_for_file("foo.unknown") is None

    def test_to_dict(self):
        """to_dict serializes context."""
        ctx = DiscoveredContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert d["primary_language"] == "python"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '        assert d["estimated_coverage"] == 0.85


# =============================================================================
# extract_context_from_profile Tests
# =============================================================================


class TestExtractContextFromProfile:
    """Tests for extract_context_from_profile."""

    def test_extracts_languages(self):
        """Extracts language information from profile."""
        profile = MockCodebaseProfile(
            languages=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '
        assert ctx.primary_language == "python"
        assert "python" in ctx.languages
        assert "typescript" in ctx.languages
        assert "FastAPI" in ctx.frameworks
        assert "React" in ctx.frameworks

    def test_extracts_structure(self):
        """Extracts structure information from profile."""
        profile = MockCodebaseProfile(
            structure={'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '        assert ctx.test_directories == ["tests/"]
        assert ctx.entry_points == ["main.py"]

    def test_extracts_test_analysis(self):
        """Extracts test analysis information from profile."""
        profile = MockCodebaseProfile(
            test_analysis=MockTestAnalysis('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '
        assert ctx.test_framework == "pytest"
        assert ctx.estimated_coverage == 0.75
        assert ctx.source_to_test_mapping == {"src/foo.py": ["tests/test_foo.py"]}

    def test_extracts_dependencies(self):
        """Extracts dependency information from profile."""
        profile = MockCodebaseProfile(
            dependencies=['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L218`
  - Forbidden pattern found: '
        assert "fastapi" in ctx.dependencies
        assert "uvicorn" in ctx.dependencies
        assert "pytest" in ctx.dev_dependencies

    def test_handles_empty_profile(self):
        """Handles profile with no data gracefully."""
        profile = MockCodebaseProfile()

        ctx = extract_context_from_profile(profile)

        assert ctx.primary_language is None
        assert ctx.languages == []
        assert ctx.estimated_coverage == 0.0


# =============================================================================
# get_contracts_for_language Tests
# =============================================================================


class TestGetContractsForLanguage:
    """Tests for get_contracts_for_language."""

    def test_python_contracts(self):
        """Returns Python-specific contracts."""
        contracts = get_contracts_for_language("python")

        # Base contracts
        assert "agentforge-lineage" in contracts
        assert "agentforge-specs" in contracts
        assert "agentforge-structure" in contracts

        # Python-specific
        assert "_architecture-python" in contracts
        assert "_patterns-python" in contracts
        assert "_typing-python" in contracts

    def test_csharp_contracts(self):
        """Returns C#-specific contracts."""
        contracts = get_contracts_for_language("csharp")

        # Base contracts
        assert "agentforge-lineage" in contracts

        # C#-specific
        assert "_patterns-csharp" in contracts

    def test_typescript_contracts(self):
        """Returns TypeScript-specific contracts."""
        contracts = get_contracts_for_language("typescript")

        assert "_patterns-typescript" in contracts

    def test_javascript_uses_typescript_patterns(self):
        """JavaScript uses TypeScript pattern contracts."""
        contracts = get_contracts_for_language("javascript")

        assert "_patterns-typescript" in contracts

    def test_unknown_language_returns_base(self):
        """Unknown language returns only base contracts."""
        contracts = get_contracts_for_language("unknown")

        assert "agentforge-lineage" in contracts
        assert len([c for c in contracts if c.startswith("_")]) == 0


# =============================================================================
# create_pipeline_context_from_discovery Tests
# =============================================================================


class TestCreatePipelineContextFromDiscovery:
    """Tests for create_pipeline_context_from_discovery."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L305`
  - Forbidden pattern found: '
        assert ctx["project_path"] == str(tmp_path)
        assert ctx["primary_language"] == "python"
        assert ctx["test_framework"] == "pytest"
        assert ctx["estimated_coverage"] == 0.80
        assert "applicable_contracts" in ctx
        assert "_architecture-python" in ctx["applicable_contracts"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L320`
  - Forbidden pattern found: '
        assert "codebase_profile" in ctx
        assert ctx["codebase_profile"]["primary_language"] == "typescript"


# =============================================================================
# resolve_test_path Tests
# =============================================================================


class TestResolveTestPath:
    """Tests for resolve_test_path."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '        assert result == "tests/unit/test_module.py"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L364`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L341`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L355`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L363`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_escalation.py`** (25 violations)

- ğŸ”µ **single-responsibility-modules** at `L93`
  - Class 'TestEscalationHandler' has 13 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L25`
  - Forbidden pattern found: '        assert esc_id.startswith("ESC-")
        assert len(esc_id) == 12  # ESC- + 8 hex chars

    def test_unique(self):
        """Each ID is unique."""
        ids = [generate_escalation_id() for _ in range(100)]
        assert len(ids) == len(set(ids))


class TestEscalation:
    """Tests for Escalation dataclass."""

    def test_creation(self):
        """Escalation can be created with required fields."""
        esc = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '
        assert esc.escalation_id == "ESC-abc12345"
        assert esc.pipeline_id == "PL-20260101-xyz"
        assert esc.type == EscalationType.APPROVAL_REQUIRED
        assert esc.status == EscalationStatus.PENDING
        assert esc.response is None

    def test_serialization(self):
        """Escalation serializes to/from dict."""
        esc = Escalation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert restored.escalation_id == esc.escalation_id
        assert restored.type == esc.type
        assert restored.message == esc.message
        assert restored.options == esc.options
        assert restored.context == esc.context


class TestEscalationTypes:
    """Tests for escalation types."""

    def test_all_types_defined(self):
        """All expected escalation types exist."""
        assert EscalationType.APPROVAL_REQUIRED
        assert EscalationType.CLARIFICATION_NEEDED
        assert EscalationType.ERROR_RECOVERY
        assert EscalationType.CANNOT_PROCEED

    def test_all_statuses_defined(self):
        """All expected statuses exist."""
        assert EscalationStatus.PENDING
        assert EscalationStatus.RESOLVED
        assert EscalationStatus.REJECTED
        assert EscalationStatus.EXPIRED


class TestEscalationHandler:
    """Tests for EscalationHandler."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert esc_id == sample_escalation.escalation_id

        # Should be retrievable
        loaded = handler.get(esc_id)
        assert loaded is not None
        assert loaded.message == sample_escalation.message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '        assert esc_id.startswith("ESC-")
        assert esc.escalation_id == esc_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert loaded.status == EscalationStatus.RESOLVED
        assert loaded.response == "Approved!"
        assert loaded.resolved_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
        assert "not found" in str(exc_info.value).lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '
        assert "cannot resolve" in str(exc_info.value).lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '        assert loaded.status == EscalationStatus.REJECTED
        assert loaded.response == "Not acceptable"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '        assert len(pending) == 2

        # Filter by pipeline
        pending_pl1 = handler.get_pending("PL-1")
        assert len(pending_pl1) == 1
        assert pending_pl1[0].pipeline_id == "PL-1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '        assert len(escalations) == 3
        assert all(e.pipeline_id == "PL-target" for e in escalations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '        assert handler.get(sample_escalation.escalation_id) is not None

        result = handler.delete(sample_escalation.escalation_id)
        assert result is True
        assert handler.get(sample_escalation.escalation_id) is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L250`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L96`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L100`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L173`
  - Function 'test_get_pending' has 32 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L65`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L243`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L249`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_llm_stage_executor.py`** (28 violations)

- ğŸ”µ **single-responsibility-modules** at `L13`
  - Class 'TestLLMStageExecutor' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
        assert "get_system_prompt" in calls
        assert "get_user_message" in calls
        assert "parse_response" in calls
        # Verify order
        assert calls.index("get_system_prompt") < calls.index("parse_response")
        assert calls.index("get_user_message") < calls.index("parse_response")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert executor.get_system_prompt_called
        assert executor.get_user_message_called
        assert executor.parse_response_called
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L126`
  - Forbidden pattern found: '
        assert result.status == StageStatus.FAILED
        assert "parse" in result.error.lower() or "artifact" in result.error.lower()

    def test_extract_yaml_from_code_block(self):
        """YAML in code blocks is extracted correctly."""
        from agentforge.core.pipeline.llm_stage_executor import LLMStageExecutor

        class TestExecutor(LLMStageExecutor):
            stage_name = "test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L158`
  - Forbidden pattern found: '        assert result is not None
        assert result["key"] == "value"
        assert result["nested"]["item"] == 123

    def test_extract_yaml_from_raw_text(self):
        """Raw YAML without code blocks is parsed correctly."""
        from agentforge.core.pipeline.llm_stage_executor import LLMStageExecutor

        class TestExecutor(LLMStageExecutor):
            stage_name = "test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '        assert result is not None
        assert result["key"] == "value"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '        assert result is None

    def test_extract_json_from_code_block(self):
        """JSON in code blocks is extracted correctly."""
        from agentforge.core.pipeline.llm_stage_executor import LLMStageExecutor

        class TestExecutor(LLMStageExecutor):
            stage_name = "test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '        assert result is not None
        assert result["key"] == "value"
        assert result["number"] == 42

    def test_extract_json_from_raw_text(self):
        """JSON embedded in text is extracted correctly."""
        from agentforge.core.pipeline.llm_stage_executor import LLMStageExecutor

        class TestExecutor(LLMStageExecutor):
            stage_name = "test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L260`
  - Forbidden pattern found: '        assert result is not None
        assert result["data"] is True
        assert result["count"] == 5


class TestToolBasedStageExecutor:
    """Tests for ToolBasedStageExecutor."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L303`
  - Forbidden pattern found: '        assert result is not None
        assert result["analysis"] == "completed"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '        assert result is None or result.get("wrong") is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L376`
  - Forbidden pattern found: '        assert result is not None
        assert result["fallback"] == "data"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L16`
  - Function 'test_execute_calls_lifecycle_methods' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L59`
  - Function 'test_execute_calls_get_prompts_and_parse' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L268`
  - Function 'test_tool_based_executor_extracts_from_tool_call' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L157`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L184`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L208`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L235`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L259`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L302`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L341`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L375`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L125`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_module_exports.py`** (14 violations)

- ğŸ”µ **single-responsibility-modules** at `L9`
  - Class 'TestModuleExports' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L18`
  - Forbidden pattern found: '
        assert PipelineStatus.PENDING is not None
        assert StageStatus.COMPLETED is not None

    def test_state_store_exports(self):
        """State store class is exported."""
        from agentforge.core.pipeline import PipelineStateStore

        assert PipelineStateStore is not None

    def test_stage_executor_exports(self):
        """Stage executor classes are exported."""
        from agentforge.core.pipeline import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L34`
  - Forbidden pattern found: '
        assert StageExecutor is not None
        assert PassthroughExecutor is not None

    def test_registry_exports(self):
        """Registry classes and functions are exported."""
        from agentforge.core.pipeline import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert StageExecutorRegistry is not None
        assert get_registry is not None

    def test_validator_exports(self):
        """Validator classes are exported."""
        from agentforge.core.pipeline import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '
        assert ArtifactValidator is not None
        assert ValidationError is not None

    def test_escalation_exports(self):
        """Escalation classes are exported."""
        from agentforge.core.pipeline import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '
        assert EscalationType.APPROVAL_REQUIRED is not None
        assert EscalationStatus.PENDING is not None

    def test_controller_exports(self):
        """Controller class and exceptions are exported."""
        from agentforge.core.pipeline import ('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '
        assert PipelineController is not None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert len(pipeline.__all__) > 0

        # Verify all items in __all__ are actually exported
        for name in pipeline.__all__:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '            assert state.request == "Test request"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L109`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_registry.py`** (17 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'TestStageExecutorRegistry' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L29`
  - Forbidden pattern found: '        assert executor is not None
        assert executor.stage_name == "intake"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert "unknown" in str(exc_info.value)
        assert "Available stages" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert executor.stage_name == "v2"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L81`
  - Forbidden pattern found: '
        assert fresh_registry.has_stage("intake") is True
        assert fresh_registry.has_stage("unknown") is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert fresh_registry.has_stage("intake") is True

        result = fresh_registry.unregister("intake")
        assert result is True
        assert fresh_registry.has_stage("intake") is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L103`
  - Forbidden pattern found: '        assert len(fresh_registry.list_stages()) == 2

        fresh_registry.clear()
        assert len(fresh_registry.list_stages()) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert call_count[0] == 2
        assert executor1 is not executor2


class TestGlobalRegistry:
    """Tests for global registry functions."""

    def test_get_registry_singleton(self):
        """get_registry() returns singleton instance."""
        registry1 = get_registry()
        registry2 = get_registry()
        assert registry1 is registry2

    def test_reset_instance(self):
        """reset_instance() clears the singleton."""
        registry1 = get_registry()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert registry1 is not registry2
        assert not registry2.has_stage("test")


class TestRegisterStageDecorator:
    """Tests for @register_stage decorator."""

    def test_decorator_registers_class(self):
        """@register_stage registers the executor class."""
        StageExecutorRegistry.reset_instance()

        @register_stage("decorated")
        class DecoratedExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '        assert registry.has_stage("decorated")

        executor = registry.get("decorated")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L90`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L96`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_stage_executor.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'TestStageResult' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L98`
  - Class 'TestStageExecutor' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L22`
  - Forbidden pattern found: '
        assert ctx.pipeline_id == "PL-20260101-abc12345"
        assert ctx.stage_name == "intake"
        assert ctx.input_artifacts == {"request": "Test request"}
        assert ctx.config == {"verbose": True}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '
        assert ctx.get_artifact("request") == "Test request"
        assert ctx.get_artifact("missing") is None'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L39`
  - Forbidden pattern found: '
        assert ctx.has_artifact("request") is True
        assert ctx.has_artifact("missing") is False


class TestStageResult:
    """Tests for StageResult dataclass."""

    def test_success_result(self):
        """StageResult.success() creates successful result."""
        result = StageResult.success({"output": "data"})

        assert result.status == StageStatus.COMPLETED
        assert result.artifacts == {"output": "data"}
        assert result.error is None
        assert result.escalation is None
        assert result.is_success() is True
        assert result.is_failed() is False
        assert result.needs_escalation() is False

    def test_failed_result(self):
        """StageResult.failed() creates failed result."""
        result = StageResult.failed("Something went wrong")

        assert result.status == StageStatus.FAILED
        assert result.error == "Something went wrong"
        assert result.is_success() is False
        assert result.is_failed() is True

    def test_skipped_result(self):
        """StageResult.skipped() creates skipped result."""
        result = StageResult.skipped("Not applicable")

        assert result.status == StageStatus.SKIPPED
        assert result.artifacts.get("skip_reason") == "Not applicable"

    def test_escalate_result(self):
        """StageResult.escalate() creates escalation result."""
        result = StageResult.escalate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert result.status == StageStatus.COMPLETED
        assert result.needs_escalation() is True
        assert result.is_success() is False  # Not success if escalating
        assert result.escalation["type"] == "approval_required"
        assert result.escalation["message"] == "Please approve"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '
        assert result.next_stage == "custom_stage"


class TestStageExecutor:
    """Tests for StageExecutor abstract base class."""

    def test_validate_input_with_required(self):
        """validate_input() checks required inputs."""

        class RequiringExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '        assert len(errors) == 2
        assert "input_a" in errors[0]

        # Has both'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '        assert len(errors) == 0

        # Missing one
        errors = executor.validate_input({"input_a": 1})
        assert len(errors) == 1
        assert "input_b" in errors[0]

    def test_stage_name_from_class(self):
        """stage_name property derives from class name."""

        class IntakeExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '        assert executor.stage_name == "intake"

        class AnalyzeStageExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert executor2.stage_name == "analyzestage"

    def test_default_required_inputs(self):
        """Default get_required_inputs() returns empty list."""

        class SimpleExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert executor.get_required_inputs() == []

    def test_default_output_schema(self):
        """Default get_output_schema() returns empty dict."""

        class SimpleExecutor(StageExecutor):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '        assert executor.get_output_schema() == {}


class TestPassthroughExecutor:
    """Tests for PassthroughExecutor."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L172`
  - Forbidden pattern found: '
        assert result.is_success()
        assert result.artifacts == sample_stage_context.input_artifacts

    def test_passthrough_custom_name(self):
        """PassthroughExecutor can have custom name."""
        executor = PassthroughExecutor(name="my-stage")
        assert executor.stage_name == "my-stage"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L49`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L61`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L77`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L93`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_state.py`** (19 violations)

- ğŸ”µ **single-responsibility-modules** at `L45`
  - Class 'TestStageState' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L110`
  - Class 'TestPipelineState' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-sleep-in-tests** at `L244`
  - Forbidden pattern found: 'time.sleep('
  - ğŸ’¡ *Use pytest-timeout, mocking, or async waiting instead*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '        assert date_part == today


class TestStageState:
    """Tests for StageState dataclass."""

    def test_stage_state_creation(self):
        """StageState can be created with defaults."""
        stage = StageState(stage_name="intake")

        assert stage.stage_name == "intake"
        assert stage.status == StageStatus.PENDING
        assert stage.started_at is None
        assert stage.completed_at is None
        assert stage.artifacts == {}
        assert stage.error is None

    def test_mark_running(self):
        """mark_running() updates status and started_at."""
        stage = StageState(stage_name="intake")
        stage.mark_running()

        assert stage.status == StageStatus.RUNNING
        assert stage.started_at is not None
        assert stage.completed_at is None

    def test_mark_completed(self):
        """mark_completed() updates status and timestamps."""
        stage = StageState(stage_name="intake")
        stage.mark_running()
        stage.mark_completed({"output": "result"})

        assert stage.status == StageStatus.COMPLETED
        assert stage.completed_at is not None
        assert stage.artifacts == {"output": "result"}

    def test_mark_failed(self):
        """mark_failed() updates status with error."""
        stage = StageState(stage_name="intake")
        stage.mark_running()
        stage.mark_failed("Something went wrong")

        assert stage.status == StageStatus.FAILED
        assert stage.error == "Something went wrong"
        assert stage.completed_at is not None

    def test_mark_skipped(self):
        """mark_skipped() updates status with reason."""
        stage = StageState(stage_name="intake")
        stage.mark_skipped("Not needed")

        assert stage.status == StageStatus.SKIPPED
        assert stage.artifacts.get("skip_reason") == "Not needed"

    def test_stage_state_serialization(self):
        """StageState serializes to/from dict correctly."""
        stage = StageState(stage_name="intake")
        stage.mark_running()
        stage.mark_completed({"output": "test"})

        data = stage.to_dict()
        restored = StageState.from_dict(data)

        assert restored.stage_name == stage.stage_name
        assert restored.status == stage.status
        assert restored.artifacts == stage.artifacts


class TestPipelineState:
    """Tests for PipelineState dataclass."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '
        assert state.pipeline_id.startswith("PL-")
        assert state.template == "implement"
        assert state.status == PipelineStatus.PENDING
        assert state.request == "Add a button"
        assert state.project_path == temp_project
        assert state.stage_order == PIPELINE_TEMPLATES["implement"]

    def test_pipeline_templates(self):
        """Pipeline templates define stage order."""
        assert "design" in PIPELINE_TEMPLATES
        assert "implement" in PIPELINE_TEMPLATES
        assert "test" in PIPELINE_TEMPLATES
        assert "fix" in PIPELINE_TEMPLATES

        # Implement template has all stages
        assert PIPELINE_TEMPLATES["implement"] == ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '
        assert state.get_next_stage() == "intake"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '
        assert state.get_next_stage() == "clarify"

        state.current_stage = "clarify"
        assert state.get_next_stage() == "analyze"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '
        assert state.get_next_stage() is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '
        assert artifacts["requirements"] == "data"
        assert artifacts["questions"] == ["q1"]
        assert "analyze_output" not in artifacts
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L185`
  - Forbidden pattern found: '        assert not state.is_terminal()

        state.status = PipelineStatus.RUNNING
        assert not state.is_terminal()

        state.status = PipelineStatus.COMPLETED
        assert state.is_terminal()

        state.status = PipelineStatus.FAILED
        assert state.is_terminal()

        state.status = PipelineStatus.ABORTED
        assert state.is_terminal()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L204`
  - Forbidden pattern found: '        assert not state.can_resume()

        state.status = PipelineStatus.PAUSED
        assert state.can_resume()

        state.status = PipelineStatus.WAITING_APPROVAL
        assert state.can_resume()

        state.status = PipelineStatus.COMPLETED
        assert not state.can_resume()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L228`
  - Forbidden pattern found: '
        assert restored.pipeline_id == state.pipeline_id
        assert restored.template == state.template
        assert restored.status == state.status
        assert restored.request == state.request
        assert restored.current_stage == state.current_stage
        assert restored.config == state.config
        assert restored.stage_order == state.stage_order
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '        assert state.updated_at > original
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L102`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L226`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_state_machine_properties.py`** (27 violations)

- ğŸŸ¡ **max-cyclomatic-complexity** at `L302`
  - Function 'test_to_dict_from_dict_roundtrip' has complexity 11 (max: 10)
  - ğŸ’¡ *Break complex functions into smaller, focused helper functions*
- ğŸ”µ **single-responsibility-modules** at `L167`
  - Class 'TestTimestampInvariant' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '        assert state.is_terminal() is True

        state.status = PipelineStatus.FAILED
        assert state.is_terminal() is True

        state.status = PipelineStatus.ABORTED
        assert state.is_terminal() is True

    @given(pipeline_state_st())
    @settings(max_examples=100)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '        assert state.is_terminal() is False

        state.status = PipelineStatus.RUNNING
        assert state.is_terminal() is False

        state.status = PipelineStatus.PAUSED
        assert state.is_terminal() is False

        state.status = PipelineStatus.WAITING_APPROVAL
        assert state.is_terminal() is False

    @given('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '        assert state.is_terminal() is True

        # The invariant is that code should check is_terminal() before
        # allowing status changes. We verify the check works.
        if state.is_terminal():
            # This is the correct behavior - don't allow changes
            original_status = state.status
            # Simulate what the controller should do
            if not state.is_terminal():
                state.status = any_status
            assert state.status == original_status


# =============================================================================
# Invariant 2: Timestamps are Monotonically Increasing
# =============================================================================

class TestTimestampInvariant:
    """Test that timestamps always increase or stay the same."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '            assert state.updated_at >= previous
            previous = state.updated_at

    @given(pipeline_state_st())
    @settings(max_examples=50)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '
        assert state.created_at == original_created

    def test_stage_timestamps_are_ordered_running_to_completed(self):
        """Stage started_at should always be before completed_at for valid transitions."""
        stage = StageState(stage_name="test_stage")

        # Valid sequence: PENDING -> RUNNING -> COMPLETED
        stage.mark_running()
        started = stage.started_at
        stage.mark_completed()

        assert stage.started_at == started  # started_at shouldn't change
        assert stage.started_at <= stage.completed_at

    def test_stage_timestamps_are_ordered_running_to_failed(self):
        """Stage started_at should always be before completed_at for failures."""
        stage = StageState(stage_name="test_stage")

        # Valid sequence: PENDING -> RUNNING -> FAILED
        stage.mark_running()
        started = stage.started_at
        stage.mark_failed("test error")

        assert stage.started_at == started  # started_at shouldn't change
        assert stage.started_at <= stage.completed_at

    @given(st.booleans())
    @settings(max_examples=20)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert stage.completed_at is None

        stage.mark_running()
        assert stage.completed_at is None

        if use_failure:
            stage.mark_failed("error")
        else:
            stage.mark_completed()

        assert stage.completed_at is not None


# =============================================================================
# Invariant 3: Stage Progression Follows Template Order
# =============================================================================

class TestStageOrderInvariant:
    """Test that stage progression follows the template order."""

    @given(template_st)
    @settings(max_examples=20)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '                assert next_stage == expected
            else:
                state.current_stage = expected_stages[i - 1]
                next_stage = state.get_next_stage()
                assert next_stage == expected

            state.current_stage = expected
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '        assert state.get_next_stage() is None

    @given(template_st)
    @settings(max_examples=20)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L289`
  - Forbidden pattern found: '
        assert expected_stages == actual_stages


# =============================================================================
# Invariant 4: State Serialization is Reversible
# =============================================================================

class TestSerializationInvariant:
    """Test that state can be serialized and deserialized without loss."""

    @given(pipeline_state_st())
    @settings(max_examples=100)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '        assert restored.pipeline_id == state.pipeline_id
        assert restored.template == state.template
        assert restored.status == state.status
        assert restored.request == state.request
        assert restored.current_stage == state.current_stage
        assert restored.stage_order == state.stage_order

        # Verify all stages
        assert set(restored.stages.keys()) == set(state.stages.keys())'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L322`
  - Forbidden pattern found: '            assert restored_stage.stage_name == original_stage.stage_name
            assert restored_stage.status == original_stage.status
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L342`
  - Forbidden pattern found: '
        assert restored.stage_name == stage.stage_name
        assert restored.status == stage.status
        assert restored.error == stage.error


# =============================================================================
# Invariant 5: Valid Status Transitions
# =============================================================================

# Define valid transitions
VALID_TRANSITIONS = {
    PipelineStatus.PENDING: {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L388`
  - Forbidden pattern found: '            assert VALID_TRANSITIONS[status] == set()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L406`
  - Forbidden pattern found: '        assert is_valid or is_same or to_status not in valid_targets

    def test_can_resume_matches_valid_transitions(self):
        """can_resume() should match states that can transition to RUNNING."""
        state = create_pipeline_state('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L418`
  - Forbidden pattern found: '        assert state.can_resume() is True
        assert PipelineStatus.RUNNING in VALID_TRANSITIONS[PipelineStatus.PAUSED]

        # WAITING_APPROVAL can resume
        state.status = PipelineStatus.WAITING_APPROVAL
        assert state.can_resume() is True
        assert PipelineStatus.RUNNING in VALID_TRANSITIONS[PipelineStatus.WAITING_APPROVAL]

        # RUNNING cannot "resume"
        state.status = PipelineStatus.RUNNING
        assert state.can_resume() is False

        # Terminal states cannot resume
        for terminal in TERMINAL_STATUSES:
            state.status = terminal
            assert state.can_resume() is False


# =============================================================================
# Invariant 6: Artifact Collection Order
# =============================================================================

class TestArtifactCollectionInvariant:
    """Test that artifact collection follows stage order."""

    @given(template_st)
    @settings(max_examples=20)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L463`
  - Forbidden pattern found: '        assert "order" in artifacts
        assert "stage" in artifacts

    @given(pipeline_state_st())
    @settings(max_examples=50)'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L484`
  - Forbidden pattern found: '            assert "completed_artifact" in artifacts


# =============================================================================
# Invariant 7: Pipeline ID Uniqueness
# =============================================================================

class TestPipelineIdInvariant:
    """Test pipeline ID generation properties."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L499`
  - Forbidden pattern found: '        assert len(ids) == count

    def test_pipeline_id_format(self):
        """Pipeline ID should follow expected format."""
        pipeline_id = generate_pipeline_id()

        assert pipeline_id.startswith("PL-")
        parts = pipeline_id.split("-")
        assert len(parts) == 3
        assert len(parts[1]) == 8  # YYYYMMDD
        assert len(parts[2]) == 8  # 8 hex chars
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **cyclomatic-complexity-limit** at `L302`
  - Function 'test_to_dict_from_dict_roundtrip' has complexity 11 (max: 10)
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L340`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_state_store.py`** (36 violations)

- ğŸ”µ **single-responsibility-modules** at `L20`
  - Class 'TestPipelineStateStore' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L224`
  - Class 'TestStateStoreList' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **prefer-pytest-raises** at `L197`
  - Forbidden pattern found: 'try:
                # Retry load if we hit a race condition with concurrent write
                for _attempt in range(3):
                    loaded = store.load(state.pipeline_id)
                    if loaded is not None:
                        break
                    time.sleep(0.01)

                if loaded is not None:
                    loaded.config[f"update_{n}"] = n
                    store.save(loaded)
            except Exception as e:
                errors.append(e)

        threads = [threading.Thread(target=update_state, args=(i,)) for i in range(5)]
        for t in threads:
            t.start()
        for t in threads:
            t.join()

        assert len(errors) == 0

        # State should have some updates (order depends on timing)
        final = store.load(state.pipeline_id)
        assert final is not None


class TestStateStoreList:
    """Tests for unified list() method - Phase 6 API Integration."""

    def test_list_all_pipelines(self, state_store, temp_project):
        """list() returns all pipelines when no filter."""
        # Create pipelines with various statuses
        for i, status in enumerate([
            PipelineStatus.PENDING,
            PipelineStatus.RUNNING,
            PipelineStatus.COMPLETED,
            PipelineStatus.FAILED,
        ]):
            state = create_pipeline_state(f"req{i}", temp_project)
            state.status = status
            state_store.save(state)

        all_pipelines = state_store.list()
        assert len(all_pipelines) == 4

    def test_list_filtered_by_status(self, state_store, temp_project):
        """list(status=...) filters correctly."""
        state1 = create_pipeline_state("req1", temp_project)
        state2 = create_pipeline_state("req2", temp_project)
        state3 = create_pipeline_state("req3", temp_project)

        state1.status = PipelineStatus.RUNNING
        state2.status = PipelineStatus.RUNNING
        state3.status = PipelineStatus.COMPLETED

        state_store.save(state1)
        state_store.save(state2)
        state_store.save(state3)

        running = state_store.list(status=PipelineStatus.RUNNING)
        assert len(running) == 2

        completed = state_store.list(status=PipelineStatus.COMPLETED)
        assert len(completed) == 1

    def test_list_respects_limit(self, state_store, temp_project):
        """list(limit=N) returns at most N results."""
        for i in range(10):
            state = create_pipeline_state(f"req{i}", temp_project)
            state_store.save(state)

        limited = state_store.list(limit=5)
        assert len(limited) == 5

    def test_list_ordered_by_date_newest_first(self, state_store, temp_project):
        """list() returns results ordered by created_at descending."""
        import time

        states = []
        for i in range(3):
            state = create_pipeline_state(f"req{i}", temp_project)
            state_store.save(state)
            states.append(state)
            time.sleep(0.01)  # Ensure different timestamps

        result = state_store.list()

        # Newest (last created) should be first
        assert result[0].pipeline_id == states[2].pipeline_id
        assert result[2].pipeline_id == states[0].pipeline_id

    def test_list_empty_store(self, state_store):
        """list() returns empty list when no pipelines."""
        result = state_store.list()
        assert result == []

    def test_list_with_status_and_limit(self, state_store, temp_project):
        """list() combines status filter and limit."""
        for i in range(10):
            state = create_pipeline_state(f"req{i}", temp_project)
            state.status = PipelineStatus.RUNNING if i < 7 else PipelineStatus.COMPLETED
            state_store.save(state)

        running = state_store.list(status=PipelineStatus.RUNNING, limit=3)
        assert len(running) == 3
        for s in running:
            assert'
  - ğŸ’¡ *Use: with pytest.raises(ExceptionType):*
- ğŸŸ¡ **no-sleep-in-tests** at `L203`
  - Forbidden pattern found: 'time.sleep('
  - ğŸ’¡ *Use pytest-timeout, mocking, or async waiting instead*
- ğŸŸ¡ **no-sleep-in-tests** at `L281`
  - Forbidden pattern found: 'time.sleep('
  - ğŸ’¡ *Use pytest-timeout, mocking, or async waiting instead*
- ğŸ”µ **no-bare-assert** at `L27`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.pipeline_id == sample_pipeline_state.pipeline_id
        assert loaded.template == sample_pipeline_state.template
        assert loaded.request == sample_pipeline_state.request
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L36`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L43`
  - Forbidden pattern found: '
        assert (temp_project / ".agentforge" / "pipeline" / "active").exists()
        assert (temp_project / ".agentforge" / "pipeline" / "completed").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '        assert active_path.exists()

        # Mark as completed and save
        sample_pipeline_state.status = PipelineStatus.COMPLETED
        state_store.save(sample_pipeline_state)

        completed_path = state_store._get_completed_path(sample_pipeline_state.pipeline_id)
        assert completed_path.exists()
        assert not active_path.exists()  # Moved from active
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '
        assert state1.pipeline_id in active_ids
        assert state2.pipeline_id in active_ids
        assert state3.pipeline_id not in active_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '
        assert state1.pipeline_id in completed_ids
        assert state2.pipeline_id not in completed_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '        assert len(completed) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '        assert state_store.load(sample_pipeline_state.pipeline_id) is not None

        result = state_store.delete(sample_pipeline_state.pipeline_id)
        assert result is True
        assert state_store.load(sample_pipeline_state.pipeline_id) is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '        assert active_path.exists()

        result = state_store.archive(sample_pipeline_state.pipeline_id)
        assert result is True
        assert not active_path.exists()

        completed_path = state_store._get_completed_path(sample_pipeline_state.pipeline_id)
        assert completed_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L141`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '        assert loaded is None

        # Original file should be quarantined
        corrupted_path = file_path.with_suffix(".yaml.corrupted")
        assert corrupted_path.exists()
        assert not file_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '        assert sample_pipeline_state.pipeline_id in index_data["pipelines"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert len(running) == 2

        paused = state_store.get_by_status(PipelineStatus.PAUSED)
        assert len(paused) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '
        assert len(errors) == 0

        # State should have some updates (order depends on timing)
        final = store.load(state.pipeline_id)
        assert final is not None


class TestStateStoreList:
    """Tests for unified list() method - Phase 6 API Integration."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L241`
  - Forbidden pattern found: '        assert len(all_pipelines) == 4
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '        assert len(running) == 2

        completed = state_store.list(status=PipelineStatus.COMPLETED)
        assert len(completed) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L270`
  - Forbidden pattern found: '        assert len(limited) == 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '        assert result[0].pipeline_id == states[2].pipeline_id
        assert result[2].pipeline_id == states[0].pipeline_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L292`
  - Forbidden pattern found: '        assert result == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '        assert len(running) == 3
        for s in running:
            assert s.status == PipelineStatus.RUNNING
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L116`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L122`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L131`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L140`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L283`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L291`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/pipeline/test_types.py`** (10 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestTypeAliasExports' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L26`
  - Forbidden pattern found: '        assert StageConfigDict is not None

    def test_pipeline_config_dict_importable(self):
        """PipelineConfigDict should be importable."""
        from agentforge.core.pipeline.types import PipelineConfigDict

        assert PipelineConfigDict is not None

    def test_artifact_dict_importable(self):
        """ArtifactDict should be importable."""
        from agentforge.core.pipeline.types import ArtifactDict

        assert ArtifactDict is not None

    def test_tool_params_dict_importable(self):
        """ToolParamsDict should be importable."""
        from agentforge.core.pipeline.types import ToolParamsDict

        assert ToolParamsDict is not None

    def test_tool_result_dict_importable(self):
        """ToolResultDict should be importable."""
        from agentforge.core.pipeline.types import ToolResultDict

        assert ToolResultDict is not None

    def test_test_results_dict_importable(self):
        """TestResultsDict should be importable."""
        from agentforge.core.pipeline.types import TestResultsDict

        assert TestResultsDict is not None


class TestTypeAliasUsage:
    """Verify type aliases work correctly in practice."""

    def test_stage_config_dict_accepts_dict(self):
        """StageConfigDict should accept dict values."""
        from agentforge.core.pipeline.types import StageConfigDict
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert config["max_iterations"] == 20

    def test_artifact_dict_accepts_nested_data(self):
        """ArtifactDict should accept nested structures."""
        from agentforge.core.pipeline.types import ArtifactDict

        artifact: ArtifactDict = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '        assert len(artifact["files"]) == 2

    def test_tool_params_dict_accepts_various_types(self):
        """ToolParamsDict should accept various value types."""
        from agentforge.core.pipeline.types import ToolParamsDict

        params: ToolParamsDict = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '        assert params["verbose"] is True


class TestAllExports:
    """Verify __all__ exports match defined types."""

    def test_all_exports_are_defined(self):
        """All items in __all__ should be importable."""
        from agentforge.core.pipeline import types

        for name in types.__all__:'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '        assert sorted(__all__) == sorted(expected)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/pipeline/test_validator.py`** (70 violations)

- ğŸ”µ **single-responsibility-modules** at `L16`
  - Class 'TestArtifactValidator' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L135`
  - Class 'TestValidateRequired' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L170`
  - Class 'TestValidateTypes' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L278`
  - Class 'TestStageInputValidation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L340`
  - Class 'TestStageOutputValidation' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L384`
  - Class 'TestTransitionValidation' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L437`
  - Class 'TestLanguageSpecificValidation' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '        assert len(errors) == 2
        assert "name" in errors[0] or "name" in errors[1]

        # Has required'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "string" in errors[0]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L72`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "numbers[1]" in errors[0]


class TestValidateRequired:
    """Tests for validate_required()."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L156`
  - Forbidden pattern found: '        assert len(errors) == 2
        assert any("b" in e for e in errors)
        assert any("c" in e for e in errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L166`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "None" in errors[0]


class TestValidateTypes:
    """Tests for validate_types()."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L191`
  - Forbidden pattern found: '        assert len(errors) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '        assert len(errors) == 0

        errors = validator.validate_types('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L213`
  - Forbidden pattern found: '        assert len(errors) == 0


class TestValidateAndRaise:
    """Tests for validate_and_raise()."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L238`
  - Forbidden pattern found: '
        assert "name" in str(exc_info.value)
        assert len(exc_info.value.errors) == 1


class TestValidateArtifactsFunction:
    """Tests for validate_artifacts convenience function."""

    def test_with_required(self):
        """Works with required parameter."""
        errors = validate_artifacts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L252`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "b" in errors[0]

    def test_with_types(self):
        """Works with types parameter."""
        errors = validate_artifacts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '        assert len(errors) == 1

    def test_with_schema(self):
        """Works with schema parameter."""
        schema = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L270`
  - Forbidden pattern found: '        assert len(errors) == 1


# =============================================================================
# Schema-based Stage Validation Tests
# =============================================================================


class TestStageInputValidation:
    """Tests for schema-based stage input validation."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L288`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '        assert len(errors) == 2
        assert any("request_id" in e for e in errors)
        assert any("detected_scope" in e for e in errors)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L318`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L325`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L337`
  - Forbidden pattern found: '        assert len(errors) == 0


class TestStageOutputValidation:
    """Tests for schema-based stage output validation."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L350`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L362`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L369`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L374`
  - Forbidden pattern found: '        assert len(errors) == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '        assert len(errors) == 0


class TestTransitionValidation:
    """Tests for stage transition validation."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L409`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "Invalid transition" in errors[0]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L421`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L434`
  - Forbidden pattern found: '        assert any("clarified_requirements" in str(e) for e in errors)


class TestLanguageSpecificValidation:
    """Tests for language-specific output validation."""

    @pytest.fixture
    def validator(self):
        return ArtifactValidator()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L452`
  - Forbidden pattern found: '        assert len(errors) == 0

        # Wrong extension
        artifacts = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L461`
  - Forbidden pattern found: '        assert len(errors) == 1
        assert "unexpected extension" in errors[0]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L472`
  - Forbidden pattern found: '        assert len(errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L482`
  - Forbidden pattern found: '        assert len(errors) == 0

        # Wrong extension
        artifacts = {'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L491`
  - Forbidden pattern found: '        assert len(errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L19`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L138`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L173`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L219`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L281`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L343`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L387`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L440`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_builtin_checks_architecture.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_builtin_checks_architecture.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_builtin_checks_architecture.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_context_assembler.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_context_assembler.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_context_assembler.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_context_retrieval.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_context_retrieval.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_context_retrieval.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_contracts_execution_naming.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_contracts_execution_naming.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_contracts_execution_naming.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_verification_checks.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_verification_checks.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_verification_checks.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/__pycache__/test_verification_runner.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_verification_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/__pycache__/test_verification_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/bridge/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__pycache__/test_contract_builder.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_contract_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_contract_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__pycache__/test_profile_loader.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_profile_loader.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_profile_loader.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/bridge/__pycache__/test_registry.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/bridge/test_contract_builder.py`** (19 violations)

- ğŸ”µ **single-responsibility-modules** at `L15`
  - Class 'TestContractBuilder' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '
        assert contract.name == "core"
        assert contract.zone == "core"
        assert contract.language == "csharp"
        assert len(contract.checks) == 2
        assert contract.enabled_count == 1
        assert contract.disabled_count == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert contract.name == "generated"
        assert contract.zone is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
        assert "cqrs" in contract.metadata.patterns_mapped
        assert contract.metadata.patterns_mapped["cqrs"] == 0.95
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert output_path is not None
        assert output_path.exists()
        assert output_path.name == "core.contract.yaml"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '
        assert output_path is not None
        assert not output_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert "AUTO-GENERATED CONTRACT" in content
        assert "DO NOT EDIT MANUALLY" in content
        assert "AgentForge Bridge" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '
        assert "generation_metadata:" in content
        assert "source_profile: test.yaml" in content
        assert "source_hash: sha256:abc" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L177`
  - Forbidden pattern found: '
        assert "generation:" in content
        assert "source_pattern: cqrs" in content
        assert "source_confidence: 0.95" in content


class TestContractBuilderEdgeCases:
    """Edge case tests for contract builder."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L200`
  - Forbidden pattern found: '
        assert contract.name == "empty"
        assert len(contract.checks) == 0
        assert contract.enabled_count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '
        assert output_path.name == "my-zone.contract.yaml"
        assert output_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L18`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L23`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L186`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L24`
  - Function 'sample_checks' has 31 lines (max: 30)

**`tests/unit/tools/bridge/test_domain.py`** (26 violations)

- ğŸŸ¡ **max-function-length** at `L220`
  - Function 'test_enabled_disabled_counts' has 54 lines (max: 50)
  - ğŸ’¡ *Extract logic into helper functions or use composition*
- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestConfidenceTier' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L92`
  - Class 'TestMappingContext' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '        assert ConfidenceTier.from_score(0.9) == ConfidenceTier.HIGH
        assert ConfidenceTier.from_score(0.95) == ConfidenceTier.HIGH
        assert ConfidenceTier.from_score(1.0) == ConfidenceTier.HIGH

    def test_from_score_medium(self):
        """Scores 0.6-0.9 are MEDIUM confidence."""
        assert ConfidenceTier.from_score(0.6) == ConfidenceTier.MEDIUM
        assert ConfidenceTier.from_score(0.7) == ConfidenceTier.MEDIUM
        assert ConfidenceTier.from_score(0.89) == ConfidenceTier.MEDIUM

    def test_from_score_low(self):
        """Scores 0.3-0.6 are LOW confidence."""
        assert ConfidenceTier.from_score(0.3) == ConfidenceTier.LOW
        assert ConfidenceTier.from_score(0.5) == ConfidenceTier.LOW
        assert ConfidenceTier.from_score(0.59) == ConfidenceTier.LOW

    def test_from_score_uncertain(self):
        """Scores < 0.3 are UNCERTAIN."""
        assert ConfidenceTier.from_score(0.0) == ConfidenceTier.UNCERTAIN
        assert ConfidenceTier.from_score(0.2) == ConfidenceTier.UNCERTAIN
        assert ConfidenceTier.from_score(0.29) == ConfidenceTier.UNCERTAIN

    def test_auto_enable_only_high(self):
        """Only HIGH tier auto-enables."""
        assert ConfidenceTier.HIGH.auto_enable is True
        assert ConfidenceTier.MEDIUM.auto_enable is False
        assert ConfidenceTier.LOW.auto_enable is False
        assert ConfidenceTier.UNCERTAIN.auto_enable is False

    def test_needs_review(self):
        """MEDIUM and LOW need review."""
        assert ConfidenceTier.HIGH.needs_review is False
        assert ConfidenceTier.MEDIUM.needs_review is True
        assert ConfidenceTier.LOW.needs_review is True
        assert ConfidenceTier.UNCERTAIN.needs_review is False  # Not generated


class TestCheckTemplate:
    """Tests for check templates."""

    def test_create_template(self):
        """Can create a check template."""
        template = CheckTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '
        assert template.id_template == "{zone}-cqrs-command-naming"
        assert template.name == "CQRS Command Naming"
        assert template.check_type == "naming"

    def test_resolve_id(self):
        """Can resolve template ID placeholders."""
        template = CheckTemplate('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L89`
  - Forbidden pattern found: '        assert resolved == "core-test-check"


class TestMappingContext:
    """Tests for mapping context."""

    def test_is_pattern_detected(self):
        """Can check if a pattern is detected."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert context.is_pattern_detected("cqrs") is True
        assert context.is_pattern_detected("nonexistent") is False

    def test_get_pattern_confidence(self):
        """Can get pattern confidence."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert context.get_pattern_confidence("cqrs") == 0.9
        assert context.get_pattern_confidence("nonexistent") == 0.0

    def test_get_pattern_primary(self):
        """Can get pattern primary implementation."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '
        assert context.get_pattern_primary("cqrs") == "MediatR"
        assert context.get_pattern_primary("nonexistent") is None

    def test_has_framework(self):
        """Can check for framework presence."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert context.has_framework("MediatR") is True
        assert context.has_framework("mediatr") is True  # case insensitive
        assert context.has_framework("nonexistent") is False

    def test_language_attribute(self):
        """Can access language directly."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L157`
  - Forbidden pattern found: '
        assert context.language == "csharp"

    def test_get_architecture_style(self):
        """Can get architecture style."""
        context = MappingContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert context.get_architecture_style() == "clean-architecture"


class TestGeneratedCheck:
    """Tests for generated checks."""

    def test_create_check(self):
        """Can create a generated check."""
        check = GeneratedCheck('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert check.id == "core-test"
        assert check.enabled is True

    def test_to_dict(self):
        """Can convert to dictionary."""
        check = GeneratedCheck('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert result["id"] == "core-test"
        assert result["name"] == "Test Check"
        assert result["enabled"] is True
        assert "generation" in result


class TestGeneratedContract:
    """Tests for generated contracts."""

    def test_enabled_disabled_counts(self):
        """Can count enabled and disabled checks."""
        checks = [
            GeneratedCheck('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '
        assert contract.enabled_count == 2
        assert contract.disabled_count == 1

    def test_to_dict(self):
        """Can convert to dictionary."""
        metadata = GenerationMetadata('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '
        assert result["contract"]["name"] == "test"
        assert result["contract"]["description"] == "Test contract"
        assert result["generation_metadata"]["source_profile"] == "test.yaml"
        assert result["checks"] == []


class TestConflict:
    """Tests for conflict detection."""

    def test_create_conflict(self):
        """Can create a conflict."""
        conflict = Conflict('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L315`
  - Forbidden pattern found: '
        assert conflict.conflict_type == ConflictType.DUPLICATE_ID
        assert conflict.generated_check_id == "test-check"
        assert conflict.resolution == ResolutionStrategy.SKIP

    def test_to_dict(self):
        """Can convert to dictionary."""
        conflict = Conflict('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L331`
  - Forbidden pattern found: '
        assert result["type"] == "duplicate_id"
        assert result["generated_check"] == "test-check"
        assert result["resolution"] == "rename"
        assert result["new_id"] == "test-check-v2"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L220`
  - Function 'test_enabled_disabled_counts' has 54 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L296`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L330`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/bridge/test_profile_loader.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L14`
  - Class 'TestProfileLoader' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L129`
  - Class 'TestProfileLoaderEdgeCases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '
        assert raw_profile is not None
        assert "schema_version" in raw_profile
        assert loader.profile_hash.startswith("sha256:")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '        assert zones == ["default"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L85`
  - Forbidden pattern found: '
        assert len(contexts) >= 1
        context = contexts[0]
        assert context.language == "csharp"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '
        assert context.is_pattern_detected("cqrs")
        assert context.get_pattern_confidence("cqrs") == 0.92
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '
        assert context.language == "csharp"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L125`
  - Forbidden pattern found: '
        assert hash1 != hash2


class TestProfileLoaderEdgeCases:
    """Edge case tests for profile loader."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '
        assert len(contexts) >= 1
        assert len(contexts[0].patterns) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L172`
  - Forbidden pattern found: '
        assert len(contexts) >= 1
        assert contexts[0].language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L191`
  - Forbidden pattern found: '
        assert loader.get_primary_language() == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L17`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L51`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸŸ¡ **max-line-length** at `L121`
  - Line exceeds 120 characters (123 chars)
  - ğŸ’¡ *Break long lines for better readability*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L18`
  - Function 'sample_profile_content' has 32 lines (max: 30)

**`tests/unit/tools/bridge/test_registry.py`** (13 violations)

- ğŸ”µ **single-responsibility-modules** at `L15`
  - Class 'TestMappingRegistry' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '        assert len(mappings) > 0

    def test_get_mapping_info(self):
        """Can get info about registered mappings."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L33`
  - Forbidden pattern found: '        assert len(info) > 0

        # Check structure of info items
        for item in info:
            assert "pattern_key" in item
            assert "languages" in item
            assert "min_confidence" in item
            assert "version" in item

    def test_get_mappings_for_language(self):
        """Mappings are filtered by language."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '        assert "cqrs" in csharp_keys
        # pytest mapping is Python only
        assert "framework_pytest" in python_keys

    def test_generate_checks_from_context(self):
        """Can generate checks from a context."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '        assert len(checks) > 0

    def test_generate_checks_with_pattern_filter(self):
        """Can filter by pattern."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L98`
  - Forbidden pattern found: '            assert check.source_pattern == "framework_pytest"


class TestCustomMapping:
    """Tests for creating custom mappings."""

    def test_can_create_and_register_custom_mapping(self):
        """Can create and register a custom mapping."""
        # Save original mappings
        original_mappings = dict(MappingRegistry._mappings)
        original_instances = dict(MappingRegistry._instances)

        try:
            @MappingRegistry.register
            class TestMapping(PatternMapping):
                pattern_key = "test_pattern"
                languages = ["test_lang"]
                min_confidence = 0.5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '            assert any("test_pattern" in k for k in MappingRegistry._mappings)

        finally:
            # Restore original mappings
            MappingRegistry._mappings = original_mappings
            MappingRegistry._instances = original_instances
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L30`
  - Variable name 'info' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸŸ¡ **boolean-naming** at `L117`
  - Boolean function 'matches' should start with is_/has_/can_/should_
  - ğŸ’¡ *Rename to express a yes/no question*

**`tests/unit/tools/cicd/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/cicd/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/__pycache__/test_baseline.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_baseline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_baseline.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/__pycache__/test_outputs.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_outputs.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_outputs.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/__pycache__/test_runner.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/cicd/__pycache__/test_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/cicd/test_baseline.py`** (28 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestBaselineManager' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L158`
  - Class 'TestGitHelper' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L46`
  - Forbidden pattern found: '        assert manager.exists() is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '
        assert manager.exists()

        loaded = manager.load()
        assert loaded is not None
        assert loaded.commit_sha == "abc123"
        assert len(loaded.entries) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '
        assert len(baseline.entries) == 2
        assert baseline.commit_sha == "sha123"
        for violation in sample_violations:
            assert baseline.contains(violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
        assert len(comparison.new_violations) == 0
        assert len(comparison.fixed_violations) == 0
        assert len(comparison.existing_violations) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '
        assert len(comparison.new_violations) == 1
        assert comparison.new_violations[0].check_id == "check3"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert added == 1
        assert removed == 0
        assert len(updated.entries) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '
        assert added == 0
        assert removed == 1
        assert len(updated.entries) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '
        assert stats is not None
        assert stats["total_entries"] == 2
        assert stats["commit_sha"] == "sha123"
        assert "by_check" in stats
        assert "by_file" in stats
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L145`
  - Forbidden pattern found: '        assert stats is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '
        assert files == []

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L204`
  - Forbidden pattern found: '
        assert sha == "abc123def456"

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '
        assert branch == "feature/my-branch"

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '
        assert GitHelper.is_git_repo() is True

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert GitHelper.is_git_repo() is False

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '
        assert result == "deadbeef123"

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '
        assert root == Path("/path/to/repo")

    @patch("subprocess.run")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L25`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L41`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L242`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/cicd/test_domain.py`** (42 violations)

- ğŸ”µ **single-responsibility-modules** at `L46`
  - Class 'TestCIViolation' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L146`
  - Class 'TestBaseline' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L212`
  - Class 'TestBaselineComparison' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L298`
  - Class 'TestCIResult' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L375`
  - Class 'TestCIConfig' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '        assert CIMode.FULL.value == "full"
        assert CIMode.INCREMENTAL.value == "incremental"
        assert CIMode.PR.value == "pr"


class TestExitCode:
    """Tests for ExitCode enum."""

    def test_exit_code_values(self):
        """Test exit code integer values."""
        assert ExitCode.SUCCESS == 0
        assert ExitCode.VIOLATIONS_FOUND == 1
        assert ExitCode.CONFIG_ERROR == 2
        assert ExitCode.RUNTIME_ERROR == 3
        assert ExitCode.BASELINE_NOT_FOUND == 4

    def test_exit_code_description(self):
        """Test exit code descriptions."""
        assert "Success" in ExitCode.SUCCESS.description
        assert "Violations" in ExitCode.VIOLATIONS_FOUND.description
        assert "Configuration" in ExitCode.CONFIG_ERROR.description


class TestCIViolation:
    """Tests for CIViolation dataclass."""

    @pytest.fixture
    def sample_violation(self):
        """Create sample violation for testing."""
        return CIViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '        assert hash1 == hash2
        assert len(hash1) == 16  # Truncated SHA256
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L79`
  - Forbidden pattern found: '        assert sample_violation.hash != other.hash

    def test_hash_same_for_equivalent_violations(self):
        """Test that equivalent violations have same hash."""
        v1 = CIViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L97`
  - Forbidden pattern found: '        assert v1.hash == v2.hash
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L102`
  - Forbidden pattern found: '
        assert sarif["ruleId"] == "PY001"
        assert sarif["level"] == "error"
        assert sarif["message"]["text"] == "Variable name does not match pattern"
        assert len(sarif["locations"]) == 1
        assert sarif["locations"][0]["physicalLocation"]["region"]["startLine"] == 42
        assert "fixes" in sarif  # Has fix hint
        assert "partialFingerprints" in sarif

    def test_to_sarif_result_warning_level(self):
        """Test SARIF level mapping for warning."""
        violation = CIViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '        assert sarif["level"] == "warning"

    def test_to_sarif_result_info_level(self):
        """Test SARIF level mapping for info."""
        violation = CIViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '        assert sarif["level"] == "note"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '
        assert "naming-check" in testcase["name"]
        assert "src/main.py:42" in testcase["name"]
        assert testcase["classname"] == "TestSuite"
        assert "failure" in testcase
        assert testcase["failure"]["type"] == "error"


class TestBaseline:
    """Tests for Baseline dataclass."""

    @pytest.fixture
    def empty_baseline(self):
        """Create empty baseline for testing."""
        return Baseline.create_empty("abc123")

    @pytest.fixture
    def sample_violation(self):
        """Create sample violation for testing."""
        return CIViolation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '        assert empty_baseline.schema_version == "1.0"
        assert empty_baseline.commit_sha == "abc123"
        assert len(empty_baseline.entries) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert len(empty_baseline.entries) == 1
        assert empty_baseline.contains(sample_violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert not empty_baseline.contains(sample_violation)

        empty_baseline.add(sample_violation)
        assert empty_baseline.contains(sample_violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L188`
  - Forbidden pattern found: '        assert empty_baseline.contains(sample_violation)

        result = empty_baseline.remove(sample_violation.hash)
        assert result is True
        assert not empty_baseline.contains(sample_violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L197`
  - Forbidden pattern found: '        assert result is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L205`
  - Forbidden pattern found: '
        assert restored.schema_version == empty_baseline.schema_version
        assert restored.commit_sha == empty_baseline.commit_sha
        assert len(restored.entries) == len(empty_baseline.entries)
        assert restored.contains(sample_violation)


class TestBaselineComparison:
    """Tests for BaselineComparison dataclass."""

    @pytest.fixture
    def baseline_with_violations(self):
        """Create baseline with some violations."""
        baseline = Baseline.create_empty()
        violations = ['
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L237`
  - Forbidden pattern found: '
        assert len(comparison.new_violations) == 0
        assert len(comparison.fixed_violations) == 0
        assert len(comparison.existing_violations) == 3
        assert comparison.net_change == 0
        assert not comparison.introduces_violations
        assert not comparison.has_improvements
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L255`
  - Forbidden pattern found: '
        assert len(comparison.new_violations) == 1
        assert comparison.new_violations[0].check_id == "check4"
        assert len(comparison.fixed_violations) == 0
        assert comparison.net_change == 1
        assert comparison.introduces_violations
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert len(comparison.new_violations) == 0
        assert len(comparison.fixed_violations) == 2  # check2 and check3 fixed
        assert len(comparison.existing_violations) == 1
        assert comparison.net_change == -2
        assert comparison.has_improvements
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L323`
  - Forbidden pattern found: '        assert sample_result.total_violations == 3
        assert sample_result.error_count == 1
        assert sample_result.warning_count == 1
        assert sample_result.info_count == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '        assert sample_result.is_success

        failed = CIResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '        assert not failed.is_success
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L348`
  - Forbidden pattern found: '
        assert "f1.py" in by_file
        assert "f2.py" in by_file
        assert len(by_file["f1.py"]) == 2
        assert len(by_file["f2.py"]) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '
        assert "c1" in by_check
        assert "c2" in by_check
        assert "c3" in by_check
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L365`
  - Forbidden pattern found: '
        assert summary["mode"] == "full"
        assert summary["exit_code"] == 0
        assert summary["total_violations"] == 3
        assert summary["errors"] == 1
        assert summary["warnings"] == 1
        assert summary["files_checked"] == 10
        assert summary["checks_run"] == 5


class TestCIConfig:
    """Tests for CIConfig dataclass."""

    def test_default_config(self):
        """Test default configuration."""
        config = CIConfig()

        assert config.mode == CIMode.FULL
        assert config.parallel_enabled is True
        assert config.max_workers == 4
        assert config.fail_on_new_errors is True
        assert config.fail_on_new_warnings is False

    def test_for_github_actions(self):
        """Test GitHub Actions preset."""
        config = CIConfig.for_github_actions()

        assert config.mode == CIMode.PR
        assert config.output_sarif is True
        assert config.output_junit is False
        assert config.output_markdown is True

    def test_for_azure_devops(self):
        """Test Azure DevOps preset."""
        config = CIConfig.for_azure_devops()

        assert config.mode == CIMode.PR
        assert config.output_sarif is False
        assert config.output_junit is True
        assert config.output_markdown is True

    def test_to_dict_from_dict_roundtrip(self):
        """Test configuration serialization roundtrip."""
        config = CIConfig('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L417`
  - Forbidden pattern found: '
        assert restored.mode == config.mode
        assert restored.parallel_enabled == config.parallel_enabled
        assert restored.max_workers == config.max_workers
        assert restored.fail_on_new_warnings == config.fail_on_new_warnings
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L49`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L149`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L154`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L215`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L301`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L190`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L196`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L203`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L415`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/cicd/test_outputs.py`** (38 violations)

- ğŸ”µ **single-responsibility-modules** at `L98`
  - Class 'TestSarifOutput' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L175`
  - Class 'TestJunitOutput' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L238`
  - Class 'TestMarkdownOutput' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '
        assert sarif["$schema"].endswith("sarif-schema-2.1.0.json")
        assert sarif["version"] == "2.1.0"
        assert "runs" in sarif
        assert len(sarif["runs"]) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '        assert tool["name"] == "test-tool"
        assert "version" in tool
        assert "rules" in tool
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '        assert len(results) == 2

        # Check first result
        assert results[0]["ruleId"] == "PY001"
        assert results[0]["level"] == "error"
        assert "Variable name" in results[0]["message"]["text"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '        assert len(invocations) == 1
        assert invocations[0]["executionSuccessful"] is False  # Has violations
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert len(rules) == 2

        rule_ids = [r["id"] for r in rules]
        assert "PY001" in rule_ids
        assert "doc-check" in rule_ids  # Falls back to check_id when no rule_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '        assert vcs["repositoryUri"] == "https://github.com/owner/repo"
        assert vcs["revisionId"] == "abc123"
        assert vcs["branch"] == "main"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '
        assert output_path.exists()
        content = json.loads(output_path.read_text())
        assert "runs" in content


class TestJunitOutput:
    """Tests for JUnit XML output generation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L181`
  - Forbidden pattern found: '
        assert root.tag == "testsuites"
        assert root.get("tests") == "2"
        assert root.get("failures") == "2"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '        assert len(testsuites) == 1  # Both violations have same contract_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '        assert len(testcases) == 2

        for testcase in testcases:
            assert "name" in testcase.attrib
            assert "classname" in testcase.attrib
            failure = testcase.find("failure")
            assert failure is not None
            assert "message" in failure.attrib
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L213`
  - Forbidden pattern found: '        assert failure is not None
        assert "File:" in failure.text
        assert "Line:" in failure.text
        assert "Severity:" in failure.text
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L223`
  - Forbidden pattern found: '
        assert output_path.exists()
        tree = ET.parse(output_path)
        root = tree.getroot()
        assert root.tag == "testsuites"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L232`
  - Forbidden pattern found: '
        assert xml_string.startswith("<testsuites")
        assert "testcase" in xml_string
        assert "failure" in xml_string


class TestMarkdownOutput:
    """Tests for Markdown output generation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '
        assert "## âŒ AgentForge Conformance Report" in md  # Failed
        assert "### Summary" in md
        assert "### All Violations" in md
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L252`
  - Forbidden pattern found: '
        assert "Mode | full" in md
        assert "Files Checked | 10" in md
        assert "Total Violations | 2" in md
        assert "Errors | 1" in md
        assert "Warnings | 1" in md
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L275`
  - Forbidden pattern found: '
        assert "## âœ…" in md
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '
        assert "### Baseline Comparison" in md
        assert "New Violations" in md
        assert "Fixed Violations" in md
        assert "Existing Violations" in md
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L292`
  - Forbidden pattern found: '
        assert "**`src/main.py`**" in md
        assert "**`src/utils.py`**" in md
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L299`
  - Forbidden pattern found: '
        assert "ğŸ”´" in md  # Error
        assert "ğŸŸ¡" in md  # Warning
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '
        assert "Generated at" in md
        assert "abc123" in md  # Commit SHA
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L315`
  - Forbidden pattern found: '
        assert output_path.exists()
        content = output_path.read_text()
        assert "## " in content

    def test_generate_pr_comment_success(self):
        """Test PR comment format for success."""
        now = datetime.utcnow()
        result = CIResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L336`
  - Forbidden pattern found: '
        assert "âœ… AgentForge Conformance: Passed" in comment
        assert "0** violations" in comment
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '
        assert "âŒ AgentForge Conformance: Failed" in comment
        assert "1 new violation(s) introduced" in comment
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L376`
  - Forbidden pattern found: '
        assert "1 violation(s) fixed!" in comment
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L35`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L60`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L78`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L262`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L323`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L343`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L363`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/cicd/test_runner.py`** (63 violations)

- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'TestCheckCache' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L115`
  - Class 'TestCIRunner' has 19 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '
        assert result is not None
        assert len(result) == 1
        assert result[0].check_id == "check1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '        assert cache.get("test-key") is not None

        # Mock time passing - need to modify the cached_at in the file
        cache_file = cache.cache_dir / "test-key.json"
        data = json.loads(cache_file.read_text())
        data["cached_at"] = (datetime.utcnow() - timedelta(hours=2)).isoformat()
        cache_file.write_text(json.dumps(data))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L75`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert count == 2
        assert cache.get("key1") is None
        assert cache.get("key2") is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert count == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '        assert count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '
        assert (cache_dir / "subdir" / "key.json").exists()


class TestCIRunner:
    """Tests for CIRunner."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert runner.repo_root == repo_root
        assert runner.config.mode == CIMode.FULL

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '
        assert result.mode == CIMode.FULL
        assert result.exit_code == ExitCode.SUCCESS

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L179`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.VIOLATIONS_FOUND
        assert len(result.violations) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L187`
  - Forbidden pattern found: '
        assert runner.config.parallel_enabled is False
        assert runner.config.max_workers == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L195`
  - Forbidden pattern found: '
        assert runner.config.fail_on_new_errors is True
        assert runner.config.fail_on_new_warnings is True

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")
    @patch("agentforge.core.cicd.runner.GitHelper.get_changed_files")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert result.mode == CIMode.INCREMENTAL
        mock_git.assert_called_once()

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '
        assert result.mode == CIMode.PR
        assert result.comparison is not None

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L239`
  - Forbidden pattern found: '
        assert result.duration_seconds >= 0
        assert result.started_at is not None
        assert result.completed_at is not None
        assert result.completed_at >= result.started_at

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")
    @patch("agentforge.core.cicd.runner.GitHelper.get_current_sha")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L253`
  - Forbidden pattern found: '
        assert result.commit_sha == "abc123"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L294`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.SUCCESS

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L305`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.VIOLATIONS_FOUND

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L316`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.SUCCESS

    @patch("agentforge.core.cicd.runner.CIRunner._execute_checks")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L330`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.VIOLATIONS_FOUND
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '
        assert result.exit_code == ExitCode.BASELINE_NOT_FOUND
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L22`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L27`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L32`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L118`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L124`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L144`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L138`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L173`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L115`
  - Class 'TestCIRunner' has 19 methods (max: 15)
- ğŸ”µ **descriptive-naming** at `L47`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L53`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L69`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L74`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L94`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L160`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L178`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L228`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L238`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L252`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L293`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L304`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L315`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L329`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L340`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/conformance/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/conformance/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/conftest.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/__pycache__/test_manager.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_manager.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/__pycache__/test_stores.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_stores.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/conformance/__pycache__/test_stores.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/conformance/test_domain.py`** (57 violations)

- ğŸ”µ **single-responsibility-modules** at `L26`
  - Class 'TestSeverity' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L58`
  - Class 'TestViolationId' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L97`
  - Class 'TestViolation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L154`
  - Class 'TestExemptionScope' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L204`
  - Class 'TestExemption' has 16 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L328`
  - Class 'TestConformanceSummary' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L361`
  - Class 'TestConformanceReport' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L31`
  - Forbidden pattern found: '        assert Severity.from_contract_severity("error") == Severity.BLOCKER

    def test_from_contract_severity_warning(self):
        """Test mapping warning -> major."""
        assert Severity.from_contract_severity("warning") == Severity.MAJOR

    def test_from_contract_severity_info(self):
        """Test mapping info -> minor."""
        assert Severity.from_contract_severity("info") == Severity.MINOR

    def test_from_contract_severity_unknown(self):
        """Test unknown severity defaults to major."""
        assert Severity.from_contract_severity("unknown") == Severity.MAJOR

    def test_from_contract_severity_case_insensitive(self):
        """Test case insensitivity."""
        assert Severity.from_contract_severity("ERROR") == Severity.BLOCKER
        assert Severity.from_contract_severity("Warning") == Severity.MAJOR

    def test_weight_ordering(self):
        """Test severity weights are ordered correctly."""
        assert Severity.BLOCKER.weight > Severity.CRITICAL.weight
        assert Severity.CRITICAL.weight > Severity.MAJOR.weight
        assert Severity.MAJOR.weight > Severity.MINOR.weight
        assert Severity.MINOR.weight > Severity.INFO.weight


class TestViolationId:
    """Tests for Violation.generate_id()."""

    def test_deterministic_id_generation(self):
        """Test same inputs produce same ID."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '        assert id1 == id2

    def test_different_inputs_different_ids(self):
        """Test different inputs produce different IDs."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L71`
  - Forbidden pattern found: '        assert id1 != id2

    def test_id_format(self):
        """Test ID follows V-xxxx format."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '        assert violation_id.startswith("V-")
        assert len(violation_id) == 14  # V- + 12 hex chars

    def test_path_normalization(self):
        """Test Windows paths are normalized."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '        assert id1 == id2

    def test_file_level_violation(self):
        """Test file-level violation (no line number)."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert violation_id.startswith("V-")

    def test_rule_id_affects_hash(self):
        """Test rule_id is included in hash."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '        assert id1 != id2


class TestViolation:
    """Tests for Violation entity."""

    @pytest.fixture
    def violation(self):
        """Create a test violation."""
        return Violation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '
        assert violation.status == ViolationStatus.RESOLVED
        assert violation.resolution is not None
        assert violation.resolution["reason"] == "Fixed the issue"
        assert violation.resolution["resolved_by"] == "user"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '        assert violation.status == ViolationStatus.STALE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L134`
  - Forbidden pattern found: '
        assert violation.status == ViolationStatus.EXEMPTION_EXPIRED
        assert violation.exemption_expired_at is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '
        assert violation.status == ViolationStatus.OPEN
        assert violation.resolution is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L150`
  - Forbidden pattern found: '
        assert violation.status == ViolationStatus.OPEN


class TestExemptionScope:
    """Tests for ExemptionScope."""

    def test_global_scope_matches_any_file(self):
        """Test global scope matches any file."""
        scope = ExemptionScope(type=ExemptionScopeType.GLOBAL)
        assert scope.matches_file("any/file/path.py")
        assert scope.matches_file("another.ts")

    def test_file_pattern_scope(self):
        """Test file pattern matching."""
        scope = ExemptionScope('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L169`
  - Forbidden pattern found: '        assert scope.matches_file("tests/test_foo.py")
        assert scope.matches_file("scripts/run.py")
        assert not scope.matches_file("src/main.py")

    def test_violation_id_scope(self):
        """Test violation ID matching."""
        scope = ExemptionScope('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L179`
  - Forbidden pattern found: '        assert scope.matches_violation_id("V-abc123")
        assert scope.matches_violation_id("V-def456")
        assert not scope.matches_violation_id("V-other")

    def test_line_range_matching(self):
        """Test line range matching."""
        scope = ExemptionScope('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '        assert scope.matches_line(10)
        assert scope.matches_line(15)
        assert scope.matches_line(20)
        assert not scope.matches_line(9)
        assert not scope.matches_line(21)

    def test_no_lines_matches_any(self):
        """Test no line restriction matches any line."""
        scope = ExemptionScope(type=ExemptionScopeType.GLOBAL)
        assert scope.matches_line(1)
        assert scope.matches_line(1000)
        assert scope.matches_line(None)


class TestExemption:
    """Tests for Exemption entity."""

    @pytest.fixture
    def exemption(self):
        """Create a test exemption."""
        return Exemption('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '        assert not exemption.is_expired()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '        assert not exemption.is_expired()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L236`
  - Forbidden pattern found: '        assert exemption.is_expired()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '        assert exemption.is_active()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '        assert not exemption.is_active()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L250`
  - Forbidden pattern found: '        assert not exemption.is_active()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L254`
  - Forbidden pattern found: '        assert not exemption.needs_review()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '        assert not exemption.needs_review()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L264`
  - Forbidden pattern found: '        assert exemption.needs_review()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '        assert exemption.needs_review()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '        assert exemption.covers_check("no-print-statements")
        assert not exemption.covers_check("other-check")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L279`
  - Forbidden pattern found: '        assert exemption.covers_check("any-check")
        assert exemption.covers_check("another-check")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L295`
  - Forbidden pattern found: '        assert exemption.covers_violation(violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '        assert not exemption.covers_violation(violation)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L325`
  - Forbidden pattern found: '        assert not exemption.covers_violation(violation)


class TestConformanceSummary:
    """Tests for ConformanceSummary."""

    def test_default_values(self):
        """Test default summary values."""
        summary = ConformanceSummary()
        assert summary.total == 0
        assert summary.passed == 0
        assert summary.failed == 0
        assert summary.exempted == 0
        assert summary.stale == 0

    def test_total_adjusted_if_needed(self):
        """Test total is adjusted if too small."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '        assert summary.total >= summary.passed + summary.failed + summary.exempted

    def test_compliance_rate_empty(self):
        """Test compliance rate with no checks."""
        summary = ConformanceSummary()
        assert summary.compliance_rate == 1.0

    def test_compliance_rate_calculation(self):
        """Test compliance rate calculation."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L353`
  - Forbidden pattern found: '        assert summary.compliance_rate == 0.8

    def test_open_issues(self):
        """Test open issues count."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L358`
  - Forbidden pattern found: '        assert summary.open_issues == 15


class TestConformanceReport:
    """Tests for ConformanceReport."""

    @pytest.fixture
    def report(self):
        """Create a test report."""
        return ConformanceReport('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '        assert report.has_blockers()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L386`
  - Forbidden pattern found: '        assert not report.has_blockers()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L391`
  - Forbidden pattern found: '        assert report.has_critical()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L395`
  - Forbidden pattern found: '        assert not report.has_critical()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L399`
  - Forbidden pattern found: '        assert not report.is_passing(threshold=Severity.BLOCKER)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L404`
  - Forbidden pattern found: '        assert report.is_passing(threshold=Severity.BLOCKER)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L409`
  - Forbidden pattern found: '        assert not report.is_passing(threshold=Severity.MAJOR)


class TestHistorySnapshot:
    """Tests for HistorySnapshot."""

    @pytest.fixture
    def snapshots(self):
        """Create two test snapshots."""
        old = HistorySnapshot('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L444`
  - Forbidden pattern found: '
        assert delta["passed_delta"] == 10  # 90 - 80
        assert delta["failed_delta"] == -7  # 8 - 15
        assert delta["exempted_delta"] == -3  # 2 - 5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L100`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L207`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L364`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L415`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **class-size-limit** at `L204`
  - Class 'TestExemption' has 16 methods (max: 15)

**`tests/unit/tools/conformance/test_manager.py`** (40 violations)

- ğŸ”µ **single-responsibility-modules** at `L54`
  - Class 'TestConformanceManagerInitialize' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L113`
  - Class 'TestConformanceCheck' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L416`
  - Class 'TestListViolations' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L38`
  - Forbidden pattern found: '
        assert manager.repo_root == tmp_path
        assert manager.agentforge_path == tmp_path / ".agentforge"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L45`
  - Forbidden pattern found: '        assert not manager.is_initialized()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '        assert manager.is_initialized()


class TestConformanceManagerInitialize:
    """Tests for ConformanceManager.initialize()."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '
        assert (tmp_path / ".agentforge").is_dir()
        assert (tmp_path / ".agentforge" / "violations").is_dir()
        assert (tmp_path / ".agentforge" / "exemptions").is_dir()
        assert (tmp_path / ".agentforge" / "history").is_dir()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '        assert report_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L81`
  - Forbidden pattern found: '        assert gitignore.exists()
        assert ".agentforge/local.yaml" in gitignore.read_text()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '        assert "*.pyc" in content
        assert ".agentforge/local.yaml" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '
        assert manager.is_initialized()


class TestConformanceCheck:
    """Tests for run_conformance_check."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '
        assert report.summary.failed == 1
        violations = manager.list_violations()
        assert len(violations) == 1
        assert violations[0].message == "Found print statement"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '        assert v1_id == v2_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L204`
  - Forbidden pattern found: '
        assert second_seen >= first_seen
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L235`
  - Forbidden pattern found: '        assert len(violations) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '        assert len(violations) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L298`
  - Forbidden pattern found: '        assert len(violations) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L323`
  - Forbidden pattern found: '
        assert report.trend is not None
        assert report.trend["failed_delta"] == -1


class TestExemptionHandling:
    """Tests for exemption handling in conformance checks."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L363`
  - Forbidden pattern found: '
        assert report.summary.exempted == 1
        assert report.summary.failed == 0

        violations = manager.list_violations()
        assert violations[0].exemption_id == "test-exemption"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L412`
  - Forbidden pattern found: '        assert updated_exemption is not None
        assert updated_exemption.status == ExemptionStatus.EXPIRED


class TestListViolations:
    """Tests for list_violations filtering."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L469`
  - Forbidden pattern found: '        assert len(open_violations) == 2

        resolved = manager_with_violations.list_violations(status=ViolationStatus.RESOLVED)
        assert len(resolved) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L477`
  - Forbidden pattern found: '        assert len(blockers) == 1
        assert blockers[0].violation_id == "V-001"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L483`
  - Forbidden pattern found: '        assert len(contract_a) == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L488`
  - Forbidden pattern found: '        assert len(tests) == 1
        assert tests[0].violation_id == "V-003"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L494`
  - Forbidden pattern found: '        assert len(limited) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L500`
  - Forbidden pattern found: '        assert all_violations[0].severity == Severity.BLOCKER
        assert all_violations[-1].severity == Severity.MINOR


class TestPruneViolations:
    """Tests for prune_violations."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L528`
  - Forbidden pattern found: '        assert count == 2  # old-resolved and old-stale

        # Verify nothing deleted
        all_violations = manager.list_violations()
        assert len(all_violations) == 4
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L537`
  - Forbidden pattern found: '        assert count == 2

        all_violations = manager.list_violations()
        assert len(all_violations) == 2

        # Open violations preserved
        assert any(v.violation_id == "V-open" for v in all_violations)
        # Recent resolved preserved
        assert any(v.violation_id == "V-recent-resolved" for v in all_violations)


class TestGetSummaryStats:
    """Tests for get_summary_stats."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L555`
  - Forbidden pattern found: '
        assert stats["initialized"] is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L573`
  - Forbidden pattern found: '
        assert stats["initialized"] is True
        assert "last_run" in stats
        assert stats["violations"]["open"] == 1
        assert "c" in stats["contracts_checked"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L116`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L331`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L419`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L507`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L370`
  - Function 'test_expired_exemption_handled' has 38 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L420`
  - Function 'manager_with_violations' has 42 lines (max: 30)

**`tests/unit/tools/conformance/test_stores.py`** (44 violations)

- ğŸ”µ **single-responsibility-modules** at `L33`
  - Class 'TestAtomicFileWriter' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L77`
  - Class 'TestViolationStore' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L230`
  - Class 'TestExemptionRegistry' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L394`
  - Class 'TestHistoryStore' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L42`
  - Forbidden pattern found: '
        assert target.exists()'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L53`
  - Forbidden pattern found: '
        assert not target.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L62`
  - Forbidden pattern found: '
        assert target.exists()
        assert target.read_text() == "content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '
        assert target.read_text() == "new content"


class TestViolationStore:
    """Tests for ViolationStore."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L104`
  - Forbidden pattern found: '        assert (tmp_path / "violations").is_dir()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L112`
  - Forbidden pattern found: '        assert len(loaded) == 1
        assert loaded[0].violation_id == violation.violation_id
        assert loaded[0].contract_id == violation.contract_id
        assert loaded[0].severity == violation.severity
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L124`
  - Forbidden pattern found: '        assert found is not None
        assert found.violation_id == violation.violation_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '
        assert store.get("V-nonexistent") is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '        assert len(violations) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '        assert len(found) == 1
        assert found[0].violation_id == "V-111"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '        assert len(open_violations) == 1
        assert open_violations[0].violation_id == "V-111"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L219`
  - Forbidden pattern found: '        assert file_path.exists()

        with open(file_path) as f:
            data = yaml.safe_load(f)

        assert data["violation_id"] == violation.violation_id
        assert data["contract_id"] == violation.contract_id
        assert data["severity"] == "major"
        assert data["status"] == "open"


class TestExemptionRegistry:
    """Tests for ExemptionRegistry."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '        assert (tmp_path / "exemptions").is_dir()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L266`
  - Forbidden pattern found: '        assert len(loaded) == 1
        assert loaded[0].id == exemption.id
        assert loaded[0].contract_id == exemption.contract_id
        assert loaded[0].scope.type == ExemptionScopeType.FILE_PATTERN
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '        assert len(active) == 1
        assert active[0].id == "legacy-logging"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L312`
  - Forbidden pattern found: '        assert len(found_expired) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '        assert len(found) == 1
        assert found[0].id == "review-me"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '        assert found is not None
        assert found.id == "legacy-logging"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L377`
  - Forbidden pattern found: '        assert found is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L390`
  - Forbidden pattern found: '        assert found is not None
        assert found.status == ExemptionStatus.EXPIRED


class TestHistoryStore:
    """Tests for HistoryStore."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L419`
  - Forbidden pattern found: '        assert (tmp_path / "history").is_dir()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L428`
  - Forbidden pattern found: '        assert expected_path.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L436`
  - Forbidden pattern found: '        assert loaded is not None
        assert loaded.date == snapshot.date
        assert loaded.summary.failed == snapshot.summary.failed
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L444`
  - Forbidden pattern found: '        assert loaded is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L469`
  - Forbidden pattern found: '        assert snapshots[0].date < snapshots[-1].date
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L495`
  - Forbidden pattern found: '        assert len(remaining) <= 31  # 30 days + possible .gitkeep
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L526`
  - Forbidden pattern found: '        assert loaded.summary.failed == 20  # Second snapshot
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L80`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L85`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L233`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L238`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L397`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L402`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L145`
  - Function 'test_find_by_contract' has 31 lines (max: 30)
- ğŸŸ¡ **function-size-limit** at `L179`
  - Function 'test_find_by_status' has 31 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L222`
  - Variable name 'data' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/generate/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/generate/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_engine.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_engine.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_engine.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_parser.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_parser.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_parser.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_prompt_builder.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_prompt_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_prompt_builder.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_provider.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_provider.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_provider.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/__pycache__/test_writer.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_writer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/generate/__pycache__/test_writer.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/generate/test_domain.py`** (53 violations)

- ğŸ”µ **single-responsibility-modules** at `L91`
  - Class 'TestAPIError' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L165`
  - Class 'TestGeneratedFile' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L228`
  - Class 'TestGenerationContext' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L291`
  - Class 'TestGenerationResult' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L34`
  - Forbidden pattern found: '        assert GenerationPhase.RED.value == "red"

    def test_has_green_phase(self):
        assert GenerationPhase.GREEN.value == "green"

    def test_has_refactor_phase(self):
        assert GenerationPhase.REFACTOR.value == "refactor"


class TestGenerationMode:
    """Tests for GenerationMode enum."""

    def test_has_full_mode(self):
        assert GenerationMode.FULL.value == "full"

    def test_has_incremental_mode(self):
        assert GenerationMode.INCREMENTAL.value == "incremental"

    def test_has_fix_mode(self):
        assert GenerationMode.FIX.value == "fix"


class TestFileAction:
    """Tests for FileAction enum."""

    def test_has_create_action(self):
        assert FileAction.CREATE.value == "create"

    def test_has_modify_action(self):
        assert FileAction.MODIFY.value == "modify"

    def test_has_delete_action(self):
        assert FileAction.DELETE.value == "delete"


# =============================================================================
# Exception Tests
# =============================================================================


class TestGenerationError:
    """Tests for GenerationError exception."""

    def test_message_captured(self):
        error = GenerationError("test error")
        assert str(error) == "test error"
        assert error.message == "test error"

    def test_details_default_empty(self):
        error = GenerationError("test")
        assert error.details == {}

    def test_details_captured(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '        assert error.details == {"key": "value"}


class TestAPIError:
    """Tests for APIError exception."""

    def test_captures_status_code(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '        assert error.status_code == 429

    def test_captures_response(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '        assert error.response == "Rate limited"

    def test_retryable_default_true(self):
        error = APIError("API failed")
        assert error.retryable is True

    def test_retryable_can_be_false(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '        assert error.retryable is False


class TestParseError:
    """Tests for ParseError exception."""

    def test_captures_raw_response(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '        assert error.raw_response == "invalid json"

    def test_captures_position(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L120`
  - Forbidden pattern found: '        assert error.position == 42


class TestWriteError:
    """Tests for WriteError exception."""

    def test_captures_path(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '        assert error.path == Path("/test/file.py")

    def test_captures_original_error(self):
        original = OSError("disk full")'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '        assert error.original_error is original


# =============================================================================
# TokenUsage Tests
# =============================================================================


class TestTokenUsage:
    """Tests for TokenUsage value object."""

    def test_total_tokens_calculation(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L146`
  - Forbidden pattern found: '        assert usage.total_tokens == 150

    def test_cost_estimate_calculation(self):
        # 1000 prompt tokens + 1000 completion tokens'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert abs(usage.cost_estimate - 0.018) < 0.0001

    def test_frozen_immutable(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '        assert file.path == Path("src/test.py")
        assert file.content == "# test"

    def test_creation_with_path_object(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L175`
  - Forbidden pattern found: '        assert file.path == Path("src/test.py")

    def test_default_action_is_create(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L179`
  - Forbidden pattern found: '        assert file.action == FileAction.CREATE

    def test_is_new_for_create(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert file.is_new is True
        assert file.is_modification is False

    def test_is_modification_for_modify(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L188`
  - Forbidden pattern found: '        assert file.is_new is False
        assert file.is_modification is True

    def test_line_count(self):
        content = "line1\nline2\nline3"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L194`
  - Forbidden pattern found: '        assert file.line_count == 3

    def test_line_count_empty_file(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L198`
  - Forbidden pattern found: '        assert file.line_count == 0

    def test_diff_summary_new_file(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '        assert file.diff_summary() == "New file: 2 lines"

    def test_diff_summary_modification(self):
        file = GeneratedFile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L211`
  - Forbidden pattern found: '        assert file.diff_summary() == "Modified: 1 â†’ 3 lines (+2)"

    def test_diff_summary_modification_reduction(self):
        file = GeneratedFile('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '        assert file.diff_summary() == "Modified: 3 â†’ 1 lines (-2)"


# =============================================================================
# GenerationContext Tests
# =============================================================================


class TestGenerationContext:
    """Tests for GenerationContext entity."""

    def test_basic_creation(self):
        spec = {"name": "test"}'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L234`
  - Forbidden pattern found: '        assert ctx.spec == spec
        assert ctx.phase == GenerationPhase.RED

    def test_default_mode_is_full(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L239`
  - Forbidden pattern found: '        assert ctx.mode == GenerationMode.FULL

    def test_patterns_default_empty(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L243`
  - Forbidden pattern found: '        assert ctx.patterns == {}

    def test_examples_default_empty(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '        assert ctx.examples == []

    def test_for_red_factory(self):
        spec = {"name": "TestComponent"}
        ctx = GenerationContext.for_red('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '        assert ctx.phase == GenerationPhase.RED
        assert ctx.mode == GenerationMode.FULL
        assert ctx.component_name == "TestComponent"
        assert ctx.patterns == {"test_pattern": "pytest"}

    def test_for_green_factory(self):
        spec = {"name": "TestComponent"}
        ctx = GenerationContext.for_green('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L268`
  - Forbidden pattern found: '        assert ctx.phase == GenerationPhase.GREEN
        assert ctx.mode == GenerationMode.FULL
        assert ctx.existing_tests == "def test_foo(): pass"

    def test_for_fix_factory(self):
        spec = {"name": "TestComponent"}
        error_ctx = {"test_error": "assertion failed"}
        ctx = GenerationContext.for_fix('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '        assert ctx.phase == GenerationPhase.GREEN
        assert ctx.mode == GenerationMode.FIX
        assert ctx.error_context == error_ctx


# =============================================================================
# GenerationResult Tests
# =============================================================================


class TestGenerationResult:
    """Tests for GenerationResult entity."""

    def test_success_creation(self):
        result = GenerationResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '        assert result.success is True
        assert result.file_count == 1

    def test_failure_creation(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '        assert result.success is False
        assert result.error == "API timeout"

    def test_tokens_used_with_usage(self):
        result = GenerationResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L314`
  - Forbidden pattern found: '        assert result.tokens_used == 150
        assert result.prompt_tokens == 100
        assert result.completion_tokens == 50

    def test_tokens_used_without_usage(self):
        result = GenerationResult(success=True)
        assert result.tokens_used == 0
        assert result.prompt_tokens == 0
        assert result.completion_tokens == 0

    def test_total_lines(self):
        result = GenerationResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L332`
  - Forbidden pattern found: '        assert result.total_lines == 5

    def test_failure_factory(self):
        result = GenerationResult.failure('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L340`
  - Forbidden pattern found: '        assert result.success is False
        assert result.error == "Parse failed"
        assert result.raw_response == "invalid"
        assert result.duration_seconds == 1.5

    def test_success_factory(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '        assert result.success is True
        assert result.files == files
        assert result.explanation == "Done"
        assert result.model == "claude-sonnet-4-20250514"
        assert result.token_usage == usage

    def test_summary_success(self):
        result = GenerationResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L369`
  - Forbidden pattern found: '        assert "1 files" in summary
        assert "2 lines" in summary
        assert "150 tokens" in summary
        assert "1.5s" in summary

    def test_summary_failure(self):
        result = GenerationResult.failure(error="API timeout")
        assert "failed" in result.summary().lower()
        assert "API timeout" in result.summary()

    def test_timestamp_default(self):
        before = datetime.utcnow()
        result = GenerationResult(success=True)
        after = datetime.utcnow()
        assert before <= result.timestamp <= after
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L295`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L305`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L319`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L325`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L335`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L348`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L362`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L375`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L381`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/generate/test_engine.py`** (51 violations)

- ğŸ”µ **single-responsibility-modules** at `L77`
  - Class 'TestGenerationEngineBasic' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L143`
  - Class 'TestGenerationEngineErrors' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L220`
  - Class 'TestGenerationSession' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L90`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.file_count == 1
        assert result.model == "test-model"
        assert (tmp_path / "src/module.py").exists()

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.file_count == 1
        # File should NOT be written in dry run
        assert not (tmp_path / "src/module.py").exists()

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '
        assert result.tokens_used == 150
        assert result.prompt_tokens == 100
        assert result.completion_tokens == 50

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '
        assert result.duration_seconds > 0

    @pytest.mark.asyncio
    async def test_generate_includes_explanation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '
        assert "Here's the test file" in result.explanation
        assert "creates a basic test" in result.explanation


class TestGenerationEngineErrors:
    """Error handling tests."""

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L156`
  - Forbidden pattern found: '
        assert result.success is False
        assert "API error" in result.error
        assert "Rate limited" in result.error

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L172`
  - Forbidden pattern found: '
        assert result.success is False
        assert "Parse error" in result.error

    @pytest.mark.asyncio
    async def test_write_error_returns_failure('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
        assert result.success is False
        assert "Write error" in result.error

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L200`
  - Forbidden pattern found: '
        assert result.raw_response is not None


class TestGenerationEngineSync:
    """Synchronous interface tests."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.file_count == 1


# =============================================================================
# GenerationSession Tests
# =============================================================================


class TestGenerationSession:
    """Session management tests."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L231`
  - Forbidden pattern found: '
        assert result.success is True
        assert len(session.results) == 1

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L244`
  - Forbidden pattern found: '
        assert result.success is True

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L256`
  - Forbidden pattern found: '
        assert result.success is True

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L267`
  - Forbidden pattern found: '        assert session.total_tokens_used == 300

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '        assert session.total_files_generated == 2

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L285`
  - Forbidden pattern found: '
        assert session.all_succeeded is True

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
        assert session.all_succeeded is False

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '        assert "2" in summary  # 2 steps
        assert "succeeded" in summary
        assert "Files" in summary
        assert "Tokens" in summary


# =============================================================================
# Convenience Function Tests
# =============================================================================


class TestConvenienceFunctions:
    """Tests for convenience functions."""

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L333`
  - Forbidden pattern found: '
        assert result.success is True


# =============================================================================
# Integration Tests
# =============================================================================


class TestEngineIntegration:
    """Integration tests with real components (except provider)."""

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L359`
  - Forbidden pattern found: '    assert 1 + 1 == 2

def test_subtract():
    """Test subtraction."""
    assert 5 - 3 == 2
```
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L395`
  - Forbidden pattern found: '        assert result.success is True
        assert result.file_count == 1
        assert result.tokens_used == 600

        # Verify file was written
        test_file = tmp_path / "tests/test_calculator.py"
        assert test_file.exists()

        content = test_file.read_text()
        assert "test_add" in content
        assert "test_subtract" in content

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L438`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.file_count == 2
        assert (tmp_path / "tests/test_greeter.py").exists()
        assert (tmp_path / "src/greeter.py").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L34`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L55`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L63`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L80`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L223`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L346`
  - Function 'test_full_workflow' has 45 lines (max: 30)
- ğŸ”µ **descriptive-naming** at `L89`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L107`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L115`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L137`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L155`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L171`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L185`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L199`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L209`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L230`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L243`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L255`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L392`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L437`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L328`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/generate/test_parser.py`** (52 violations)

- ğŸ”µ **single-responsibility-modules** at `L27`
  - Class 'TestResponseParserBasic' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L95`
  - Class 'TestResponseParserContentCleaning' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L147`
  - Class 'TestResponseParserSyntaxValidation' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L195`
  - Class 'TestResponseParserImplicitPaths' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L242`
  - Class 'TestResponseParserExplanation' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L295`
  - Class 'TestMultiLanguageParser' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L389`
  - Class 'TestEdgeCases' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L43`
  - Forbidden pattern found: '        assert len(files) == 1
        assert files[0].path == Path("src/calculator.py")
        assert "def add" in files[0].content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert len(files) == 2
        assert files[0].path == Path("tests/test_calc.py")
        assert files[1].path == Path("src/calc.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L72`
  - Forbidden pattern found: '        assert len(files) == 1
        assert files[0].path == Path("src/module.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '        assert files[0].action == FileAction.CREATE
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '        assert "No code files found" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '        assert exc_info.value.raw_response == "No code here"


class TestResponseParserContentCleaning:
    """Tests for content cleaning."""

    @pytest.fixture
    def parser(self):
        return ResponseParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '        assert "   \n" not in files[0].content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '        assert files[0].content.startswith("def foo")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '        assert files[0].content.rstrip() == "def foo():\n    pass"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '        assert "\n\n" in files[0].content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '        assert files[0].content.endswith("\n")


class TestResponseParserSyntaxValidation:
    """Tests for Python syntax validation."""

    @pytest.fixture
    def parser(self):
        return ResponseParser(validate_syntax=True)

    @pytest.fixture
    def no_validate_parser(self):
        return ResponseParser(validate_syntax=False)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L164`
  - Forbidden pattern found: '        assert len(files) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L173`
  - Forbidden pattern found: '        assert "Invalid Python syntax" in str(exc_info.value)
        assert "test.py" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '        assert len(files) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L192`
  - Forbidden pattern found: '        assert exc_info.value.position is not None


class TestResponseParserImplicitPaths:
    """Tests for implicit path inference."""

    @pytest.fixture
    def parser(self):
        return ResponseParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L210`
  - Forbidden pattern found: '        assert len(files) == 1
        assert files[0].path == Path("tests/test_example.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '        assert files[0].path == Path("src/module.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L230`
  - Forbidden pattern found: '        assert files[0].path == Path("src/util.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '        assert "Here's the implementation" in explanation
        assert "creates a simple variable" in explanation
        assert "x = 1" not in explanation
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L273`
  - Forbidden pattern found: '        assert "code" not in explanation or "Before" in explanation
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L285`
  - Forbidden pattern found: '        assert len(files) == 1
        assert "Creating module" in explanation
        assert "Done" in explanation


# =============================================================================
# MultiLanguageParser Tests
# =============================================================================


class TestMultiLanguageParser:
    """Tests for multi-language support."""

    @pytest.fixture
    def parser(self):
        return MultiLanguageParser()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L307`
  - Forbidden pattern found: '        assert len(files) == 1
        assert files[0].path == Path("src/index.ts")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L315`
  - Forbidden pattern found: '        assert files[0].path == Path("src/Program.cs")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L326`
  - Forbidden pattern found: '        assert len(files) == 2
        assert files[0].path.suffix == ".py"
        assert files[1].path.suffix == ".ts"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L343`
  - Forbidden pattern found: '        assert len(files) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L351`
  - Forbidden pattern found: '        assert len(files) == 1


# =============================================================================
# Convenience Function Tests
# =============================================================================


class TestParseResponseFunction:
    """Tests for the parse_response convenience function."""

    def test_basic_usage(self):
        response = '''```python:test.py
x = 1
```'''
        files = parse_response(response)
        assert len(files) == 1

    def test_with_validation_disabled(self):
        response = '''```python:test.py
def bad(
```''''
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L374`
  - Forbidden pattern found: '        assert len(files) == 1

    def test_with_validation_enabled(self):
        response = '''```python:test.py
def bad(
```'''
        with pytest.raises(ParseError):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L416`
  - Forbidden pattern found: '        assert "my module" in str(files[0].path)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L423`
  - Forbidden pattern found: '        assert files[0].path == Path("src/a/b/c/d/e/test.py")
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L430`
  - Forbidden pattern found: '        assert ".." in str(files[0].path)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L441`
  - Forbidden pattern found: '        assert "    def bar" in content
        assert "        if True" in content
        assert "            return" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L451`
  - Forbidden pattern found: '        assert '"""Docstring"""' in files[0].content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L458`
  - Forbidden pattern found: '        assert "`backticks`" in files[0].content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L30`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L98`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L150`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L154`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L198`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L245`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L298`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L392`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/generate/test_prompt_builder.py`** (52 violations)

- ğŸ”µ **single-responsibility-modules** at `L21`
  - Class 'TestPromptBuilder' has 15 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L146`
  - Class 'TestPromptBuilderExistingCode' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L187`
  - Class 'TestPromptBuilderPatterns' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L223`
  - Class 'TestPromptBuilderExamples' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L261`
  - Class 'TestPromptBuilderErrorContext' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-assert-true-false** at `L293`
  - Forbidden pattern found: 'assert False'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸŸ¡ **no-assert-true-false** at `L293`
  - Forbidden pattern found: 'assert False'
  - ğŸ’¡ *Use specific assertions: assert result == expected*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '        assert len(prompt) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '        assert "<system>" in prompt
        assert "</system>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '        assert "<context>" in prompt
        assert "</context>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '        assert "<specification>" in prompt
        assert "SessionManager" in prompt
        assert "Manages session lifecycle" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '        assert "<phase>red</phase>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L85`
  - Forbidden pattern found: '        assert "<mode>fix</mode>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L94`
  - Forbidden pattern found: '        assert "<component>SessionManager</component>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert "<instructions>" in prompt
        assert "</instructions>" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '        assert "<output_format>" in prompt
        assert "```python:path/to/file.py" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L111`
  - Forbidden pattern found: '        assert "failing tests" in prompt.lower()
        assert "pytest" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '        assert "pass the tests" in prompt.lower()
        assert "minimal implementation" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '        assert "refactor" in prompt.lower()
        assert "tests must still pass" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert "fix" in prompt.lower()
        assert "error" in prompt.lower()


class TestPromptBuilderExistingCode:
    """Tests for existing code handling."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()

    @pytest.fixture
    def sample_spec(self):
        return {"name": "Test"}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L160`
  - Forbidden pattern found: '    assert 1 + 1 == 2
"""
        context = GenerationContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L168`
  - Forbidden pattern found: '        assert "<existing_tests" in prompt
        assert "test_example" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L183`
  - Forbidden pattern found: '        assert "<existing_implementation" in prompt
        assert "class Example" in prompt


class TestPromptBuilderPatterns:
    """Tests for pattern handling."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()

    @pytest.fixture
    def sample_spec(self):
        return {"name": "Test"}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L208`
  - Forbidden pattern found: '        assert "<patterns" in prompt
        assert "pytest" in prompt
        assert "snake_case" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L220`
  - Forbidden pattern found: '        assert "<patterns>" not in prompt or "<patterns" not in prompt


class TestPromptBuilderExamples:
    """Tests for code examples handling."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()

    @pytest.fixture
    def sample_spec(self):
        return {"name": "Test"}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L247`
  - Forbidden pattern found: '        assert "<examples" in prompt
        assert "test_existing.py" in prompt
        assert "def test_foo" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L258`
  - Forbidden pattern found: '        assert "<examples>" not in prompt


class TestPromptBuilderErrorContext:
    """Tests for error context handling."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()

    @pytest.fixture
    def sample_spec(self):
        return {"name": "Test"}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L283`
  - Forbidden pattern found: '        assert "<error_context" in prompt
        assert "AssertionError: expected True" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '        assert "<stack_trace>" in prompt
        assert "line 10" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '        assert "<failing_tests>" in prompt
        assert "test_one" in prompt
        assert "test_two" in prompt


class TestPromptBuilderOutputPaths:
    """Tests for output path hints."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L338`
  - Forbidden pattern found: '        assert "tests/unit/test_my_component.py" in prompt
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L355`
  - Forbidden pattern found: '        assert "src/my_component.py" in prompt


class TestPromptBuilderTokenEstimation:
    """Tests for token estimation."""

    @pytest.fixture
    def builder(self):
        return PromptBuilder()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L369`
  - Forbidden pattern found: '        assert estimate == 100
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L372`
  - Forbidden pattern found: '        assert builder.estimate_tokens("") == 0


# =============================================================================
# PromptTemplates Tests
# =============================================================================


class TestPromptTemplates:
    """Tests for PromptTemplates helper class."""

    def test_simple_test_prompt(self):
        prompt = PromptTemplates.simple_test_prompt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L392`
  - Forbidden pattern found: '        assert "Calculator" in prompt
        assert "add" in prompt
        assert "subtract" in prompt
        assert "tests/test_calculator.py" in prompt
        assert "pytest" in prompt.lower()

    def test_simple_impl_prompt(self):
        prompt = PromptTemplates.simple_impl_prompt('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L404`
  - Forbidden pattern found: '        assert "Calculator" in prompt
        assert "test_add" in prompt
        assert "src/calculator.py" in prompt
        assert "pass the tests" in prompt.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L24`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L149`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L153`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L190`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L194`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L226`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L230`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L264`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L268`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L319`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L361`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/generate/test_provider.py`** (24 violations)

- ğŸ”µ **single-responsibility-modules** at `L27`
  - Class 'TestClaudeProvider' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L176`
  - Class 'TestManualProvider' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L268`
  - Class 'TestGetProvider' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L32`
  - Forbidden pattern found: '        assert provider.model_name == "claude-sonnet-4-20250514"

    def test_custom_model(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L36`
  - Forbidden pattern found: '        assert provider.model_name == "claude-3-5-haiku-20241022"

    def test_is_available_with_key(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '        assert provider.is_available is True

    def test_is_available_without_key(self):
        # Ensure no API key from env affects this test'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '            assert provider.is_available is False

    def test_reads_api_key_from_env(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '            assert provider._api_key == "env-key"

    def test_count_tokens_approximation(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L58`
  - Forbidden pattern found: '        assert provider.count_tokens(text) == 100

    @pytest.mark.asyncio
    async def test_generate_success(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L74`
  - Forbidden pattern found: '
        assert text == "Generated code here"
        assert usage.prompt_tokens == 100
        assert usage.completion_tokens == 50

    @pytest.mark.asyncio
    async def test_generate_no_api_key_raises(self):
        # Clear env BEFORE creating provider'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
            assert "No API key" in str(exc_info.value)
            assert exc_info.value.retryable is False

    @pytest.mark.asyncio
    async def test_generate_retries_on_rate_limit(self):
        import anthropic
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L118`
  - Forbidden pattern found: '
        assert text == "Success"
        assert mock_client.messages.create.call_count == 2

    @pytest.mark.asyncio
    async def test_generate_fails_on_auth_error(self):
        import anthropic
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '            assert mock_client.messages.create.call_count == 1
            assert exc_info.value.status_code == 401
            assert exc_info.value.retryable is False

    @pytest.mark.asyncio
    async def test_generate_retries_on_server_error(self):
        import anthropic
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L167`
  - Forbidden pattern found: '        assert mock_client.messages.create.call_count == 3  # 1 + 2 retries
        assert exc_info.value.retryable is True


# =============================================================================
# ManualProvider Tests
# =============================================================================


class TestManualProvider:
    """Tests for ManualProvider."""

    def test_model_name_is_manual(self):
        provider = ManualProvider()
        assert provider.model_name == "manual"

    def test_is_available_always_true(self):
        provider = ManualProvider()
        assert provider.is_available is True

    def test_count_tokens_approximation(self):
        provider = ManualProvider()
        text = "a" * 400
        assert provider.count_tokens(text) == 100

    def test_default_file_paths(self):
        provider = ManualProvider()
        assert provider._prompt_file == Path(".agentforge/generation_prompt.txt")
        assert provider._response_file == Path(".agentforge/generation_response.txt")

    def test_custom_file_paths(self):
        provider = ManualProvider('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '        assert provider._prompt_file == Path("/custom/prompt.txt")
        assert provider._response_file == Path("/custom/response.txt")

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L221`
  - Forbidden pattern found: '
        assert prompt_file.read_text() == "Test prompt content"
        assert text == "Generated response"

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '
            assert "not found" in str(exc_info.value)

    @pytest.mark.asyncio'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
            assert "empty" in str(exc_info.value).lower()


# =============================================================================
# get_provider Tests
# =============================================================================


class TestGetProvider:
    """Tests for get_provider factory function."""

    def test_returns_claude_provider_with_api_key(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L286`
  - Forbidden pattern found: '            assert provider._api_key == "explicit-key"

    def test_passes_model_to_claude_provider(self):'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L292`
  - Forbidden pattern found: '            assert provider.model_name == "claude-3-5-haiku-20241022"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/generate/test_writer.py`** (45 violations)

- ğŸ”µ **single-responsibility-modules** at `L19`
  - Class 'TestCodeWriterBasic' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L118`
  - Class 'TestCodeWriterRollback' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L196`
  - Class 'TestCodeWriterHeader' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L268`
  - Class 'TestCodeWriterAtomicWrites' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L394`
  - Class 'TestCodeWriterCleanup' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '
        assert len(paths) == 1
        assert paths[0] == tmp_path / "src/module.py"
        assert (tmp_path / "src/module.py").read_text() == "x = 1\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L48`
  - Forbidden pattern found: '
        assert len(paths) == 2
        assert (tmp_path / "src/a.py").read_text() == "a = 1\n"
        assert (tmp_path / "src/b.py").read_text() == "b = 2\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '
        assert (tmp_path / "deep/nested/dir/file.py").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L68`
  - Forbidden pattern found: '
        assert writer.operation_count == 2
        assert writer.has_pending_operations


class TestCodeWriterBackup:
    """Tests for backup functionality."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert backup_dir.exists()
        backups = list(backup_dir.iterdir())
        assert len(backups) == 1
        assert backups[0].read_text() == "original content\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L115`
  - Forbidden pattern found: '            assert len(list(backup_dir.iterdir())) == 0


class TestCodeWriterRollback:
    """Tests for rollback functionality."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L135`
  - Forbidden pattern found: '        assert (tmp_path / "new.py").exists()

        writer.rollback()
        assert not (tmp_path / "new.py").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L152`
  - Forbidden pattern found: '        assert existing.read_text() == "modified\n"

        # Rollback
        writer.rollback()
        assert existing.read_text() == "original\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '        assert not to_delete.exists()

        # Rollback
        writer.rollback()
        assert to_delete.exists()
        assert to_delete.read_text() == "delete me\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert writer.operation_count == 1

        writer.rollback()
        assert writer.operation_count == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L193`
  - Forbidden pattern found: '        assert count == 2


class TestCodeWriterHeader:
    """Tests for header comment functionality."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '        assert "Generated by AgentForge" in content
        assert "Spec: TestSpec" in content
        assert "Phase: red" in content
        assert "x = 1" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L229`
  - Forbidden pattern found: '        assert content.startswith("#!/usr/bin/env python3")
        assert "Generated by AgentForge" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '        assert content.startswith("# -*- coding: utf-8 -*-")
        assert "Generated by AgentForge" in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L251`
  - Forbidden pattern found: '        assert "Generated by AgentForge" not in content
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L265`
  - Forbidden pattern found: '        assert "Generated by AgentForge" not in content


class TestCodeWriterAtomicWrites:
    """Tests for atomic write functionality."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L293`
  - Forbidden pattern found: '
        assert (tmp_path / "atomic.py").read_text() == "atomic content\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L302`
  - Forbidden pattern found: '
        assert (tmp_path / "non_atomic.py").read_text() == "non atomic content\n"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L314`
  - Forbidden pattern found: '        assert len(tmp_files) == 0


class TestCodeWriterErrorHandling:
    """Tests for error handling."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L345`
  - Forbidden pattern found: '        assert not (tmp_path / "good.py").exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '
        assert exc_info.value.path == Path("is_a_dir")


class TestCodeWriterDeleteAction:
    """Tests for file deletion."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '
        assert not target.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L419`
  - Forbidden pattern found: '
        assert removed == 1
        assert not old_backup.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L432`
  - Forbidden pattern found: '
        assert removed == 0
        assert recent_backup.exists()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L439`
  - Forbidden pattern found: '        assert writer.operation_count == 1

        writer.clear_history()
        assert writer.operation_count == 0


class TestWriteOperation:
    """Tests for WriteOperation dataclass."""

    def test_default_values(self):
        op = WriteOperation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L453`
  - Forbidden pattern found: '        assert op.backup_path is None
        assert op.original_existed is False
        assert op.timestamp is not None

    def test_with_backup(self):
        op = WriteOperation('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L464`
  - Forbidden pattern found: '        assert op.backup_path == Path(".backups/test.py")
        assert op.original_existed is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L22`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L76`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L121`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L199`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L271`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L279`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L320`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L363`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L397`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/tdflow/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/tdflow/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_domain.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/__pycache__/test_orchestrator.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_orchestrator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_orchestrator.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/__pycache__/test_session.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_session.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/__pycache__/test_session.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/phases/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/tdflow/runners/__init__.py`** (1 violations)

- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*

**`tests/unit/tools/tdflow/runners/__pycache__`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/runners/__pycache__/__init__.cpython-311.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/__init__.cpython-311.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/runners/__pycache__/test_dotnet.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/test_dotnet.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/test_dotnet.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/runners/__pycache__/test_pytest_runner.cpython-311-pytest-9.0.2.pyc`** (2 violations)

- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/test_pytest_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*
- ğŸŸ¡ **no-build-artifacts** at `file`
  - Forbidden file exists: 'tests/unit/tools/tdflow/runners/__pycache__/test_pytest_runner.cpython-311-pytest-9.0.2.pyc'
  - ğŸ’¡ *Add build directories to .gitignore*

**`tests/unit/tools/tdflow/runners/test_dotnet.py`** (21 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestDotNetTestRunner' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L49`
  - Forbidden pattern found: '
        assert result.total == 5
        assert result.passed == 5
        assert result.failed == 0
        assert result.errors == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L64`
  - Forbidden pattern found: '
        assert result.total == 5
        assert result.passed == 3
        assert result.failed == 2
        assert result.errors == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L77`
  - Forbidden pattern found: '
        assert result.duration_seconds == 1.234
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L86`
  - Forbidden pattern found: '
        assert result.total == 0
        assert result.passed == 0
        assert result.failed == 0


class TestRunResultProperties:
    """Tests for RunResult property calculations."""

    def test_all_passed_true(self):
        """All passed when all tests pass."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '        assert result.all_passed is True
        assert result.all_failed is False

    def test_all_failed_true(self):
        """All failed when no tests pass."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L108`
  - Forbidden pattern found: '        assert result.all_failed is True
        assert result.all_passed is False

    def test_partial_pass(self):
        """Partial pass neither all passed nor all failed."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L116`
  - Forbidden pattern found: '        assert result.all_passed is False
        assert result.all_failed is False
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L20`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L35`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L48`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L63`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L76`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L85`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L97`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L105`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L113`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/tdflow/runners/test_pytest_runner.py`** (18 violations)

- ğŸ”µ **single-responsibility-modules** at `L11`
  - Class 'TestPytestRunner' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L109`
  - Class 'TestTestRunnerDetection' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '
        assert result.total == 5
        assert result.passed == 5
        assert result.failed == 0
        assert result.duration_seconds == 0.12
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L61`
  - Forbidden pattern found: '
        assert result.total == 5
        assert result.passed == 3
        assert result.failed == 2
        assert result.duration_seconds == 0.56
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '
        assert result.passed == 3
        assert result.failed == 1
        assert result.errors == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L90`
  - Forbidden pattern found: '
        assert result.total == 5
        assert result.passed == 3
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L105`
  - Forbidden pattern found: '        assert result.passed == 3
        assert result.failed == 1


class TestTestRunnerDetection:
    """Tests for test runner auto-detection."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L14`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L28`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L43`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L60`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L75`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L89`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L102`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/tdflow/test_domain.py`** (27 violations)

- ğŸ”µ **single-responsibility-modules** at `L44`
  - Class 'TestRunResult' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L109`
  - Class 'TestTDFlowSession' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '        assert TDFlowPhase.INIT.value == "init"
        assert TDFlowPhase.RED.value == "red"
        assert TDFlowPhase.GREEN.value == "green"
        assert TDFlowPhase.REFACTOR.value == "refactor"
        assert TDFlowPhase.VERIFY.value == "verify"
        assert TDFlowPhase.DONE.value == "done"


class TestComponentStatus:
    """Tests for ComponentStatus enum."""

    def test_status_values(self):
        """Verify all status values exist."""
        assert ComponentStatus.PENDING.value == "pending"
        assert ComponentStatus.RED.value == "red"
        assert ComponentStatus.GREEN.value == "green"
        assert ComponentStatus.REFACTORED.value == "refactored"
        assert ComponentStatus.VERIFIED.value == "verified"
        assert ComponentStatus.FAILED.value == "failed"


class TestRunResult:
    """Tests for RunResult dataclass."""

    def test_all_passed_when_all_pass(self):
        """All passed returns true when all tests pass."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L52`
  - Forbidden pattern found: '        assert result.all_passed is True

    def test_all_passed_false_when_some_fail(self):
        """All passed returns false when some fail."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '        assert result.all_passed is False

    def test_all_passed_false_when_errors(self):
        """All passed returns false when there are errors."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '        assert result.all_passed is False

    def test_all_passed_false_when_no_tests(self):
        """All passed returns false when no tests exist."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L73`
  - Forbidden pattern found: '        assert result.all_passed is False

    def test_all_failed_when_none_pass(self):
        """All failed returns true when no tests pass."""
        result = RunResult('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '        assert result.all_failed is True


class TestVerificationReport:
    """Tests for VerificationReport dataclass."""

    def test_to_dict(self):
        """Verify to_dict serialization."""
        report = VerificationReport('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert result["component"] == "TestComponent"
        assert result["tests"]["passing"] == 8
        assert result["tests"]["total"] == 10
        assert result["coverage"] == 85.5
        assert result["conformance_violations"] == 2
        assert result["verified"] is True
        assert len(result["traceability"]) == 1


class TestTDFlowSession:
    """Tests for TDFlowSession dataclass."""

    @pytest.fixture
    def session(self) -> TDFlowSession:
        """Create a test session."""
        return TDFlowSession('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L130`
  - Forbidden pattern found: '        assert comp is not None
        assert comp.name == "Component2"
        assert comp.status == ComponentStatus.RED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '        assert comp is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L142`
  - Forbidden pattern found: '        assert comp is not None
        assert comp.name == "Component1"
        assert comp.status == ComponentStatus.PENDING
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '        assert session.all_verified() is False

    def test_all_verified_true(self):
        """All verified returns true when all verified."""
        session = TDFlowSession('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L162`
  - Forbidden pattern found: '        assert session.all_verified() is True
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert len(session.history) == initial_count + 1
        assert session.history[-1].action == "test_action"
        assert session.history[-1].phase == TDFlowPhase.RED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L182`
  - Forbidden pattern found: '
        assert summary["pending"] == 1
        assert summary["red"] == 1
        assert summary["verified"] == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L112`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L49`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L56`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L63`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L70`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L77`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/tdflow/test_orchestrator.py`** (25 violations)

- ğŸ”µ **single-responsibility-modules** at `L25`
  - Class 'TestTDFlowOrchestrator' has 11 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L177`
  - Class 'TestOrchestratorComponentSelection' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L65`
  - Forbidden pattern found: '
        assert session is not None
        assert session.session_id.startswith("tdflow_")
        assert session.test_framework == "pytest"
        assert session.coverage_threshold == 75.0
        assert len(session.components) == 1
        assert session.components[0].name == "TestService"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L78`
  - Forbidden pattern found: '
        assert status["active"] is False

    def test_get_status_with_session('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L88`
  - Forbidden pattern found: '
        assert status["active"] is True
        assert "session_id" in status
        assert status["current_phase"] == "init"
        assert len(status["components"]) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '
        assert result.success is False
        assert "No active session" in result.errors[0]

    @patch("agentforge.core.tdflow.phases.red.RedPhaseExecutor.execute")
    @patch("agentforge.core.tdflow.runners.base.TestRunner.for_framework")
    def test_run_red_success('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L134`
  - Forbidden pattern found: '
        assert result.success is True
        assert result.component == "TestService"
        mock_execute.assert_called_once()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert result.success is False
        assert "No active session" in result.errors[0]

    def test_run_green_no_red_component('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '
        assert result.success is False
        assert "RED state" in result.errors[0]

    def test_resume_loads_session('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L172`
  - Forbidden pattern found: '
        assert new_orchestrator.session is not None
        assert new_orchestrator.session.session_id == session_id


class TestOrchestratorComponentSelection:
    """Tests for component selection logic."""

    @pytest.fixture
    def session_with_components(self) -> TDFlowSession:
        """Create a session with multiple components in different states."""
        return TDFlowSession('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '
        assert comp is not None
        assert comp.name == "Red1"
        assert comp.status == ComponentStatus.RED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L207`
  - Forbidden pattern found: '
        assert comp is not None
        assert comp.name == "Pending1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L216`
  - Forbidden pattern found: '
        assert comp is not None
        assert comp.name == "Green1"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L28`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L34`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L51`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L180`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L98`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L133`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L143`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L154`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/tdflow/test_session.py`** (19 violations)

- ğŸ”µ **single-responsibility-modules** at `L20`
  - Class 'TestSessionManager' has 10 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **no-sleep-in-tests** at `L110`
  - Forbidden pattern found: 'time.sleep('
  - ğŸ’¡ *Use pytest-timeout, mocking, or async waiting instead*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '
        assert session.session_id.startswith("tdflow_")
        assert session.spec_file == spec_file
        assert session.test_framework == "pytest"
        assert len(session.components) == 2
        assert session.components[0].name == "TestService"
        assert session.components[1].name == "OtherService"
        assert session.current_phase == TDFlowPhase.INIT
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '
        assert loaded is not None
        assert loaded.session_id == original.session_id
        assert loaded.spec_file == original.spec_file
        assert loaded.current_phase == TDFlowPhase.RED
        assert loaded.components[0].status == ComponentStatus.RED
        assert len(loaded.history) == len(original.history)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L87`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L96`
  - Forbidden pattern found: '
        assert result is not None
        assert result.session_id == latest.session_id
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L103`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '
        assert len(sessions) == 2
        for sess in sessions:
            assert "session_id" in sess
            assert "started_at" in sess
            assert "spec_file" in sess
            assert "current_phase" in sess

    def test_session_serialization_with_artifacts('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L148`
  - Forbidden pattern found: '
        assert loaded.components[0].tests is not None
        assert loaded.components[0].implementation is not None
        assert loaded.components[0].status == ComponentStatus.GREEN
        assert loaded.components[0].coverage == 85.5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L23`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L29`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L48`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L86`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L95`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L102`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/test_builtin_checks_architecture.py`** (55 violations)

- ğŸ”µ **single-responsibility-modules** at `L81`
  - Class 'TestCheckLayerImports' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L289`
  - Class 'TestCheckConstructorInjection' has 8 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L458`
  - Class 'TestCheckDomainPurity' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L607`
  - Class 'TestCheckCircularImports' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L763`
  - Class 'TestEdgeCases' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **no-real-network-calls** at `L469`
  - Forbidden pattern found: 'requests.get('
  - ğŸ’¡ *Use responses, httpretty, or pytest-mock to mock network calls*
- ğŸŸ¡ **no-real-network-calls** at `L890`
  - Forbidden pattern found: 'requests.get('
  - ğŸ’¡ *Use responses, httpretty, or pytest-mock to mock network calls*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "infrastructure" in violations[0]["message"].lower()
        assert violations[0]["severity"] == "error"

    def test_domain_importing_application_fails('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L131`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "application" in violations[0]["message"].lower()

    def test_application_importing_domain_passes('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L159`
  - Forbidden pattern found: '        assert len(domain_violations) == 0

    def test_stdlib_imports_pass('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L187`
  - Forbidden pattern found: '
        assert len(violations) == 0

    def test_import_form_detected('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L211`
  - Forbidden pattern found: '
        assert len(violations) == 2  # Both import forms detected

    def test_qualified_import_detected('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L234`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "infrastructure" in violations[0]["message"].lower()

    def test_no_layer_match_ignored('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L260`
  - Forbidden pattern found: '        assert len(violations) == 0

    def test_syntax_error_gracefully_handled('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L281`
  - Forbidden pattern found: '
        assert len(violations) == 0


# =============================================================================
# Tests for check_constructor_injection
# =============================================================================

class TestCheckConstructorInjection:
    """Tests for constructor injection pattern verification."""

    @pytest.fixture
    def class_patterns(self) -> list:
        """Patterns for classes that should use DI."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L313`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "UserService" in violations[0]["message"]
        assert "no __init__" in violations[0]["message"].lower()

    def test_service_with_no_params_fails('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L337`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "OrderService" in violations[0]["message"]
        assert "no injected dependencies" in violations[0]["message"].lower()

    def test_service_with_injected_deps_passes('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L362`
  - Forbidden pattern found: '
        assert len(violations) == 0

    def test_non_service_class_ignored('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L384`
  - Forbidden pattern found: '
        assert len(violations) == 0

    def test_direct_instantiation_in_init_fails('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L410`
  - Forbidden pattern found: '        assert len(violations) >= 1
        assert any("HttpClient" in v["message"] for v in violations)

    def test_handler_class_checked('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L429`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "RequestHandler" in violations[0]["message"]

    def test_check_for_init_params_disabled('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L450`
  - Forbidden pattern found: '
        assert len(violations) == 0


# =============================================================================
# Tests for check_domain_purity
# =============================================================================

class TestCheckDomainPurity:
    """Tests for domain layer purity verification."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L476`
  - Forbidden pattern found: '
        assert len(violations) >= 1
        assert any("requests" in v["message"] for v in violations)
        assert violations[0]["severity"] == "error"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L496`
  - Forbidden pattern found: '
        assert len(violations) >= 1
        assert any("sqlite3" in v["message"] for v in violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L514`
  - Forbidden pattern found: '
        assert len(violations) >= 1
        assert any("open" in v["message"] for v in violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L533`
  - Forbidden pattern found: '
        assert len(violations) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L562`
  - Forbidden pattern found: '
        assert len(violations) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L579`
  - Forbidden pattern found: '
        assert len(violations) >= 1
        assert any("requests" in v["message"] for v in violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L598`
  - Forbidden pattern found: '
        assert len(violations) == 1
        assert "my_io_library" in violations[0]["message"]


# =============================================================================
# Tests for check_circular_imports
# =============================================================================

class TestCheckCircularImports:
    """Tests for circular import detection."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L635`
  - Forbidden pattern found: '
        assert len(violations) >= 1
        assert any("circular" in v["message"].lower() for v in violations)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L653`
  - Forbidden pattern found: '
        assert len(violations) >= 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L721`
  - Forbidden pattern found: '
        assert len(violations) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L775`
  - Forbidden pattern found: '        assert v1 == []

        # constructor_injection
        v2 = check_constructor_injection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L783`
  - Forbidden pattern found: '        assert v2 == []

        # domain_purity
        v3 = check_domain_purity('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L790`
  - Forbidden pattern found: '        assert v3 == []

        # circular_imports
        v4 = check_circular_imports('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L797`
  - Forbidden pattern found: '        assert v4 == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L810`
  - Forbidden pattern found: '        assert violations == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L821`
  - Forbidden pattern found: '        assert violations == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L837`
  - Forbidden pattern found: '        assert violations == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L862`
  - Forbidden pattern found: '
        assert len(violations) == 1
        # Verify the file path in violation is relative
        assert "domain" in violations[0]["file"]


# =============================================================================
# Integration Tests
# =============================================================================

class TestIntegration:
    """Integration tests combining multiple checks."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L910`
  - Forbidden pattern found: '        assert len(layer_violations) >= 1

        # Check domain purity
        purity_violations = check_domain_purity('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L917`
  - Forbidden pattern found: '        assert len(purity_violations) >= 1

        # Check constructor injection
        di_violations = check_constructor_injection('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L926`
  - Forbidden pattern found: '        assert len(di_violations) >= 1


if __name__ == "__main__":'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸŸ¡ **unit-tests-isolated** at `L481`
  - Forbidden pattern found: 'sqlite3'
  - ğŸ’¡ *Mock database connections in unit tests*
- ğŸŸ¡ **unit-tests-isolated** at `L485`
  - Forbidden pattern found: 'sqlite3'
  - ğŸ’¡ *Mock database connections in unit tests*
- ğŸŸ¡ **unit-tests-isolated** at `L498`
  - Forbidden pattern found: 'sqlite3'
  - ğŸ’¡ *Mock database connections in unit tests*
- ğŸ”µ **fixtures-in-conftest** at `L31`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L50`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L71`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L292`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **no-hardcoded-test-data-paths** at `L891`
  - Forbidden pattern found: 'open("'
  - ğŸ’¡ *Use tmp_path fixture or Path(__file__).parent for test data*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸŸ¡ **function-size-limit** at `L875`
  - Function 'test_complete_architecture_validation' has 42 lines (max: 30)

**`tests/unit/tools/test_context_assembler.py`** (67 violations)

- ğŸ”µ **single-responsibility-modules** at `L45`
  - Class 'TestLayerDetection' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L111`
  - Class 'TestLanguageDetection' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L322`
  - Class 'TestAssemblyMethods' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L395`
  - Class 'TestProcessingMethods' has 12 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L18`
  - Forbidden pattern found: '
        assert assembler.project_path == tmp_path.resolve()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '
        assert assembler.default_budget == 6000
        assert assembler.max_budget == 12000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L40`
  - Forbidden pattern found: '
        assert assembler.default_budget == 8000
        assert assembler.max_budget == 16000


class TestLayerDetection:
    """Tests for architectural layer detection."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L51`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Domain/Order.cs") == "Domain"
        assert assembler.detect_layer("src/Entities/User.cs") == "Domain"
        assert assembler.detect_layer("src/Core/Product.cs") == "Domain"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L59`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Application/OrderService.cs") == "Application"
        assert assembler.detect_layer("src/UseCases/CreateOrder.cs") == "Application"
        assert assembler.detect_layer("src/Handlers/OrderHandler.cs") == "Application"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Infrastructure/Database.cs") == "Infrastructure"
        assert assembler.detect_layer("src/Persistence/OrderRepository.cs") == "Infrastructure"
        assert assembler.detect_layer("src/Repositories/UserRepository.cs") == "Infrastructure"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L75`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Api/OrderController.cs") == "Presentation"
        assert assembler.detect_layer("src/Controllers/UserController.cs") == "Presentation"
        assert assembler.detect_layer("src/Web/Index.cs") == "Presentation"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L83`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Utils/Helper.cs") == "Unknown"
        assert assembler.detect_layer("lib/external.cs") == "Unknown"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '        assert assembler.detect_layer(absolute_path) == "Domain"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L106`
  - Forbidden pattern found: '
        assert assembler.detect_layer("src/Aggregates/Order.cs") == "Domain"
        assert assembler.detect_layer("src/Custom/Thing.cs") == "CustomLayer"


class TestLanguageDetection:
    """Tests for programming language detection."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L117`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.cs") == "csharp"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.py") == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.ts") == "typescript"
        assert assembler.detect_language("file.tsx") == "typescript"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L136`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.js") == "javascript"
        assert assembler.detect_language("file.jsx") == "javascript"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L143`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.go") == "go"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.rs") == "rust"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '
        assert assembler.detect_language("file.xyz") == "text"
        assert assembler.detect_language("file") == "text"


class TestTokenEstimation:
    """Tests for token estimation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L168`
  - Forbidden pattern found: '        assert assembler.estimate_tokens("hello") == 1
        assert assembler.estimate_tokens("hello world") == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert tokens > 0
        assert tokens == len(code) // 4
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L186`
  - Forbidden pattern found: '
        assert assembler.estimate_tokens("") == 0


class TestCodeContext:
    """Tests for CodeContext data class."""

    def test_code_context_creation(self):
        """Test CodeContext creation with required fields."""
        context = CodeContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L202`
  - Forbidden pattern found: '
        assert context.files == []
        assert context.symbols == []
        assert context.patterns == []
        assert context.total_tokens == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L225`
  - Forbidden pattern found: '
        assert len(context.files) == 1
        assert context.files[0].path == "test.py"


class TestFileContext:
    """Tests for FileContext data class."""

    def test_file_context_creation(self):
        """Test FileContext creation."""
        ctx = FileContext('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L242`
  - Forbidden pattern found: '
        assert ctx.path == "src/domain/order.py"
        assert ctx.language == "python"
        assert ctx.layer == "Domain"
        assert ctx.token_count == 5


class TestSymbolInfo:
    """Tests for SymbolInfo data class."""

    def test_symbol_info_creation(self):
        """Test SymbolInfo creation."""
        symbol = SymbolInfo('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L261`
  - Forbidden pattern found: '
        assert symbol.name == "OrderService"
        assert symbol.kind == "class"
        assert symbol.line == 10


class TestPatternMatch:
    """Tests for PatternMatch data class."""

    def test_pattern_match_creation(self):
        """Test PatternMatch creation."""
        match = PatternMatch('
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L278`
  - Forbidden pattern found: '
        assert match.name == "command_handler"
        assert match.description == "Command Handler Pattern"


class TestArchitectureLayer:
    """Tests for ArchitectureLayer enum."""

    def test_layer_values(self):
        """Test ArchitectureLayer has expected values."""
        assert ArchitectureLayer.DOMAIN.value == "Domain"
        assert ArchitectureLayer.APPLICATION.value == "Application"
        assert ArchitectureLayer.INFRASTRUCTURE.value == "Infrastructure"
        assert ArchitectureLayer.PRESENTATION.value == "Presentation"
        assert ArchitectureLayer.UNKNOWN.value == "Unknown"


class TestEdgeCases:
    """Tests for edge cases."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L301`
  - Forbidden pattern found: '
        assert assembler.default_budget == 6000  # Uses built-in default
        assert assembler.max_budget == 12000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '        assert layer is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L319`
  - Forbidden pattern found: '        assert tokens >= 0


class TestAssemblyMethods:
    """Tests for core assembly functionality."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L329`
  - Forbidden pattern found: '
        assert context.files == []
        assert context.symbols == []
        assert context.total_tokens == 0
        assert "query" in context.retrieval_metadata
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L339`
  - Forbidden pattern found: '
        assert context.retrieval_metadata["budget_tokens"] == 1000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L348`
  - Forbidden pattern found: '        assert context.retrieval_metadata["budget_tokens"] == 12000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L358`
  - Forbidden pattern found: '
        assert len(context.files) == 1
        assert "def hello" in context.files[0].content
        assert context.files[0].language == "python"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L367`
  - Forbidden pattern found: '
        assert len(context.files) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L382`
  - Forbidden pattern found: '        assert len(context.files) == 1
        assert len(context.files[0].content) < len(large_content)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L391`
  - Forbidden pattern found: '
        assert "truncated" in truncated.lower()


class TestProcessingMethods:
    """Tests for internal processing methods."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L404`
  - Forbidden pattern found: '        assert file_data == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L407`
  - Forbidden pattern found: '        assert file_data == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L421`
  - Forbidden pattern found: '
        assert "src/test.py" in file_data
        assert file_data["src/test.py"]["score"] == 0.95
        assert "def test_function" in file_data["src/test.py"]["content"]
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L432`
  - Forbidden pattern found: '        assert file_data == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L435`
  - Forbidden pattern found: '        assert file_data == {}
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L453`
  - Forbidden pattern found: '
        assert "src/service.py" in file_data
        assert len(file_data["src/service.py"]["symbols"]) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L463`
  - Forbidden pattern found: '        assert file_data["test.py"]["score"] == 0.5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L466`
  - Forbidden pattern found: '        assert file_data["test.py"]["score"] == 0.5
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L477`
  - Forbidden pattern found: '
        assert file_data["order_service.py"]["score"] == 1.5  # boosted
        assert file_data["user_service.py"]["score"] == 0.5  # not boosted
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L486`
  - Forbidden pattern found: '        assert result == "cached content"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L495`
  - Forbidden pattern found: '
        assert result == "file content from disk"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L502`
  - Forbidden pattern found: '
        assert result == ""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L513`
  - Forbidden pattern found: '
        assert result_content == content
        assert result_tokens == assembler.estimate_tokens(content)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L525`
  - Forbidden pattern found: '
        assert len(result_content) < len(content)
        assert result_tokens == 500
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L539`
  - Forbidden pattern found: '
        assert result_content is None
        assert result_tokens == 0


class TestCodeContextMethods:
    """Tests for CodeContext output methods."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L561`
  - Forbidden pattern found: '
        assert "summary" in result
        assert result["summary"]["total_files"] == 1
        assert result["summary"]["total_tokens"] == 100
        assert "files" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L581`
  - Forbidden pattern found: '
        assert "# Code Context" in result
        assert "Domain Layer" in result
        assert "```python" in result
        assert "def test(): pass" in result
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L602`
  - Forbidden pattern found: '
        assert domain_pos < app_pos < infra_pos


if __name__ == "__main__":'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L485`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L494`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L501`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L560`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L580`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L596`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/test_context_retrieval.py`** (38 violations)

- ğŸ”µ **single-responsibility-modules** at `L17`
  - Class 'TestContextRetrieverInit' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L127`
  - Class 'TestContextRetrieverRetrieve' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L251`
  - Class 'TestKeywordExtraction' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L23`
  - Forbidden pattern found: '
        assert retriever.project_path == tmp_path.resolve()
        assert retriever.config is not None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L30`
  - Forbidden pattern found: '
        assert "retrieval" in retriever.config
        assert "filters" in retriever.config
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L47`
  - Forbidden pattern found: '
        assert retriever.config["retrieval"]["budget"]["default_tokens"] == 8000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L63`
  - Forbidden pattern found: '
        assert retriever.config["retrieval"]["budget"]["default_tokens"] == 5000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L69`
  - Forbidden pattern found: '
        assert retriever._assembler is None
        assembler = retriever.assembler
        assert assembler is not None
        assert retriever.assembler is assembler  # Same instance


class TestContextRetrieverLSP:
    """Tests for LSP-related functionality."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L82`
  - Forbidden pattern found: '
        assert retriever._lsp_adapter is None
        assert retriever._lsp_available is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert symbols == []
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L103`
  - Forbidden pattern found: '
        assert adapter is None


class TestContextRetrieverVectorSearch:
    """Tests for vector search functionality."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '
        assert retriever._vector_search is None
        assert retriever._vector_available is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L123`
  - Forbidden pattern found: '
        assert results == []


class TestContextRetrieverRetrieve:
    """Tests for the main retrieve method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L163`
  - Forbidden pattern found: '        assert call_kwargs["budget_tokens"] == 6000  # Default
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L180`
  - Forbidden pattern found: '        assert call_kwargs["budget_tokens"] == 4000
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '
        assert "project_path" in context.retrieval_metadata
        assert context.retrieval_metadata["lsp_enabled"]
        assert context.retrieval_metadata["vector_enabled"]


class TestKeywordExtraction:
    """Tests for keyword extraction from queries."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L259`
  - Forbidden pattern found: '
        assert "order" in keywords
        assert "discount" in keywords
        assert "processing" in keywords
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert "the" not in keywords
        assert "is" not in keywords
        assert "order" in keywords
        assert "processing" in keywords
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L280`
  - Forbidden pattern found: '
        assert len(keywords) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L288`
  - Forbidden pattern found: '
        assert "OrderService" in keywords
        assert "DiscountCalculator" in keywords
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L297`
  - Forbidden pattern found: '
        assert len([k for k in keywords if k.lower() == "order"]) == 1


class TestSymbolContext:
    """Tests for get_symbol_context method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L310`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L323`
  - Forbidden pattern found: '
        assert result is None


class TestFileContext:
    """Tests for get_file_context method."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L335`
  - Forbidden pattern found: '
        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L359`
  - Forbidden pattern found: '
        assert result is not None


class TestIndexing:
    """Tests for indexing functionality."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L381`
  - Forbidden pattern found: '
        assert stats.file_count == 0
        assert len(stats.errors) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L388`
  - Forbidden pattern found: '
        assert stats.file_count == 0
        assert stats.chunk_count == 0
        assert stats.symbol_count == 0
        assert stats.duration_ms == 0
        assert stats.errors == []


class TestCheckDependencies:
    """Tests for dependency checking."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L405`
  - Forbidden pattern found: '
        assert "lsp" in status
        assert "vector" in status
        assert "available" in status["lsp"]
        assert "available" in status["vector"]


class TestShutdown:
    """Tests for shutdown and cleanup."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L425`
  - Forbidden pattern found: '        assert retriever._lsp_adapter is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L437`
  - Forbidden pattern found: '
        assert retriever._lsp_adapter is None


if __name__ == "__main__":'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L309`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L322`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L334`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L358`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/test_contracts_execution_naming.py`** (42 violations)

- ğŸ”µ **single-responsibility-modules** at `L22`
  - Class 'TestExtractSymbols' has 9 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L112`
  - Class 'TestExtractClassWithBases' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L154`
  - Class 'TestParseInheritanceList' has 4 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L179`
  - Class 'TestNamingCheck' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L258`
  - Class 'TestAstInterfaceCheck' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '        assert "MyService" in names
        assert "Helper" in names

    def test_extract_csharp_sealed_class(self):
        """Extract C# sealed class."""
        content = """public sealed class SealedService { }"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L44`
  - Forbidden pattern found: '        assert symbols[0][0] == "SealedService"

    def test_extract_csharp_abstract_class(self):
        """Extract C# abstract class."""
        content = """public abstract class BaseHandler { }"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L50`
  - Forbidden pattern found: '        assert symbols[0][0] == "BaseHandler"

    def test_extract_csharp_partial_class(self):
        """Extract C# partial class."""
        content = """public partial class PartialCommand { }"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L56`
  - Forbidden pattern found: '        assert symbols[0][0] == "PartialCommand"

    def test_extract_csharp_interface(self):
        """Extract C# interface names."""
        content = """
public interface IRepository { }
internal interface IService { }
"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L66`
  - Forbidden pattern found: '        assert "IRepository" in names
        assert "IService" in names

    def test_extract_python_class(self):
        """Extract Python class names."""
        content = """
class MyHandler:
    pass

class AnotherClass(BaseClass):
    pass
"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L80`
  - Forbidden pattern found: '        assert "MyHandler" in names
        assert "AnotherClass" in names

    def test_extract_typescript_class(self):
        """Extract TypeScript class names."""
        content = """
export class UserService {
}
abstract class BaseRepository {
}
"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '        assert "UserService" in names
        assert "BaseRepository" in names

    def test_extract_unsupported_language(self):
        """Return empty for unsupported file type."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L99`
  - Forbidden pattern found: '        assert symbols == []

    def test_line_numbers_correct(self):
        """Verify line numbers are correct."""
        content = """line1
line2
public class MyClass {
}
"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L109`
  - Forbidden pattern found: '        assert symbols[0][1] == 3  # Line 3


class TestExtractClassWithBases:
    """Tests for extracting classes with inheritance."""

    def test_csharp_class_with_interface(self):
        """Extract C# class with interface."""
        content = """public class CreateCommand : IRequest<Response> { }"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L119`
  - Forbidden pattern found: '        assert len(classes) == 1
        assert classes[0][0] == "CreateCommand"
        assert "IRequest<Response>" in classes[0][1]

    def test_csharp_class_multiple_interfaces(self):
        """Extract C# class with multiple interfaces."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L127`
  - Forbidden pattern found: '        assert len(classes) == 1'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L129`
  - Forbidden pattern found: '        assert name == "Handler"
        assert "BaseHandler" in bases'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L132`
  - Forbidden pattern found: '        assert "IDisposable" in bases

    def test_csharp_class_no_inheritance(self):
        """Extract C# class without inheritance."""
        content = """public class SimpleClass { }"""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L138`
  - Forbidden pattern found: '        assert len(classes) == 1
        assert classes[0][0] == "SimpleClass"
        assert classes[0][1] == ""

    def test_python_class_with_bases(self):
        """Extract Python class with base classes."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L147`
  - Forbidden pattern found: '        assert len(classes) == 1'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L149`
  - Forbidden pattern found: '        assert name == "MyHandler"
        assert "BaseHandler" in bases
        assert "Mixin" in bases


class TestParseInheritanceList:
    """Tests for parsing inheritance strings."""

    def test_simple_list(self):
        """Parse simple comma-separated list."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L165`
  - Forbidden pattern found: '        assert "IRequest" in bases
        assert "IDisposable" in bases

    def test_where_clause(self):
        """Handle where clause in C#."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L171`
  - Forbidden pattern found: '        assert bases == ["IHandler"]

    def test_empty_string(self):
        """Return empty for empty string."""'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L176`
  - Forbidden pattern found: '        assert bases == []


class TestNamingCheck:
    """Tests for the naming convention check handler."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L209`
  - Forbidden pattern found: '        assert len(violations) == 1  # Only Helper
        assert "Helper" in violations[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "forbidden pattern" in results[0].message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L240`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "missing 'pattern'" in results[0].message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L254`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "invalid" in results[0].message.lower()


class TestAstInterfaceCheck:
    """Tests for the AST interface implementation check handler."""

    @pytest.fixture'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L290`
  - Forbidden pattern found: '        assert len(results) == 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L306`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "must implement 'IRequest'" in results[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L324`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "BadCommand" in results[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L341`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "DeleteUserCommand" in results[0].message
        assert "must not implement" in results[0].message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L356`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "missing 'class_pattern'" in results[0].message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L370`
  - Forbidden pattern found: '        assert len(results) == 1
        assert "invalid" in results[0].message.lower()


class TestIntegration:
    """Integration tests with execute_check."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L394`
  - Forbidden pattern found: '        assert not any("unknown check type" in r.message.lower() for r in results)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L416`
  - Forbidden pattern found: '        assert not any("unknown check type" in r.message.lower() for r in results)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **fixtures-in-conftest** at `L182`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **fixtures-in-conftest** at `L261`
  - Forbidden pattern found: '@pytest.fixture'
  - ğŸ’¡ *Move shared fixtures to conftest.py*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*

**`tests/unit/tools/test_verification_checks.py`** (90 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestCommandCheck' has 7 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L158`
  - Class 'TestRegexCheck' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L249`
  - Class 'TestFileExistsCheck' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L395`
  - Class 'TestCustomCheck' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L483`
  - Class 'TestASTCheck' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **no-bare-assert** at `L37`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
        assert result.check_id == "test_cmd"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L57`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L75`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.ERROR
        assert "timed out" in result.message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L93`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.ERROR
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L113`
  - Forbidden pattern found: '        assert "MyProject" in " ".join(call_args)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L133`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L154`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED


class TestRegexCheck:
    """Tests for regex pattern matching check."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L174`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
        assert "match" in result.message.lower() or "found" in result.message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L190`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L206`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED


class TestFileExistsCheck:
    """Tests for file existence check."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L263`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L277`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L294`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L311`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L327`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L344`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert "Config file required" in str(result.errors)


class TestImportCheck:
    """Tests for layer/import dependency check."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L371`
  - Forbidden pattern found: '        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L390`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) > 0


class TestCustomCheck:
    """Tests for custom Python function check."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L412`
  - Forbidden pattern found: '            assert result.status == CheckStatus.PASSED
        finally:
            sys.path.remove(str(tmp_path))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L429`
  - Forbidden pattern found: '            assert result.status == CheckStatus.FAILED
        finally:
            sys.path.remove(str(tmp_path))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L446`
  - Forbidden pattern found: '            assert result.status == CheckStatus.ERROR
            assert "exception" in result.message.lower()
        finally:
            sys.path.remove(str(tmp_path))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L464`
  - Forbidden pattern found: '            assert result.status == CheckStatus.PASSED
        finally:
            sys.path.remove(str(tmp_path))
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L479`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.ERROR


class TestASTCheck:
    """Tests for AST-based code checks."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L498`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L513`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) > 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L529`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L544`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L574`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED


class TestLSPQueryCheck:
    """Tests for LSP/pyright type checking."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L602`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.PASSED
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L634`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.FAILED
        assert len(result.errors) > 0


if __name__ == "__main__":'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L199`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L213`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L219`
  - todo comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L173`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L189`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L205`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L225`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L244`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L262`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L276`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L293`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L310`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L326`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L343`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L368`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L389`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L478`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L497`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L512`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L528`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L543`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L573`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L36`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L56`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L74`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L92`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L132`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L153`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L411`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L428`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L445`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L463`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L601`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L633`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tests/unit/tools/test_verification_runner.py`** (51 violations)

- ğŸ”µ **single-responsibility-modules** at `L18`
  - Class 'TestVerificationRunnerInit' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L83`
  - Class 'TestVariableSubstitution' has 6 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L131`
  - Class 'TestProfileManagement' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **single-responsibility-modules** at `L335`
  - Class 'TestRunCheck' has 5 methods (max: 3)
  - ğŸ’¡ *Split modules with too many classes into focused single-class modules*
- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*
- ğŸ”µ **no-bare-assert** at `L24`
  - Forbidden pattern found: '
        assert runner.project_root == tmp_path
        assert runner.config_path == tmp_path / "config" / "correctness.yaml"'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L35`
  - Forbidden pattern found: '
        assert runner.config_path == config_path
        assert runner.config == correctness_config
        assert len(runner.config["checks"]) == 4
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L54`
  - Forbidden pattern found: '        assert runner._pyright_runner is None

        # Loaded on first access
        pyright = runner.pyright_runner
        assert pyright is not None
        assert runner._pyright_runner is not None

        # Same instance returned
        assert runner.pyright_runner is pyright
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L67`
  - Forbidden pattern found: '
        assert runner._command_runner is None
        command = runner.command_runner
        assert command is not None
        assert runner.command_runner is command
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L76`
  - Forbidden pattern found: '
        assert runner._ast_checker is None
        ast = runner.ast_checker
        assert ast is not None
        assert runner.ast_checker is ast


class TestVariableSubstitution:
    """Tests for variable substitution in templates."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L92`
  - Forbidden pattern found: '        assert result == "Build /path/to/project"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L100`
  - Forbidden pattern found: '        assert result == "test v1.0"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L107`
  - Forbidden pattern found: '        assert result == "plain text"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L114`
  - Forbidden pattern found: '        assert result == "Hello {missing}"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L121`
  - Forbidden pattern found: '        assert result is None
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L128`
  - Forbidden pattern found: '        assert result == ""


class TestProfileManagement:
    """Tests for profile and check management."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L137`
  - Forbidden pattern found: '
        assert len(checks) == 1
        assert checks[0]["id"] == "test_command_success"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L144`
  - Forbidden pattern found: '
        assert len(checks) == 3
        check_ids = [c["id"] for c in checks]
        assert "test_command_success" in check_ids
        assert "test_regex_match" in check_ids
        assert "test_file_exists" in check_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L155`
  - Forbidden pattern found: '
        assert "Unknown profile" in str(exc_info.value)
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L161`
  - Forbidden pattern found: '
        assert len(checks) == 2
        check_ids = [c["id"] for c in checks]
        assert "test_command_success" in check_ids
        assert "test_file_exists" in check_ids
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L170`
  - Forbidden pattern found: '
        assert len(checks) == 1
        assert checks[0]["id"] == "test_command_success"


class TestRunProfile:
    """Tests for running profiles."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L188`
  - Forbidden pattern found: '        assert report.profile == "quick"
        assert report.total_checks == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L199`
  - Forbidden pattern found: '
        assert report.duration_ms >= 0
        assert report.timestamp is not None


class TestRunChecks:
    """Tests for running checks."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L215`
  - Forbidden pattern found: '
        assert report.total_checks == 4  # All checks from fixture
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L226`
  - Forbidden pattern found: '
        assert report.total_checks == 1


class TestDependencyOrdering:
    """Tests for check dependency ordering."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L245`
  - Forbidden pattern found: '        assert len(report.results) == 2
        assert report.passed == 2
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L269`
  - Forbidden pattern found: '
        assert report.skipped >= 1
        skipped_result = [r for r in report.results if r.check_id == "child"][0]
        assert skipped_result.status == CheckStatus.SKIPPED
        assert "dependencies" in skipped_result.message.lower()


class TestFailFast:
    """Tests for fail-fast behavior."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L300`
  - Forbidden pattern found: '
        assert report.failed == 1
        assert report.skipped >= 1
        assert not report.is_valid
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L331`
  - Forbidden pattern found: '
        assert call_count[0] == 2  # Both checks ran


class TestRunCheck:
    """Tests for single check execution."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L350`
  - Forbidden pattern found: '        assert result.check_id == "test"
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L357`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.ERROR
        assert "Unknown check type" in result.message
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L368`
  - Forbidden pattern found: '
        assert result.status == CheckStatus.ERROR
        assert "exception" in result.message.lower()
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L382`
  - Forbidden pattern found: '
        assert result.duration_ms >= 0
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L398`
  - Forbidden pattern found: '
        assert result.fix_suggestion == "Run the build"


class TestReportGeneration:
    """Tests for report generation."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L422`
  - Forbidden pattern found: '
        assert report.passed == 1
        assert report.failed == 1
        assert report.skipped == 1
        assert report.errors == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L440`
  - Forbidden pattern found: '
        assert not report.is_valid
        assert report.blocking_failures == 1
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **no-bare-assert** at `L456`
  - Forbidden pattern found: '
        assert report.is_valid
        assert report.advisory_warnings == 1


class TestCheckHandlerDispatch:
    """Tests for check handler dispatch table."""
'
  - ğŸ’¡ *Add assertion message: assert x == y, 'Expected x to equal y'*
- ğŸ”µ **parametrize-similar-tests** at `file`
  - Required pattern not found: '@pytest\.mark\.parametrize'
  - ğŸ’¡ *Use @pytest.mark.parametrize for data-driven tests*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **require-lineage-metadata-python** at `L1`
  - File missing lineage metadata (no audit trail)
  - ğŸ’¡ *Add lineage header to file:
# @spec_file: .agentforge/specs/your-spec-v1.yaml
# @spec_id: your-spec-v1
# @component_id: component-name
# @impl_path: path/to/implementation.py
Or regenerate file through TDFLOW to get proper lineage.*
- ğŸ”µ **descriptive-naming** at `L91`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L99`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L106`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L113`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L120`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L127`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L356`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L347`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L367`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L381`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*
- ğŸ”µ **descriptive-naming** at `L397`
  - Variable name 'result' is generic
  - ğŸ’¡ *Name should describe what the variable contains*

**`tmp073rxejp.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp0zkwrqmi.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp1s69fvb5.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp3h_ac_95.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp4ojl_57x.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp6pai7up3.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp7x5aem_y.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp8ul5zjqx.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmp9n2q8yrr.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpblzzdxm7.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpbz8w5wdz.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpcdwa5_nw.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmphu3vqfq9.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmprh1vtd6i.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpt07yy9w2.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpuig_i7kl.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmput11n39c.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpwj064u_e.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpx18_8ag1.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpxbjo0zb3.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpyzjsu7g4.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`tmpz1bgm52e.py`** (1 violations)

- ğŸ”µ **consistent-type-imports** at `file`
  - Required pattern not found: 'if TYPE_CHECKING:'
  - ğŸ’¡ *Use 'if TYPE_CHECKING:' for type-only imports to avoid circular imports*

**`workflows/spec_workflow.yaml`** (14 violations)

- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L404`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸŸ¡ **todo-requires-ticket** at `L406`
  - TODO comment without ticket reference
  - ğŸ’¡ *Add ticket reference (e.g., TODO(AB#1234): ...)*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*
- ğŸ”µ **file-structure** at `file`
  - Spec-like file outside .agentforge/specs/
  - ğŸ’¡ *Move spec files to .agentforge/specs/*

</details>

---
*Generated at 2026-01-03 16:05:42 UTC*
*Commit: `30351a21`*