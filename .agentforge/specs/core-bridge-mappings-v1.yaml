# ═══════════════════════════════════════════════════════════════════════════════
# Specification: core_bridge_mappings
# ═══════════════════════════════════════════════════════════════════════════════
# Generated: 2026-01-01T16:07:58.968835
# Generator: brownfield-discovery
# ═══════════════════════════════════════════════════════════════════════════════

spec_id: core-bridge-mappings-v1
name: core_bridge_mappings
version: '1.0'
status: as-built
schema_version: '2.0'
generated_at: '2026-01-01T16:07:58.968835'
generated_by: brownfield-discovery
description: Specification for src/agentforge/core/bridge/mappings
components:
- name: base
  component_id: bridge-mappings-base
  location: src/agentforge/core/bridge/mappings/base.py
  test_location: tests/unit/tools/test_contracts_execution_naming.py
  description: 'Pattern Mapping Base Class

    ==========================


    Abstract base class for pattern-to-check mappings.

    Each mapping transforms a discovered pattern into conformance checks.'
  entities:
  - name: PatternMapping
    type: class
    line_number: 20
    description: "Abstract base class for pattern-to-check mappings.\n\nEach mapping:\n\
      1. Declares which patterns it handles (pattern_key)\n2. Declares which languages\
      \ it applies to (languages)\n3. Implements matches() to determine if it should\
      \ run\n4. Implements get_templates() to return check templates\n5. Optionally\
      \ overrides generate() for custom logic\n\nExample:\n    class CQRSMediatRMapping(PatternMapping):\n\
      \        pattern_key = \"cqrs\"\n        languages = [\"csharp\"]\n\n      \
      \  def matches(self, context: MappingContext) -> bool:\n            return (\n\
      \                context.is_pattern_detected(\"cqrs\") and\n               \
      \ context.get_pattern_primary(\"cqrs\") == \"MediatR\" and\n               \
      \ context.get_pattern_confidence(\"cqrs\") >= 0.5\n            )\n\n       \
      \ def get_templates(self, context: MappingContext) -> List[CheckTemplate]:\n\
      \            return [\n                CheckTemplate(\n                    id_template=\"\
      {zone}-cqrs-command-naming\",\n                    name=\"CQRS Command Naming\"\
      ,\n                    ...\n                ),\n            ]"
    methods:
    - matches
    - get_templates
    - generate
    - get_info
    test_methods: []
- name: registry
  component_id: bridge-mappings-registry
  location: src/agentforge/core/bridge/mappings/registry.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'Mapping Registry

    ================


    Registry for pattern-to-check mappings.

    Provides decorator-based registration and lookup.'
  entities:
  - name: MappingRegistry
    type: class
    line_number: 15
    description: "Registry for pattern mappings.\n\nUsage:\n    @MappingRegistry.register\n\
      \    class MyMapping(PatternMapping):\n        pattern_key = \"my_pattern\"\n\
      \        ...\n\n    # Later\n    mappings = MappingRegistry.get_mappings_for_language(\"\
      csharp\")"
    methods:
    - register
    - get_all_mappings
    - get_mappings_for_language
    - get_mappings_for_pattern
    - get_mapping_info
    - generate_checks
    - clear
    test_methods: []
- name: cqrs
  component_id: bridge-mappings-cqrs
  location: src/agentforge/core/bridge/mappings/cqrs.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'CQRS/MediatR Pattern Mappings

    =============================


    Mappings for CQRS pattern detection, particularly MediatR-based implementations.'
  entities:
  - name: CQRSMediatRMapping
    type: class
    line_number: 16
    description: 'CQRS with MediatR implementation.


      Generates checks for:

      - Command naming (ends with ''Command'')

      - Query naming (ends with ''Query'')

      - Handler naming (ends with ''Handler'')

      - Commands implement IRequest'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: CQRSGenericMapping
    type: class
    line_number: 114
    description: 'Generic CQRS pattern (non-MediatR).


      Generates basic naming checks only.'
    methods:
    - matches
    - get_templates
    test_methods: []
- name: __init__
  component_id: bridge-mappings-__init__
  location: src/agentforge/core/bridge/mappings/__init__.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'Pattern Mappings

    ================


    Mappings that transform discovered patterns into conformance checks.


    Each mapping:

    1. Declares which patterns it handles

    2. Implements matches() to determine applicability

    3. Implements get_templates() to return check templates


    Available mappings are auto-registered via the @MappingRegistry.register decorator.'
  entities: []
- name: conventions
  component_id: bridge-mappings-conventions
  location: src/agentforge/core/bridge/mappings/conventions.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'Convention Pattern Mappings

    ===========================


    Mappings for naming conventions, coding standards, and language-specific patterns.'
  entities:
  - name: InterfacePrefixMapping
    type: class
    line_number: 16
    description: 'Interface I-prefix convention (C#).


      Enforces interfaces start with ''I'' followed by capital letter.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: AsyncSuffixMapping
    type: class
    line_number: 67
    description: 'Async method suffix convention.


      Enforces async methods end with ''Async''.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: ResultPatternMapping
    type: class
    line_number: 114
    description: 'Result<T> error handling pattern.


      Enforces use of Result<T> or similar for error handling.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: PytestMarkersMapping
    type: class
    line_number: 174
    description: 'pytest markers convention.


      Enforces use of pytest markers on test functions.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: TypeHintsMapping
    type: class
    line_number: 221
    description: 'Python type hints convention.


      Enforces use of type hints on function signatures.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: DDDValueObjectMapping
    type: class
    line_number: 265
    description: 'DDD Value Object pattern.


      Enforces value object immutability and equality.'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: DDDEntityMapping
    type: class
    line_number: 305
    description: 'DDD Entity pattern.


      Enforces entity identity patterns.'
    methods:
    - matches
    - get_templates
    test_methods: []
- name: architecture
  component_id: bridge-mappings-architecture
  location: src/agentforge/core/bridge/mappings/architecture.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'Architecture Pattern Mappings

    =============================


    Mappings for architectural patterns like Clean Architecture,

    Hexagonal Architecture, and layer dependency enforcement.'
  entities:
  - name: CleanArchitectureMapping
    type: class
    line_number: 17
    description: 'Clean Architecture layer enforcement.


      Generates checks for:

      - Domain layer isolation (no outer dependencies)

      - Application layer isolation (only depends on Domain)

      - Presentation no direct Infrastructure access'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: HexagonalArchitectureMapping
    type: class
    line_number: 110
    description: 'Hexagonal/Ports & Adapters Architecture enforcement.


      Generates checks for:

      - Core/Domain isolation

      - Adapter implementations

      - Port interface definitions'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: LayerViolationMapping
    type: class
    line_number: 174
    description: 'Generic layer violation detection based on discovered layers.


      Works with any layer structure found in the profile.'
    methods:
    - matches
    - get_templates
    test_methods: []
- name: repository
  component_id: bridge-mappings-repository
  location: src/agentforge/core/bridge/mappings/repository.py
  test_location: tests/unit/tools/bridge/test_registry.py
  description: 'Repository Pattern Mappings

    ===========================


    Mappings for Repository pattern enforcement.'
  entities:
  - name: RepositoryPatternMapping
    type: class
    line_number: 16
    description: 'Repository pattern enforcement.


      Generates checks for:

      - Repository interface naming (I*Repository)

      - Repository implementations in Infrastructure layer'
    methods:
    - matches
    - get_templates
    test_methods: []
  - name: GenericRepositoryMapping
    type: class
    line_number: 80
    description: 'Generic Repository pattern (base class).


      Detects use of generic repository pattern.'
    methods:
    - matches
    - get_templates
    test_methods: []
